# 📅 2023-06-25 はじめに

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　２Ｄ　ＲＰＧ　制作ツールを作ろうぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　なんで　お父んが　そんなこと　しなければならないのか？  
働けだぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　思いついたら　やるんでしょ。  
そこらへんの　凡人と同じよ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　それより　作業用ＢＧＭ　かけようぜ？　気分を盛り上げないとな」  

💿 [Rockman ロックマン 11 [OST] Full Album](https://www.youtube.com/watch?v=YQOFjkWvRBs)  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　それは作業用ＢＧＭではなく、違法アップロード動画なのでは？」  

![202306__photo__24--Rockman11.jpg](https://crieit.now.sh/upload_images/cc54f960e67d5e17ae1e70b9125f4df26496c502e9f26.jpg)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　サイドＰＣを　Ubuntu　に差し替えたんで　Steam　を久しぶりに動かしてみたら、動いたんで驚いたぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　えっ？　ＲＰＧ制作ツールを作るのに　作業用ＢＧＭが　ロックマン１１　でいいのかだぜ？？」  

## MAUI を調べろだぜ

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　企画と　アーキテクチャーを　長々と　説明しても　あれなんで……  
MAUI を調べようぜ？」  

📖 [.NET MAUI (環境構築からHallo, World!～Windowsアプリ編～)](https://qiita.com/kashin777/items/eae43a555dc28867926f)  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　プラン全部　飛ばしたな。もう作業か」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　あんたのお父ん　ノー・プランよ。  
ウォーター・フォール・モデルの下流工程の　**実装**　という狭い範囲でしか仕事できないんだから。  
あと　事務と経理」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　それって　羨ましがられるらしいぜ。　いーな、コードばかりやってて、と」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　なんか　知らん間に　Windows の **開発者モード** というのが　オフ　にされているらしく、  
これを　オン　にして　ビルド」  

![202306_maui_24-1920--hello-world.png](https://crieit.now.sh/upload_images/ae92a352bfab9fac23739915bb9d06776496c3c428262.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　これが　MAUI　を実行した画面か～。　なんなんだろうな　これ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　何も分からん。　ロードマップもない」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　`Click me` を押したら　ボタンを押した回数が出てくるぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　こっから　ツールを組み立てていくの、気が遠くなるわね～」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　タイトル画面なんか作らずに　メニューがさっさと出てきたら　良くね？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　お父んがよく選ぶのは　家系二郎ラーメン、　塩ラーメン、　レモンサワー」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　今日は　ネギ・ラーメン　にしようぜ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　メニューって、そのメニューなの？」

![202306_maui_24-1939--negiramen.png](https://crieit.now.sh/upload_images/85d448436de2ee8bdbebbd35fea8fda76496c7fe11a46.png)  

👆　[2D-RPG-Negiramen](https://github.com/muzudho/2D-RPG-Negiramen)  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👆　リポジトリ―は　作っておいたぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　ネギ・ラーメンは　リポジトリ―の名前じゃなくない？」  

![202306_maui_24-1941--title image.png](https://crieit.now.sh/upload_images/b97b87e7de3c8c7a2dac34effe6936076496ca3cbaf3c.png)  

使用フォント：　📖　[たぬき油性マジック](https://tanukifont.com/tanuki-permanent-marker/)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　こんな感じの　ファースト・ビュー　でどうだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　縦スクロール・バーは　付けておいてくれだぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　いいのか　よくないのか　分かんないから　さっさと作って　動かしてみましょう！」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　アラートが出てきたぜ。ここ読めだって」  

📖　[Build your first app](https://learn.microsoft.com/en-us/dotnet/maui/get-started/first-app?tabs=vswin&pivots=devices-android)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　わたしが　やりたいことを　説明してくれるのではなく、  
マイクロソフトが　説明したいことを　説明してくるので　つらいぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　画面にボタンを置きなさいよ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　どこを読めばいいのか　分からない、ドキュメントとの戦いだぜ」  

📖　[Customize the app shell](https://learn.microsoft.com/en-us/dotnet/maui/tutorials/notes-app/?tutorial-step=2)  

![202306_maui_24-2022--title-menu.png](https://crieit.now.sh/upload_images/0b1909f16a43d7eeb0c51e447a7a95736496d217ce30b.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　様々な概念が分からなかったが作った、とりあえず　これで」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　じゃあ　とりあえず　マップを作る画面に進みなさいよ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　？？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　画面遷移って　どうやって　やるんだ……？？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　これでも読めだぜ」  

📖 [.NET MAUI (いろんな画面遷移)](https://qiita.com/kashin777/items/2f1abcba9c8fa02b592c)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　うーん？」  

![202306_maui_24-2042--app-shell-o2o0.png](https://crieit.now.sh/upload_images/5839fb5ceef097452e77a24b23b1adea6496d6e4a003c.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　`AppShell.xml`　というのを　何か設定しないといけない？」  

![202306_maui_24-2051--create-map-page-view.png](https://crieit.now.sh/upload_images/19cac8b8101b30e6e92873b6df50f5826496d9100dd5c.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　とりあえず　画面遷移は　できたぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　どうやって　ＨＯＭＥに戻るんだぜ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　パンくずリスト　が有ったらいいんじゃない？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　パンくずリストのような機能は用意されているのではなく、自力で作らないといけないらしいぜ」  

📖　[.NET Maui Tabs with Breadcrumb Navigation](https://stackoverflow.com/questions/74757711/net-maui-tabs-with-breadcrumb-navigation)  

![202306_maui_24-2114--breadcrumb-list.png](https://crieit.now.sh/upload_images/04929fb38a8472e03c6b2e32ff5a7f876496de48a2b44.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　作り方　分からんので　とりあえず　ボタンとラベルで」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　じゃあ次は　戦闘を作る画面に進みなさいよ」  

![202306_maui_24-2123--create-battle-view-page.png](https://crieit.now.sh/upload_images/f724f2677c0c038e726424f9db3a20016496e0772c32d.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　同様だぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　じゃあ　残りも　以下同様で　やってくれだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　つら」  

![202306_maui_24-2302--xaml-o2o0.png](https://crieit.now.sh/upload_images/330a545ed654f0592934639f69ffcf376496f7bfeb6bd.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　`.xaml` ファイル増えてきて　邪魔なんだけど、置き場フォルダーは　どう作るのが　ベストプラクティス　なんだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　調べろだぜ」  

📖　[MAUI(WinUI3)でMVVMを超単純にやる](https://qiita.com/todu/items/699e5a6abd936421309f)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　Qiita の素人記事読むぐらいだったら　公式読むぜ」  

📖　[Microsoft　＞　Upgrade your app with MVVM concepts](https://learn.microsoft.com/en-us/dotnet/maui/tutorials/notes-mvvm/)  

![202306_maui_24-2318--views-o2o0.png](https://crieit.now.sh/upload_images/bb76ed4804b6f14a69d37e5a681e640d6496fb6d3f952.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　こうすりゃいいのか」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　`MainPage.xaml` も 📂 `Views` フォルダーに入れろだぜ」  

## エクスプローラーが要るんじゃないか？

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　お父ん。  
プレイヤー・キャラクター編集画面に入る前に、  
どのプレイヤー・キャラクターを編集するのか　選択する画面が　要るんじゃないか？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　あっ、そうか！  
ほとんどの　データ編集ページで　リストが要るぜ！」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　リストでいいの？  
テーブルじゃなくて　いいの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ　エクスプローラー　だ。  
MAUI にそんなコントロール　あるかな？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　お父ん。コレクション・ビューと、テーブル・ビューを調べてみてくれだぜ」  

📖　[.NET MAUI (UIコントロール)](https://qiita.com/kashin777/items/cb200af6d4f00cc88a63)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　だから　素人が書いた記事なんか　読まねーっつーの」  

📖　[Microsoft　＞　CollectionView](https://learn.microsoft.com/en-us/dotnet/maui/user-interface/controls/collectionview/)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　なんか知らんが　`ListView` より　かっこいいのが　`CollectionView` らしいぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　考えるの止めるの　わらう」  

📖　[Microsoft　＞　TableView](https://learn.microsoft.com/en-us/dotnet/maui/user-interface/controls/tableview)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　コレクション・ビューを使うべきか、テーブル・ビューを使うべきの判断方法が分からん」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ページネーション（Pagination；ページ割り）の機能は付いているのかだぜ？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　調べたいことが　出てこないのが　マイクロソフトの　ドキュメントなんだぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　マイクロソフトの　Bing　の人工知能に利いても　MAUI　がなんだか分かってないし」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ、ページネーションも　自力実装することにしよう」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　そうであるなら、クリテリア（Criteria；判断基準）が必要だぜ。  
どのような規則に従って整列しているか、  
表示されているデータは　何件目～何件目までのデータか、  
表示されているのは　何ページ目か、  
昇順か逆順か、  
フィルタリングされているか」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　無いものを　自力実装するのが　プログラマーだぜ。  
必要だったら　片っ端から　実装していけばいいんだぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　迷ったら　テーブル・ビューと　コレクション・ビューの両方実装すりゃいいのよ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　ぬぎぎぎぎ！」  

![202306_maui_25-0041--home.png](https://crieit.now.sh/upload_images/a1f78ded35ca26ebd4c2a21ba10d532564970f24880bf.png)  

![202306_maui_25-0042--map-explorer.png](https://crieit.now.sh/upload_images/f7fa2f745b99c523b470ba7eb3b66f1f64970f2d0332f.png)  

![202306_maui_25-0043--create-map.png](https://crieit.now.sh/upload_images/c81a96f9f4ace9f2ffc4205a36cef01364970f3695130.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　こういう風に　途中に　検索ページを１枚　挟めばいいんだろ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　デザインを分かってないエンジニアが作りがちな検索画面だぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　ぬぎぎぎぎ！」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　動いているところを見ないと　よく分かんないから、  
明日は　動くところを作ってみましょう」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　ライセンスが　オープンソースの　２Ｄ　ＲＰＧの素材　なんも　持ってねー　ぬぎぎぎぎぎ！」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　あっ！　**ゲームとして利用するならフリーだが、素材集を　ツールに同梱して　そのまま再配布することを許可している素材が無いのか！**」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　当然よねえ」  

## Unity プロジェクトを作ろうぜ？

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　まあ　無いものは無いで　変数ｘ　とでも置いておいて　解けるところから先に解くのが　数学だぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　それを問題の先送りと言う」  

![202306_maui_25-0418--unity-project-o2o0.png](https://crieit.now.sh/upload_images/abf13bd281298f429e57efd366fe8a0e649741edea122.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　テンプレートは　**２D**　を選び、プロジェクト名は **Negiramen Practice** にして  
プロジェクトを作成しようぜ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　ネギラーメンでは、それが何だか　分かんなくない？  
検索のサジェスチョンも汚すし」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　聞き慣れてくれば　イカしてくるぜ」  

![202306_maui_25-0427--2D-o2o0.png](https://crieit.now.sh/upload_images/cb8a80f81c28d90c3a0cd3d00d0c3f1e649743fb8b4d7.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　なんか最初から　いろんなものが入っている……、ちょっと見てみるか……」    

![202306_maui_25-0432--2D-Editor.png](https://crieit.now.sh/upload_images/fd6d85d3f0cd08ea624600a258213cd764974512580ed.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　多分　エディターなんだと思うんだが、この１つ１つを調べて行くか」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　お父んが作らなくても、すでに　いいものがあるのでは？」  

📖 [TileMapEditorはいいぞ！](https://qiita.com/RyotaMurohoshi/items/f9a10db24ea9378d47f7)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　オープンソースだけで　やりたいぜ」  

![202306_maui_25-0449--OverwriteProjectToUnity-o2o0.png](https://crieit.now.sh/upload_images/4a2b47916a48a3acdbbbd0a8f6f75fc164974929477f8.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ちょっと　ボタンを追加しよう」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　それで……、テキスト・ボックスって　どうやって作るんだ？　調べるか……」  

📖　[Microsoft　＞　入力](https://learn.microsoft.com/ja-jp/dotnet/maui/user-interface/controls/entry)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　`Entry` というタグがあるのか」  

![202306_maui_25-0500--OverwriteProjectToUnityPage.png](https://crieit.now.sh/upload_images/25f4051d2808773ea00e242d3e8b78e364974b8dc8e3b.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　それで　こういうページ作るだろ。  
ディレクトリー・パスを入れて　ボタンを押すと……」  

![202306_maui_25-0540--Folders-o2o0.png](https://crieit.now.sh/upload_images/ee7071e309c6fa3adaa35a07964576a06497554762594.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　Unity プロジェクトへ　フォルダーや　ファイルを送り付けるという算段だぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　Unity の外部で　ゲーム・オブジェクトを作れるの？  
Unity の外部で　プレファブは作れるの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　Unity に　そういう　ＡＰＩ　があるか？　ということだな。  
調べてみようぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　そんなことを　しようという人が少ないのか　記事が見当たらないな」  

## 設定の保存を作れだぜ

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　毎回　📂 `Assets` フォルダーへのパスを入れるのが　面倒なんだけど？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　ユーザー・データとして保存したいよな。  
最近流行りのファイル形式は何だぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　TOML 1.0 はどうだぜ？」  

📖　[公式　＞　toml](https://github.com/toml-lang/toml/wiki)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　Tomlyn を NuGET で入れてみるか」  

📖　[Tomlyn](https://github.com/xoofx/Tomlyn)  

## MVVM

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　あれっ？」  

![202306_maui_25-1459--text-box-default-o2o0.png](https://crieit.now.sh/upload_images/c2e22ea1ecfe5617dfa3a5a51878509a6497d83ed2201.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　このテキスト・ボックスの初期値って　どうやって　入れるんだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　お父んが　さっき読んでいた記事に書いてあるだろ。 MVVM のところを読み直せだぜ」  

📖　[Microsoft　＞　Upgrade your app with MVVM concepts](https://learn.microsoft.com/en-us/dotnet/maui/tutorials/notes-mvvm/)  

![202306_maui_25-1508--MVVM.png](https://crieit.now.sh/upload_images/b92492bfd9e12e4e78cededee82797d26497d9f92dac0.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　とりあえず　📂 `Views` 、 📂 `ViewModels` 、 📂 `Models`　の３フォルダーを揃えよう」  

![202306_maui_25-1518--model-o2o0.png](https://crieit.now.sh/upload_images/6e271686644c51e40fd8a76b6302d5e96497ddac6c8de.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　なんだか分からないが　Model　は　ただのオブジェクトだろ。イミュータブルに作ったった」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　ViewModel　は　なんか複雑だな　説明を　よく読も」  

📖　[Create the About viewmodel](https://learn.microsoft.com/en-us/dotnet/maui/tutorials/notes-mvvm/?tutorial-step=4)  

![202306_maui_25-1613--viewModel-o2o0.png](https://crieit.now.sh/upload_images/88a3db11149efb1bf819bb67fa4339e26497e9410c31d.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ViewModel　は　Model　と　変更通知プロパティ　を紐づければいいんだろ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ビュー・モデルのデフォルト・コンストラクターは public 修飾にする必要があるぜ」  

![202306_maui_25-1627--View-o2o0.png](https://crieit.now.sh/upload_images/b09892288a97de3f53119d7043bec5f96497ecc95d14e.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　View　は　ここまで書き足したぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　ボタンは　コマンドで書き直す必要があるんじゃない？」  

![202306_maui_25-1646--Command-o2o0.png](https://crieit.now.sh/upload_images/c040e3e89ac58a9f8c17c91ecedafc966497f1280dfd8.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ViewModel　に　コマンドを取り付け。  
ビュー・モデルは　MVVMアーキテクチャーの中で　雑用とか、アシスタント・ディレクターの役割を担当するんだな」  

![202306_maui_25-1657--View-o2o0.png](https://crieit.now.sh/upload_images/7d16c5aa2b5b004595041c770c975dee6497f39425a5b.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　View　も更新。  
イベントハンドラを消し、コマンドを追加」  

## ユーザー・データをどこに保存するか？

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　いろいろなフォルダーに　ユーザー・データは保存できるが、どこにするんだぜ？」  

📖　[特殊ディレクトリのパスを取得する](https://dobon.net/vb/dotnet/file/getfolderpath.html)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　ユースケースによる。  
２Ｄ　ＲＰＧ　を開発するような　アクターは、  
いつも　同じ部屋で　同じ１台のパソコンを使って　１人で開発している、という状況設定を押し付けることにしようぜ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　それ以上のものを要求するユーザーは　ネギラーメン　ではなく  
もっと　金出して　高級な開発ツールを使えばいいのよ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　そりゃそうだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ　LocalApplicationData　だな」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　あれっ？」  

```plaintext
　　C:
　　└── 📂 Users
　　　　└── 📂 {ユーザー名}
　　　　　　└── 📂 AppData
　　　　　　　　└── 📂 Local
👉 　　　　　　　　└── 📂 Muzudho
　　　　　　　　　　　　└── 📂 2D RPG Negiramen
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　他人のローカルＰＣに　わたしの名前のフォルダーが　ポコポコできるの　嫌なんだが……」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　屋号、　サークル名、　ホームページ名など　いろいろあるけど」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　仕事で金取ってないし　屋号もおかしいしな」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　サークル名が　一番良いのでは？」  

```plaintext
　　C:
　　└── 📂 Users
　　　　└── 📂 {ユーザー名}
　　　　　　└── 📂 AppData
　　　　　　　　└── 📂 Local
👉 　　　　　　　　└── 📂 Doujin Circle Grayscale
　　　　　　　　　　　　└── 📂 2D RPG Negiramen
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　`Grayscale` だけだと　何だか分からないので、  
かなり長いけど `Doujin Circle Grayscale` にしよう」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　ひねりのない　名前にするからよ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　あれっ！　MAUI　には　AppData 下の LocalFolder にアクセスする正式な方法が無い！」  

📖　[設定情報とデータの保存 (3/5)](http://libro.tuyano.com/index3?id=2596003&page=3)  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　マルチプラットフォームだから　Windows　のフォルダーにアクセスするのが　ナンセンスなんじゃないか？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　あっ、そうか～！」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　MAUI　は他の手段を用意しているのかしら？　調べなさい」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　知らんことばっかりなら　調べればいいだけだぜ」  

📖　[File system helpers](https://learn.microsoft.com/en-us/dotnet/maui/platform-integration/storage/file-system-helpers?tabs=windows)  

```cs
                string mainDir = FileSystem.Current.AppDataDirectory;
                // Example: `C:\Users\むずでょ\AppData\Local\Packages\1802ca7b-559d-489e-8a13-f02ac4d27fcc_9zz4h110yvjzm\LocalState`
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　UUID を含んだ文字の羅列になるらしい」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　それは　ネギラーメンを何回実行しても同じディレクトリー名になるのかだぜ？」  

```cs
string mainDir = FileSystem.Current.AppDataDirectory;
// Example 1回目: `C:\Users\むずでょ\AppData\Local\Packages\1802ca7b-559d-489e-8a13-f02ac4d27fcc_9zz4h110yvjzm\LocalState`
// Example 2回目: `C:\Users\むずでょ\AppData\Local\Packages\1802ca7b-559d-489e-8a13-f02ac4d27fcc_9zz4h110yvjzm\LocalState`
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　同じだぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　今どき　合理的な解決方法　してんのねー」  

![202306_maui_25-1954--save-config-file.png](https://crieit.now.sh/upload_images/aa8ee7b59466c8fda7fe2c9c4a66038364981d31e1a32.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　設定ファイルの保存の仕方は　覚え直した……。  
やり方ぜんぜん変わってた……」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　次は　そのファイルを読み取る方法を　覚え直せだぜ」  

## TOML形式ファイルを読み取ろうぜ？

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　もう１回　Tomlyn　の調べ直し」  

📖　[Tomlyn　＞　Documentation](https://github.com/xoofx/Tomlyn/blob/main/doc/readme.md)  

![202306_maui_25-2024--load-toml.png](https://crieit.now.sh/upload_images/99d20d8910e5832447e4950134c0ade56498242f58f8f.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　これで　Toml　も読み込めるぜ」  

![202306_maui_25-2026--memory-o2o0.png](https://crieit.now.sh/upload_images/dc077e79a069faa27b0affd8ffdb6ffe649824a3331f9.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　前に入力した内容も　フォームが覚えてくれるようになったから　楽になったぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　先送りにしていた　変数ｘ　は　どうすんの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　絵を描くツールも　Windows Paint　と、　GIMP　しかないしな……  
少し　ネットで調べる」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　特許が取られてるかどうか　分からん」

📖　[WOLF Editor 公式　＞　【ﾏｯﾌﾟﾁｯﾌﾟ素材はどういう風に作ればいいの？】](https://www.silversecond.com/WolfRPGEditor/Guide/MAKEMAT_004.html)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　ゲームの特許なんか調べてられん。　ページ開いて出てくるの、こんなんだぜ？」  

📖　[特開2007-244536](https://www.j-platpat.inpit.go.jp/c1800/PU/JP-2007-244536/E79286C057363216D5E71D8D82C3A60F5466927DAC084FBE9C97014C8B662FFE/11/ja)  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　じゃあ　訴えられて死ねだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「  
真理は　避けられず  
真実は　踏み込んだ者にしか見えず  
真相は　勝手なものである」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　ゲーム業界に首を突っ込みたかったら　死にましょう。  
生きて帰るな。代わりに　徹底的に世界を破壊しなさい」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　WOLF EDITOR のドキュメントが整理されているので、それ読む」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　ピクセル・アートを描くのに　良い無料のツールって　どんなのだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　有料のフォトショップしか　選択肢　無いのに……」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　こんなサイトがあった。後で調べよう」  

📖　[www.pixilart.com](https://www.pixilart.com/draw)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　マップ・タイルは　16 x 16 ピクセル・サイズが単位のようだぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　それを　どれぐらいのサイズのキャンバスの中に　敷き詰めんの？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　マルチ・プラットフォームなのだから、答えはないぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　Nintendo Switch　は、　1080 x 720　だそうだぜ。  
これを　参考に試算しよう」  

📖　[Nintendo　＞　Switch　＞　Technical Specs](https://www.nintendo.com/switch/tech-specs/)  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　タイル数で言うと、 67.5 x 45　枚だな。スクリーン上に　3037.5　枚のタイルがあるぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　一層で？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　オブジェクト数が　多い気がするけど、　ＲＰＧ　なら大丈夫なのかなあ？」  

## マップ・エディターの画面デザイン

![202306_maui_26-0312--map-editor.png](https://crieit.now.sh/upload_images/6ef16ba09a3988ffcfb25147f83c16aa6498849bafd25.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　マップ・エディターって　こんなレイアウトで　いいのかだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　違うんじゃないか？」  

![202306_maui_26-0318--map-editor-2.png](https://crieit.now.sh/upload_images/df66ea09812b6124f653d3e3957dfe2f6498862c4938f.png)  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👆　描画ツールが　いくつかあるんだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　描画ツールって　どんなけ　あるんだぜ？」  

![202306_maui_26-0318--map-editor-3.png](https://crieit.now.sh/upload_images/d927ca1a3044be961f15a20f3e520e60649888762a522.png)  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👆　分からん。これぐらいから　始めればどうか？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　境界線ペンの仕様が　はっきり分かんないかしら？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　オート・タイルか。　説明が　よく分かんないんだよな」  

![202306_maui_26-0358--auto-tile-4.png](https://crieit.now.sh/upload_images/fcbcef837936039d85a3e984eb1b964664989f5be3297.png)  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👆　お父んに　分かりやすいように　まとめたぜ。  
空間充填問題も　セル・オートマトンも　好きだろ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　うわっ　二ム計算みたいなの　出てきた」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　あー、はいはい、分かりました」  

![202306_maui_26-0504--auto-tile-5.png](https://crieit.now.sh/upload_images/5c6991ff6a6d52a54d728c03758279736498a248ee8da.png)  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　👆　こんな役割なのよ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　接続時だけでなく、切断時の再計算も大変そうだ」  

![202306_maui_26-0529--auto-tile-7.png](https://crieit.now.sh/upload_images/7803ee0cb7cc706250ac3d6d085a45406498a5df76c3a.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　でも　オート・タイルの仕様は　理解したな」  

# 📅 2023-06-26 素材が何もない

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　pixelart.com の使い方を練習する」  

📖　[www.pixilart.com](https://www.pixilart.com/draw)  

![202306_maui_26-1940--adventure-field.png](https://crieit.now.sh/upload_images/e4993a4e6ec072db8dcafbe69ba5014f64996b689e42d.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　あれっ？　64 x 64 pixel のつもりで描いたのに　でかいな……」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　1216 x 1216 pixel あるわよ？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ　使えないなあ」  

![202306_maui_26-1944--adventure-field.png](https://crieit.now.sh/upload_images/7a184b3af9015b62e7a795b16599b62364996c40edec0.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　Save じゃなく、 Download すればいいのか」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ　これを最初のマップタイルとして　MAUI　の画面に表示してみようぜ？」  

## 初期設定

![202306_maui_26-2031--startup-config.png](https://crieit.now.sh/upload_images/51c863a93677a1d9ba7d018d335ffd0b649979a2b5790.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　初期設定として　これだけ入力してくれないと　つらい」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　ほとんどの人は　ディレクトリー・パスも入力できず　投げるんじゃないの？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ファースト・ビューで　ユーザーが入力できるのは、  
自分の名前と　メール・アドレスぐらいだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ　ファースト・ビューのボタンを　クリックするところまでは  
設定無しで　行けるようにしよう。  
そこで何か　ボタンを押したら　初期設定画面へ」  

![202306_maui_27-0412--startup-configuration-page.png](https://crieit.now.sh/upload_images/a8edf5a6750f3134f704ddef7aada5266499e35ea38bc.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　パンくずリストで　どう表現したらいいんだぜ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　サイト・マップのツリー構造を崩したくないから、  
モーダル・ダイアログ・ボックス的に　ページ遷移せず出てくる　サブ・ウィンドウみたいにできないの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　やり方分からん。調査だな」  

# 📅 2023-06-27 モーダル・ダイアログボックスを作れるかだぜ？

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　マイクロソフトのドキュメントって、スクリーンショットを使った説明が　圧倒的に足りないよな」  

📖　[.NET MAUI ウィンドウ](https://learn.microsoft.com/ja-jp/dotnet/maui/fundamentals/windows)  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　じゃあ　まず　普通のサブ・ウィンドウを出して、閉じるところまで　やってくれだぜ」  

📖 [Opening a new window in MAUI](https://stackoverflow.com/questions/70866169/opening-a-new-window-in-maui)  

```cs
    /// <summary>
    /// ［ウィンドウ表示テスト］ボタン押下時
    /// </summary>
    /// <param name="sender">このイベントを呼び出したコントロール</param>
    /// <param name="e">この発生イベントの制御変数</param>
    private void TestShowWindowButton_Clicked(object sender, EventArgs e)
    {
        var secondWindow = new Window
        {
            Page = new StartupConfigurationPage
            {
                // ...
            },
            Width = 1200,
            Height = 400,
        };

        Application.Current.OpenWindow(secondWindow);
    }
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　これで　ウィンドウは　ポップアップされるけど、もっと簡単な書き方無いかなあ？」  

```cs
    /// <summary>
    /// ［ウィンドウ表示テスト］ボタン押下時
    /// </summary>
    /// <param name="sender">このイベントを呼び出したコントロール</param>
    /// <param name="e">この発生イベントの制御変数</param>
    async void TestShowWindowButton_Clicked(object sender, EventArgs e)
    {
        await Navigation.PushAsync(new StartupConfigurationPage());
    }
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　こう書くと　同じウィンドウで　ページだけ　スライドする演出付きで　切り替わるぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　戻るボタンも　付いてるし、こっちの方が　かっこいいわよ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　ウィンドウを閉じるボタンは、どう書くんだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　`Navigation.PopAsync();` じゃないのかだぜ？」  

📖　[.NET MAUI (いろんな画面遷移)](https://qiita.com/kashin777/items/2f1abcba9c8fa02b592c)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　ContentPage クラスを継承したコード・ビハインド　には　Navigation　書けるけど、  
ViewModel のプロパティーである Command にはどこから　Navigation　持ってくるんだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　Backwards Navigation があるんじゃないか？  
`await Shell.Current.GoToAsync("..");` を試せだぜ」  

📖　[Backwards navigation](https://learn.microsoft.com/en-us/dotnet/maui/fundamentals/shell/navigation#backwards-navigation)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　おー、戻れたぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　戻ったはいいけど、次の画面に進みたかったんだけど」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　グローバル変数で　進みたい画面を覚えさせとくかー」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　構成設定の要求を　ページ間に挟むのは　でけた」  

## タイル・マップを Unity の Assets フォルダー下へコピーしろだぜ

![202306_maui_27-2147--tile-map.png](https://crieit.now.sh/upload_images/97fa90cb563b7578b614ae1ddfc4cab8649adb0fd5598.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　この画像を　Unity の Assets フォルダーへコピーしたいけど……」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　この画像のファイル・パスって　どうやって指すんだぜ？  
カレント・ディレクトリー　どこよ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　指せるからこその Resources ディレクトリーなんじゃないの？  
Special Directory に無いの？」  

📖 [Windowsの既定のイメージ ディレクトリ](https://learn.microsoft.com/ja-jp/dotnet/maui/windows/platform-specifics/default-image-directory)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　`Application.ImageDirectory` を調べてみるかだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　XAML の中にしか書けないらしい」  

# 📅 2023-06-28 初期素材をどこに置くんだぜ？ 

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　ワーキング・ディレクトリーの設定方法を調べた方がいいのでは？」  

📖 [How to change the Current Working Directory of Maui Blazor App](https://stackoverflow.com/questions/74956504/how-to-change-the-current-working-directory-of-maui-blazor-app)  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　まず　`AppDomain.CurrentDomain.BaseDirectory`　が何を出力するか　調べてみてくれだぜ」  

![202306_maui_27-2252--base-directory-o2o0.png](https://crieit.now.sh/upload_images/c5fcf73a18d6d9e4b8e87c0d1ccb02aa649ae9cbcdb1c.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　bin ディレクトリーの方を向いていて、 Resources フォルダーなんか見にこないぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　じゃあ　マップ・タイル画像は　ネギラーメンの実行ファイルとは別に　配ったらいいんじゃないの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　Git Hub にでも置いとけば　拾っていくかな？」  

![202306_maui_27-2304--working-directory-o2o0.png](https://crieit.now.sh/upload_images/3a082e62b1f4933040a203924701f1d6649aecce32a55.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　とりあえず　ここに置いておくぜ」  

![202306_maui_28-0814--configuration.png](https://crieit.now.sh/upload_images/0adecef231b607343638cbbe9f9d67dd649b6df52f56e.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　さらに調整」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　ツクラーは　こんな設定　できないから　ＲＭＵは　全部入りのパッケージで売るのよ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　**ソフトを自分で選んで　インストールして　設定するような**  
**パソコンの正しい使い方をしたくないのが、　ツクラーだぜ**」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　ネギラーメンは　ツクラーの思想とは　おさらばだぜ。  
ネギラーメンは　ただの食材を　ユニティーにコピーする　トッピング・ソフト　だぜ」  

## コピーしろだぜ

![202306_maui_28-1929--Duplicator.png](https://crieit.now.sh/upload_images/e9c2b56496ee4d3c28a0d336f258fa15649c0c0ea5594.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　さらに調整。  
ハードコーディングしてしまったが、ただの `Copy` だぜ」  

## タイルを選ばせろだぜ

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　タイル・パレットを作ってみましょう。  
この画像を　MAUI　に表示して、草原、砂漠、岩、海を　クリックできるようにしましょう」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　このポップアップというやつは　画面上に　画像が浮くやつじゃないか？  
試してみようぜ？」  

📖 [マイクロソフト　＞　ポップアップ](https://learn.microsoft.com/ja-jp/dotnet/communitytoolkit/maui/views/popup)  
📖 [Microsoft　＞　Popup](https://learn.microsoft.com/en-us/dotnet/communitytoolkit/maui/views/popup)

![202306_maui_28-2053--CommunityToolkit-Maui-o2o0.png](https://crieit.now.sh/upload_images/bfdb5a5797404c34ca0560b50d510101649c1fc01ac74.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　なんの説明も無いが、このパッケージが要るのでは？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　全然　ビルド通らないなあ。調べるか」  

📖 [.NET MAUI Community Toolkit Popup PopupHandler is incompatible](https://stackoverflow.com/questions/72506202/net-maui-community-toolkit-popup-popuphandler-is-incompatible)  

![202306_maui_28-2108--MauiProgram-o2o0.png](https://crieit.now.sh/upload_images/a565cbb5a22a37ec08495ccd100fb3e2649c2311659b9.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　こんなん書く必要があるのかだぜ、分からんって」  

![202306_maui_28-2117--Popup.png](https://crieit.now.sh/upload_images/b448957cb7ad3de052ba4b462b8d7d62649c24f345a9c.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　思ってるのと違って　モーダル・ダイアログボックスみたいなのが　出てきたぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　画面の真ん中じゃなくて、ボタンをクリックしたマウスの近くに　出せないの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　分からん」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ポップアップではなく、サブ・ウィンドウにしろだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　くそっ」  

![202306_maui_28-2132--SubWindow.png](https://crieit.now.sh/upload_images/d88420c35746975b905745a8ee3151b6649c288a0e8de.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　サブ・ウィンドウを出すのは　前にやったんで」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　そこに　タイルの画像を表示しましょう！」  

![202306_maui_28-2144--Image-o2o0.png](https://crieit.now.sh/upload_images/2dcab1a7afaa1ad2df88be1d5c7f07d8649c2b7dd2087.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　こんな風に　絶対パス書いたら　画像出てくるかな？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　さっさと　試せだぜ」  

![202306_maui_28-2147--Image.png](https://crieit.now.sh/upload_images/087ce5c5b977b0fa465f41a500ca2cf3649c2c1e7fb58.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　出たけど　画像サイズが　さっぱり……」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　そのサイズを　ぴったり　合わせてくれだぜ」  

![202306_maui_28-2230--WidthHeight-o2o0.png](https://crieit.now.sh/upload_images/1e57f6f3832d16d9f84df18443692626649c3651e1d3b.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ウィトス（WIdth；横幅）と　ハイト（Height；縦幅）を　指定すればいいのか」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　なんか変なデバッグ用のツールバーと被ってるから　真ん中らへんに表示しましょう！」  

![202306_maui_28-2236--Grid.png](https://crieit.now.sh/upload_images/e8c5fc8dfeee179c7a92b9a8c050ebe6649c377ea3f82.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　グリッドを使って真ん中へ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　画像にマウスカーソルを合わせたら、枠が出るようにしてみてくれだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　オン・マウス・オーバー　みたいなイベントハンドラが無いか　探してみるかだぜ」  

📖 [Mouse hover detection in .NET MAUI](https://stackoverflow.com/questions/73088203/mouse-hover-detection-in-net-maui)  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　MAUI　は、スマホのようなタッチ・デバイスで使われることを想定していて、  
デスクトップのようなマウス操作は　想定していないそうよ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　クソじゃないか」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　マウス・カーソルの位置を取得できないか、調べてみてくれだぜ」  

# 📅 2023-06-29 マウス・キャプチャーしてくれだぜ

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　マウス・キャプチャー自体　どうやるんだぜ？」  

📖 [How to capture global touch events in MAUI app](https://stackoverflow.com/questions/71911160/how-to-capture-global-touch-events-in-maui-app)  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　MAUI には　マウス・キャプチャーは無いのよ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ　Windows プログラミングかだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　その前に　ジェスチャーを調べてくれだぜ」  

📖 [Recognize a tap gesture](https://learn.microsoft.com/en-us/dotnet/maui/fundamentals/gestures/tap)  

![202306_maui_29-0642--Gesture.png](https://crieit.now.sh/upload_images/dd634f13650e0594fb465b39776d1273649ca9555c19f.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　なんか　いっぱいある。  
この `PointerGestureRecognizer` とか　それっぽくないかだぜ？
👇　調べるか」  

📖 [Recognize a pointer gesture](https://learn.microsoft.com/en-us/dotnet/maui/fundamentals/gestures/pointer)  

## コマンドに引数をよこせだぜ

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　あれっ？　どうやって　コマンドに引数を渡すんだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　調べろだぜ」  

📖 [Microsoft　＞　Commanding](https://learn.microsoft.com/en-us/dotnet/maui/fundamentals/data-binding/commanding)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　WPF みたいなものんか？」  

![202306_maui_29-0709--MouseCapture-o2o0.png](https://crieit.now.sh/upload_images/68fb9a38b95e11395dc593993293c042649cafb6ce729.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　反応はしてるから、後は　引数を取りたいぜ。  
もう少し調べるか」  

📖 [Microsoft　＞　PointerGestureRecognizer.PointerMovedCommandParameter Property](https://learn.microsoft.com/en-us/dotnet/api/microsoft.maui.controls.pointergesturerecognizer.pointermovedcommandparameter?view=net-maui-7.0)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　パラメーターも　コマンドなんだ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　いや、取れない」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　何か無いか」  

📖 [.NET MAUI Custom control with command and parameters](https://stackoverflow.com/questions/74889265/net-maui-custom-control-with-command-and-parameters)  

![202306_maui_29-0738--Command-o2o0.png](https://crieit.now.sh/upload_images/f8dafd13b5f2867db83d002a1436ee01649cb6ae2f33c.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　このコマンドから、何か引数にアクセスできないか？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　コマンドは　実行することしか　できないわねえ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ　コマンドを使っちゃいけないんだ」  

![202306_maui_29-0759--Code-Behind-o2o0.png](https://crieit.now.sh/upload_images/1bb040e82be83c0fb097c83ad18c5097649cbb8d9a4f8.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　コード・ビハインド　を使うと　画像上の座標を取ることはできるが……」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　コード・ビハインドと　ビュー・モデルと　何の関係があるんだぜ？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　WPFの依存関係プロパティみたいなものがないか　調べてみるぜ」  

📖 [How to use DependencyProperty in Maui?](https://stackoverflow.com/questions/73384133/how-to-use-dependencyproperty-in-maui)  

📖 [Microsoft　＞　Bindable properties](https://learn.microsoft.com/en-us/dotnet/maui/fundamentals/bindable-properties)  

📖 [How can I bind a property to a view model in MAUI?](https://stackoverflow.com/questions/70347196/how-can-i-bind-a-property-to-a-view-model-in-maui)  

![202306_maui_29-0821--BindContext-o2o0.png](https://crieit.now.sh/upload_images/87d459ce067ff5dbea0cb45b7cd2796a649cc0bc4a4e6.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　コード・ビハインドから、ビューにバインドされてる　ビュー・モデル　取れた……。  
WPF の DataContext と同じ考えだ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　簡単ねえ」  

![202306_maui_29-0831--Method-o2o0.png](https://crieit.now.sh/upload_images/d39615ad5ffa875a7ed25468bee5da88649cc32390fd0.png)  

![202306_maui_29-0826--CoordinateOnTheImage-o2o0.png](https://crieit.now.sh/upload_images/91834b5c3894a174c69bd61ebabb549d649cc2666d183.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　画像上の座標　取れた……」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　それを　いったん　ウィンドウ上の座標に変換して、  
32 x 32 pixels サイズのタイルを囲む枠を　置いてくれだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　調べるか……」  

📖 [How to get MAUI UI element absolute coordinates](https://stackoverflow.com/questions/75587601/how-to-get-maui-ui-element-absolute-coordinates)  

![202306_maui_29-1936--CoordinateOnTheWindow-o2o0.png](https://crieit.now.sh/upload_images/a06de2f8a40e09a7393bde4f01d97f96649d5f4866ecf.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　画像の座標は取れるのか。だったら　それ使えばいいんじゃ……」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ　次は　枠を描こうぜ。  
MAUI の画面上に　矩形を描く命令　あるかだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　これを読めだぜ」  

📖 [Draw a rectangle](https://learn.microsoft.com/en-us/dotnet/maui/user-interface/graphics/draw#draw-a-rectangle)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　`canvas` って　どっから出てきたんだぜ？
👇　調べるか」  

📖 [.net MAUI: how to draw on canvas](https://stackoverflow.com/questions/71001039/net-maui-how-to-draw-on-canvas)  

![202306_maui_29-2135--CursorOnTile.png](https://crieit.now.sh/upload_images/6a8adf578fa1e9d55eb361231d9a01f1649d7ab3a20cd.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　赤い枠は出せたけど、位置調整が大変だ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　マウスカーソルは　１ピクセルずつ動いて欲しいけど、  
赤い枠は　３２ピクセルずつ　動いて欲しい」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　じゃあ　グリッド　が要るんだ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　センタリングされていて、座標計算が　めんどくさい」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　左上が基準で　いいんじゃない？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　なんで　`Alignment` じゃなくて `Options` って名前なんだ？」  

📖 [.NET MAUI コントロールの配置と配置](https://learn.microsoft.com/ja-jp/dotnet/maui/user-interface/align-position)  

![202306_maui_29-2155--Cursor.png](https://crieit.now.sh/upload_images/9c47d184c1f7b884ff1d0d9aeb6053c4649d7f5676550.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　例えば　こんな感じ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　それっぽく　なったわねえ」  

## 入力透過

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　タイル・マップを　クリックしたいのに、  
その上のカーソルが　邪魔なんだが」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　入力透過を使えだぜ」  

📖 [VisualElement.InputTransparent プロパティ](https://learn.microsoft.com/ja-jp/dotnet/api/microsoft.maui.controls.visualelement.inputtransparent?view=net-maui-7.0)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　よし、それでイケてるぜ」  

## マウス・クリックした座標から、カーソルの位置を算出しろだぜ

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　隣の砂漠をクリックしたら、タイル・カーソルがそこを指すようにしなさいよ」  

![202306_maui_29-2332--CursorCoord.png](https://crieit.now.sh/upload_images/41235ad7870711f5a831f4ad2af665ee649d9658dae58.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　グリッドが　３２ピクセル固定で　ハードコーディングして　いけたぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　じゃあ　そのタイルを　マップ・エディター　で使いたいけど、  
マップ・エディターが　まだ無いのよねえ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　じゃあ　明日から　マップ・エディター　だな」  

# 📅 2023-06-30 ツール・アイコンが欲しいぜ

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　ペンのアイコンの絵を描くぜ」  

📖　[www.pixilart.com](https://www.pixilart.com/draw)  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　無くていいのに……」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　気分が出る！」  

![202306_maui_30-1905--tool-box.png](https://crieit.now.sh/upload_images/5005075469e18b3f7c4634029811b48f649ea907e9fef.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　pixilart.com のツールに　グリッドのサイズ指定が無いから　枠線　引いてしまう」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　どの画像の　何個目のタイルを表示するのか　名前で指定できるようにしたくない？」

```plaintext
tool_box.pen
```

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　👆　カテゴリー名と、そのメンバーを　ドット・シンタックスで指定して」  

```plaintext
crop_image("tool_box.png", 0, 0, 32, 32)
```

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　👆　画像のロードまで　やってくれるような」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　じゃあ　ＣＳＶ形式で記録したらどうだぜ？」  

```csv
code           , file        ,  x,  y, width, height, comment
tool_box.pen   , tool_box.png,  0,  0,    32,     32, ペン
tool_box.eraser, tool_box.png, 32,  0,    32,     32, 消しゴム
tool_box.bucket, tool_box.png,  0, 32,    32,     32, 塗りつぶし
```

```csv
code                  , file               ,  x,  y, width, height, comment
adventure_field.grass , adventure_field.png,  0,  0,    32,     32, 草原
adventure_field.desert, adventure_field.png, 32,  0,    32,     32, 砂漠
adventure_field.rock  , adventure_field.png,  0, 32,    32,     32, 岩
adventure_field.sea   , adventure_field.png, 32, 32,    32,     32, 海
```

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👆　例は　こうだぜ」  

```plaintext
　　例：　C:\Users\むずでょ\Documents\GitHub\2D-RPG-Negiramen
　　└── 📂 Workspace
　　　　├── 📂 Assets
　　　　│ 　├── 📂 CSV
👉 　　│ 　│ 　└── 📄 tiles.csv
　　　　│ 　└── 📂 Image
　　　　│ 　　　└── 📄 tool_box.png
　　　　└── 📂 For Unity Assets
　　　　　　├── 📂 CSV
👉 　　　　│ 　└── 📄 tiles.csv
　　　　　　└── 📂 Images
　　　　　　　　└── 📂 Tile Set
　　　　　　　　　　└── 📄 adventure_field.png
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ツール・ボックスのアイコン・ファイルの置き場所は  
ネギラーメンの　📄 `Workspace/Assets/CSV/tiles.csv` でいいかな？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　他のフォルダーも　けっこう　いじるんだな」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　その　`tiles.csv`　を作るエディターが欲しいわよね」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　タイル・パレット編集画面、みたいなやつかだぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　どんな画面レイアウトだぜ？」  

## タイル・パレット編集画面を作ろうぜ？

![202306_maui_30-2021--tile-palette-editor-2.png](https://crieit.now.sh/upload_images/08ddfc30327f22a09527a986c28a0ab0649ec22d550ab.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　コメントを入力することを考えると、横に広く使いたいしな」  

![202306_maui_30-2200--tile-palette-editor.png](https://crieit.now.sh/upload_images/2c734aa1bcde4ca654ceecc2556ff644649ed22592445.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　こんな雰囲気で　どうだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　配色が　ＲＯＣＫＭＡＮ　だな」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　グリッドを引きなさいよ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　グリッド引くなら　ループ文を使うのが鉄板だと思うが  
ＭＡＵＩで　ループ文があるのか　分からん……」  

📖 [MAUI equivalent to CSS background-repeat: repeat;](https://stackoverflow.com/questions/75267102/maui-equivalent-to-css-background-repeat-repeat)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　Webみたいに　背景画像をタイルにしてリピートできるなら　グリッドが作れるかと思ったが  
それも無いみたいだし」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　動的に XAML の要素を追加・削除する方法も分からん」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　透明なキャンバスに　罫線引いて　タイル・マップの上に　覆い被せりゃいいんじゃないの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　それで行くか」  

## パンくずリストと、タイトル

![202306_maui_30-2305--tile-palette-editor-o2o0.png](https://crieit.now.sh/upload_images/230c62e9f9a6e6602a61c238320796d2649ee174d7fca.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　パンくずリスト付けたら　もっさり　したんだが、  
ヘッダーと　パンくずリスト　を１つに　まとめる方法　無い？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　タイトルバーに見えるところ、自動で付くのよねえ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　ナビゲーションじゃないか？　調べてみろだぜ」  

📖 [Microsoft　＞　NavigationPage](https://learn.microsoft.com/en-us/dotnet/maui/user-interface/pages/navigationpage)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　ソースの中には　いじれそうなものは無かった。もっと探そう」  

📖 [How to customize the navigation title view of MAUI ContentPage](https://stackoverflow.com/questions/74350962/how-to-customize-the-navigation-title-view-of-maui-contentpage)  

![202306_maui_30-2323--title-view-o2o0.png](https://crieit.now.sh/upload_images/dff54a3f11546e61beec3c71c17a9f1d649ee5872cd3d.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　初期状態は　こう書いてるのと　多分　おんなじらしい。  
これをベースに改造してみようぜ？」  

![202306_maui_30-2331--title-view-o2o0.png](https://crieit.now.sh/upload_images/86737243d2445653e27728f658a47ef5649ee79f04b98.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　パンくずリストと　ページ・タイトルを　同じ行に　まとめたぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　スマホの画面には　タイトル・バーが無いから、ページの中に作るのね」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ＰＣは　クローム（※）が付くんだな」  

※クローム　…　ウィンドウの枠。タイトルバーなどを含む  

## グリッドの線、引こうぜ？

![202307_maui_01-0007--grid.png](https://crieit.now.sh/upload_images/1bb0f0eefa123ef87e72b6fa35da0321649eeffc6311c.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ひとまず　ハードコーディングで　半透明の赤い色で　グリッドを置いてみたが　どうだろうか？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　まずは　いいんじゃないの？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　元画像の　横幅、縦幅も　表示してくれだぜ」  

![202307_maui_01-0035--tile-palette-editor.png](https://crieit.now.sh/upload_images/ad27942d9459a1d36bccbad4ecd78074649ef68d428a0.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　さらに細かく調整」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　タイル画像が大きかったとき、スクロールできんの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　この画面は　ハリボテ　なんで……。  
動きを付ける段階になったら　調べるぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　タイルＩｄを表示してくれだぜ」  

## 画像サイズを調べようぜ？

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　その前に　１枚の画像にタイルが　１００枚ぐらいなのか、　１０００枚ぐらいなのか、　１００００枚ぐらいなのか、  
規模を知りたいぜ」  

📖 [WOLF RPG エディター(ウディタ)でゲームを作る3　～マップチップとオートタイルを増やす～](https://nihamasoblog.com/wolf-editor-beginner3/)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　素材集の中を覗いてみないと　分からんな……」  

📖 [画像・音声素材データ集](https://silsec.sakura.ne.jp/WolfRPGEditor/MaterialList/html/)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　あれっ、思ってたより小さい……  
横 332 × 縦 772 かだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　なんだ　その　中途半端な数は？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　あれっ？　枠が付いてある……　これは使用例のスクリーンショットか。  
横 256 x 縦 608 のものもあるぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　なんだ　その　中途半端な数は？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　横 256 x 縦 544 のものもあるぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　決まってないのでは？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　横はニゴロ（２５６）のようだぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　じゃあ　縦長　になるんだ。ポートレートだ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　１つのタイル・サイズは　３２ｘ３２　を最小として、  
６４ｘ６４　とか　９６ｘ６４　とか　自由気ままに配置されているぜ！」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　６０８　は　３２　で割り切れるわねえ。１９よ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　素数だ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　どういうシステムなんだ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ分かった、　256 × 608　を画面に表示してみようぜ？  
👇　画像を作るぜ」  

📖　[www.pixilart.com](https://www.pixilart.com/draw)  

![map-tile-format-8x19.png](https://crieit.now.sh/upload_images/a2b9378330e366e963608623f2531aba649efd9bb11f7.png)  

![202307_maui_01-0118--scroll-view.png](https://crieit.now.sh/upload_images/3487861757d85388d7bccffada24dd42649f00713e84b.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ハリボテだが　スクロールバーは　付けれるぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　お父んの思想と　ウルフエディターの素材作成勢とで　相性が悪いの　わらう」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　意匠は　相容れない方が　著作権を差別化できて有利なのよ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　明日は　このハリボテに　動きを付けていこうぜ？」  

# 📅 2023-07-01 ページに引数を渡すにはどうやるんだぜ？

```plaintext
http://www.example.com/index.html?name=banana
                                 ^^^^^^^^^^^^
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　Ｗｅｂ系なら　ＵＲＬの後ろに　クエリー文字列を付けることができるが、  
MAUI で画面遷移時に何かデータを渡すには　どうやるんだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　調べろだぜ」  

📖 [MAUI：画面遷移時のデータの受け渡し](https://shuhelohelo.hatenablog.com/entry/2022/08/12/234214)  

![202307_maui_01-1936--parameters-o2o0.png](https://crieit.now.sh/upload_images/ad3fa1c294a5bbf99de87c28431d07c564a0020162999.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　`parameters` で　オブジェクトを渡せそうだな。  
渡した先での　受け取り方も　調べるかだぜ」  

![202307_maui_01-2017--property-o2o0.png](https://crieit.now.sh/upload_images/76d3e3528b9fb1b4b470c17fc8d1a26564a00ba72a357.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ビューモデルに　フィールドがあるとして……」  

![202307_maui_01-2020--parameters-o2o0.png](https://crieit.now.sh/upload_images/e4fcb6088c13e5c71a1a6d4fe2da8cd964a00c5bdd42a.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　フィールド名を使って、オブジェクトを渡せるみたいだな」  

## PNG 形式画像ファイルのサイズを取得してくれだぜ

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　PNG 形式画像ファイルのサイズを取得してくれだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　あれっ？　やり方が分からん……  
👇　調べるか……」  

📖 [[C#]PNGの幅，高さのみをファイルから高速に取得する方法について](https://dixq.net/forum/viewtopic.php?t=17600)  
📖 [【C#】PNG画像サイズの取得方法](https://zenn.dev/alfina2538/articles/998e406272f0fd)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　渡せるものと、渡せないものとがある。  
調べるか……」  

![202307_maui_02-2156--query-parameter-on-class-o2o0.png](https://crieit.now.sh/upload_images/a867f2fa49b7c2dfbf3aae83afe15f1c64a022d8e1891.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　`QueryParameter` アトリビュート（属性）をクラスに１個１個すべて書くのが確実らしい」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　MVVM 実装してるだけで　１日　終わりそうだ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　画面は　手戻り無しで　１発で作らないと　時間が　厳しそうねえ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　要らん画面　作ったら　１日は無駄になるな」  

![202307_maui_02-2215--on-property-changed-o2o0.png](https://crieit.now.sh/upload_images/6cac9c0c25043305e80a34e944d74d7b64a027488b915.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　変更通知プロパティの手順の順序を　間違えると　画面に出てこないから　正確にやるぜ」  

![202307_maui_02-2155--query-parameter-o2o0.png](https://crieit.now.sh/upload_images/40127b25dc104c22fe17b261fe47f59264a027778bc0a.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　画像サイズに　動きを付けたぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　全部に動きを付けてくれだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　つら」  

## GraphicsView はどうやってリフレッシュするんだぜ？

![202307_maui_02-2236--graphics-view.png](https://crieit.now.sh/upload_images/ff0567a511f881be175dcc342d5d604664a02c3754d3f.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　グリッドは `GraphicsView` を使ってプログラム的に描画しているが、  
これは　どうやって再描画するんだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　調べろだぜ」  

📖 [Microsoft　＞　GraphicsView](https://learn.microsoft.com/ja-jp/dotnet/maui/user-interface/controls/graphicsview)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　`graphicsView.Invalidate();` を呼び出せばいいのか。やってみるかだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　ビューモデルから　どうやって　`graphicsView`　にアクセスするんだぜ？」  

📖 [Binding from view to GraphicsView property in .NET MAUI](https://stackoverflow.com/questions/74144361/binding-from-view-to-graphicsview-property-in-net-maui)  
📖 [How to databind imageview with drawable in viewmodel?](https://stackoverflow.com/questions/57243160/how-to-databind-imageview-with-drawable-in-viewmodel)  
📖 [.NET MAUI: Dynamic behaviour of graphic elements when using MVVM](https://stackoverflow.com/questions/74901102/net-maui-dynamic-behaviour-of-graphic-elements-when-using-mvvm)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　同じ悩みを持ってるやつらが　見つからんなあ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　`Drawable` に変更通知プロパティを　仕掛けられないの？」  

![202307_maui_01-2259--tile-set-grid.png](https://crieit.now.sh/upload_images/1a5a552a1d076a74d993e9d1a395fcad64a03175a0cdd.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ビュー・モデルから　IDrawable 実装インスタンスの Draw をコールする方法も分からん」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ビュー・モデルから　ビューに　アクセスできないのかだぜ？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　調べてみるか」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　ビュー・モデルは　変更通知プロパティ　をビューに仕込んで連携できるだけだな」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　ビュー・モデルの方から　ビューのキャンバスを変更できないと　グリッド・サイズを更新できなくない？」  

![202307_maui_01-2311--contentPage-resource-o2o0.png](https://crieit.now.sh/upload_images/de98d77bf4fdbe8a84ec75d36ec8bead64a03427a3e78.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　リソースに　引数を渡す方法って　ある？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　調べろだぜ」  

📖 [Resource dictionaries](https://learn.microsoft.com/en-us/dotnet/maui/fundamentals/resource-dictionaries)  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　リソースは　スタティックなんじゃない？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ　`GraphicsView`　を使って　グリッドを描画するのが　そもそも間違ってる？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　そうなのでは」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　伸縮自在なラインを　固定長で１０００本ぐらい　画面に持たせた方がいいのかだぜ？」  

![202307_maui_01-2324--graphics-view-o2o0.png](https://crieit.now.sh/upload_images/a277514de963191868e489239c9deed164a0374fdd40e.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　`GraphicsView` の横幅、縦幅は　バインディングできるから、  
ビューモデルから　縦幅、横幅の変更通知を送ったら　`IDrawing` 実装インスタンスの `Draw` メソッドを呼び出してくれないかな？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　試せだぜ」  

![202307_maui_01-2347--dirtyRect-o2o0.png](https://crieit.now.sh/upload_images/4897274cc16bc53bee7e43a2ce3f52f264a03cb0094b1.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　なんらかのタイミングで　`Draw` メソッドの `dirtyRect` 引数に矩形が入っているから、  
あとは　ビュー・モデルから　任意のタイミングで `Draw` をコールできれば　うまくいきそうだが」  

![202307_maui_01-2356--onPageOpen.png](https://crieit.now.sh/upload_images/1e08f5771ddacd6582669038b7c5d50d64a03eaceb4c3.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　画面を出した初回は　画像サイズが分かってるんで　グリッドも合わせられるぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　グリッド・サイズは途中からも　変えたいのよ」  

![202307_maui_02-0042--hack-o2o0.png](https://crieit.now.sh/upload_images/4bcd9fbc41ccf91aa430da0d1bac9d0f64a049fee8594.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　グリッドの横幅が変更されたタイミングで  
グリッドの画像サイズの横幅を 1px 伸ばしたったら、再描画が呼び出されるけど」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　イケてないわねえ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　再描画が呼び出されるトリガーのうち、もっとも無難なものって何だぜ？　タグの変更トリガーとか無いのかだぜ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　タグだって　変えられたくないわよ」  

### トリック・コード

![202307_maui_02-0122--trick-code.png](https://crieit.now.sh/upload_images/09a9ac151ad8ea8652426725ba7751e564a05319abfc5.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　今回のプログラミングで最初のトリック・コードだぜ。  
画像の横幅が偶数のときは　横幅を１伸ばし、  
画像の横幅が奇数のときは　横幅を１縮めて　無限に振動させるぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　わらう」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　グリッドのサイズを変えるたびに  
グリッドの右端が　１ｐｘ飛び出たり　元に戻ったりするんだけど」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　トリックがバレないように修正する」  

![202307_maui_02-0147--cancel-code-o2o0.png](https://crieit.now.sh/upload_images/3b15e21819f7be994b31f6094fab8cbc64a058dca8572.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　トリック・コードのせいで　割り食って　おかしくなっている箇所は  
キャンセル・コードを書いて　おかしなものを　隠すぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　不毛な戦い　わらう」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　トリック・コードなんか書くからよ」  

![202307_maui_02-0150--grid-size.png](https://crieit.now.sh/upload_images/9555293afe0eaadb60fb84523555968064a05986a02d7.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　グリッド・サイズを変えれるようになった。今日はここまでだぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ＭＶＶＭの実装　時間かかるんだな、作る画面は　最低限の数で済むように　全体を考えないとな」  

# 📅 2023-07-02 タイル・パレット編集ページを作っていこうぜ？

![202307_maui_02-1431--grid-point-o2o0.png](https://crieit.now.sh/upload_images/a65ae8d6cdf1e7b37cc75def6121e38664a10c55609ab.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　グリッドの全体も　ずらせるようにしたので、 **位相** にも対応だぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　スクロールとかねえ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　線形代数の変換の王様、アフィン変換にも対応しろだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　開発時間足りない。次へ」  

![202307_maui_02-2156--grid.png](https://crieit.now.sh/upload_images/cb165a2a837fc638a8fc6c041429b88364a1744d5f299.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　カーソルが　グリッドに　吸着するようになったぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　これだけで　日曜日が終わろうとしている。時間がかかるな」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　下側の　タイル　０　０　０　０　のとこに　カーソルの位置を表示しなさいよ」  

![202307_maui_02-2225--cursor-position-o2o0.png](https://crieit.now.sh/upload_images/009adbe69fa4c11c265cdac4caf2da2d64a17b31be7b8.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　はい」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　お父ん。グリッド１ます　の　たて　に　50000　と入れたら強制終了したぜ？」  

![202307_maui_02-2229--size-over-o2o0.png](https://crieit.now.sh/upload_images/31a586467e701018f84813e7c4ca6d4f64a17bf404caa.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　確かに。あのグリッド、ただの縦線じゃなくて　画像だからな」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　テキスト・ボックスに　バリデーション（妥当性検証）を入れなさいよ」  

## バリデーションを入れようぜ？

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　何もかも　やり方が分からん。覚え直しだ。　調べるか……」  

📖 [Microsoft　＞　Validation](https://learn.microsoft.com/en-us/dotnet/architecture/maui/validation)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　説明の通りコードを書いても　`IValidity`　のところで　コンパイル・エラーになるの　分けわからんな」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　この記事が　クソ　だということを伝えるボタンが無いぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　👇　文字数のチェックはできるみたいよ？」  

📖 [TextValidationBehavior](https://learn.microsoft.com/en-us/dotnet/communitytoolkit/maui/behaviors/text-validation-behavior)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　もっと　まともな方法を調べるぜ」  

📖 [RequiredStringValidationBehavior](https://learn.microsoft.com/ja-jp/dotnet/communitytoolkit/maui/behaviors/required-string-validation-behavior)  
📖 [NumericValidationBehavior](https://learn.microsoft.com/ja-jp/dotnet/communitytoolkit/maui/behaviors/numeric-validation-behavior)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　`NumericValidationBehavior` を調べてみるか」  

![202307_maui_02-2335--validation-o2o0.png](https://crieit.now.sh/upload_images/2a89a597755074ca97fd1a8a3b904c1064a18ba60f168.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　下ごしらえは　XAML　だけで終わるの　簡単だな」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　１辺の上限が　16384　じゃなくて、  
面積の上限が　16384　か？  
ルート２　したら　128　で小さすぎないか？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　`10000` x `10000` にしても動いているぜ？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　なんか限界　攻めたくないな。  
グラフィック・カードの性能に依存するのかも知らん。  
とりあえず　上限は　8192　にしよう！」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　2 の 13乗に　意義を感じないわね」  

![202307_maui_02-2338--validation-o2o0.png](https://crieit.now.sh/upload_images/00c8fe1b889a24b1248df026ac7bf56764a18c26e2e0b.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　じゃあ　無難な　上限　2048　にして、  
文句があるやつがでてきたときに　拡張用の設定ファイルを用意しようぜ？」　

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　設定できるんなら　それでいいよな」  

![202307_maui_02-2328--validation-o2o0.png](https://crieit.now.sh/upload_images/01caafe26b01dcebb561b62d129a4b3864a189cb9963c.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　あれっ？　色が変わるだけで　入力できてしまう？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　入力を拒絶しなきゃ、意味なくない？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ビュー・モデルの方で　2048　以上を入力したら　2048　として扱うような処理がいるかもしれないな」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　あっ、 0 を入れても　フリーズしたぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　明日は　バリデーション　を　みっちり　やるぜ」  

# 📅 2023-07-03 バリデーションを入れようぜ？

```plaintext
　　C:
　　└── 📂 Users
　　　　└── 📂 むずでょ
　　　　　　└── 📂 AppData
　　　　　　　　└── 📂 Local
　　　　　　　　　　└── 📂 Packages
　　　　　　　　　　　　└── 📂 1802ca7b-559d-489e-8a13-f02ac4d27fcc_9zz4h110yvjzm
　　　　　　　　　　　　　　└── 📂 LocalState
　　　　　　　　　　　　　　　　├── 📄 configuration.toml
👉 　　　　　　　　　　　　　　└── 📄 settings.toml
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆 `settings.toml` ファイルを作って、そこに　グリッドのタイル・サイズの一辺の上限は 2048 だという設定を  
書いておこうぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　両端に太さが 2px のグリッドの線があるから、1px ずつ食み出るとして 2048 から 2px 引いて 2046 にすべきだと思うが」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　上限値の理由に　意義がないのよ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ 2046 !」

```toml
[tile]

# 一辺が 2048 ピクセルのキャンバスを想定し、両端に太さが 2px のグリッドの線があって 1px ずつ食み出るから 2px 引いて 2046
max_width = 2_046
max_height = 2_046
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　１辺が 2048 ピクセルのタイルを作りたいやつは　設定を変えろ」  

![202307_maui_03-2111--validation-o2o0.png](https://crieit.now.sh/upload_images/563144e6bb6ba23d5fa984f33d10daca64a2bb5ba858a.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　バリデーションというのは　ビューの色を変えるぐらいしか機能がないので、  
ビューモデルでは　単に　リミット・チェックを入れた」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　入力された値は（弾かず）とりあえず受け取る、という思想なのね」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　入力を受け取らないフラグ　無いのかなあ？　もっと探してみろだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　疲れたんで　とりあえず　次へ」  

## マウス・ドラッグに対応しろだぜ

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　お父ん。マウス・ドラッグして　タイルを連続選択できないのかだぜ？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　作ってない機能は　存在しないぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　作れ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　ドラッグ　アンド　ドロップなのかな？  
プレス　アンド　リリースじゃないかな？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　ドラッグ　アンド　ドロップって、  
ファイルをつかんで　アプリケーションの領域に落とすやつを言うのよ。  
タイルの連続選択は　プレス・アンド・リリース　じゃないかなあ？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　今は　タップした時点で　カーソルの位置が決まっているが、  
リリースした時点で　カーソルの位置を決めた方がいいのかだぜ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　もっさりしない？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　操作感は　統一的になると思うが」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　タップしたジェスチャーは　捕捉できるが、  
リリースしたというジェスチャーは　どうやって捕捉するのかな？  
調べるか」  

📖 [スワイプ ジェスチャを認識する](https://learn.microsoft.com/ja-jp/dotnet/maui/fundamentals/gestures/swipe)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　スワイプは　向きだけかあ」  

📖 [ドラッグ アンド ドロップ ジェスチャを認識する](https://learn.microsoft.com/ja-jp/dotnet/maui/fundamentals/gestures/drag-and-drop)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ドラッグ　アンド　ドロップは　ファイルを落とすやつだしな」  

📖 [ポインター ジェスチャを認識する](https://learn.microsoft.com/ja-jp/dotnet/maui/fundamentals/gestures/pointer)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ポインター・ジェスチャーには　入りと　出があるのか。これを調べてみるか」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　エンターは　画像と重なったところで、  
エグジットは　画像の外と重なったところか。  
マウス・ボタン押下とか、マウス・ボタン・リリースではないんだ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　タップは　マウス・ボタン押下と　マウス・ボタン・リリースのペアか？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　そうだぜ。  
それも　マウスを移動させずに　マウス・ボタン押下と　マウス・ボタン・リリースを  
行わなければいけないぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　じゃあ　タップは　従来の　クリック　に対応してるんだ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　マウス・ボタン押下と、　マウス・ボタン・リリースを　別々に捕捉する方法を探せだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　MAUI には無いようだぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　マウス・ダウンと　マウス・アップを検知する　何らかの方法はあるのかしら？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　タップで始まり、タップで終わるのでいいだろ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ペン・タブレットで　必要になりそうな機能が　MAUI　に無いなんて  
理解できないが　お父んは　そのような　理不尽や　意味不明を　越えていくのに長けているのだろう」  

![202307_maui_04-0113--tile-cursor-size.png](https://crieit.now.sh/upload_images/936393250a0080041e5340fb6c99c2a264a2f47228bc1.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　カンペキは無いものだぜ。タイルの連続選択できあがり」  

# 📅 2023-07-04 タイルを登録できるようにしろだぜ

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　タイルは　名前で管理するのか？　Ｉｄで管理するのか？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　現代は　UUID　が流行ってて　URL　は　わけの分からない数字、文字の羅列になってしまったが、  
UUID　が真のＩｄなら　URL　無くして　UUID　にすればいいものの、  
そうならないのは　名前　からイメージできる姿があるからだぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　名前は　アスキー文字にすんの？  
ユニコードにすんの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　こんな　ネギラーメンで　ユニコードが使えない環境のことを　本気で考えなくていいだろ。  
ユニコードでいいんじゃないか？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　文字数は？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　本気で考えなくていいだろ。　６４文字でいいんじゃないか？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　１～４バイトのユニコード文字が　６４個であることの意義は？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　無いけど……」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ツクラーが　タイルに名前を付けようと思ったときの　文字数の分布は？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　データは無いけど……」  

📖 [Tiledによるタイルマップの作成とオブジェクトデータの取得を行う！：Cocos Creator
Tiled Cocos Creator](https://mmorley.hatenablog.com/entry/2016/05/21/002430)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　誰も　タイルに名前なんか　付けないのでは？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　アマゾンの商品名の長さは？」  

📖 [KRAFT Macaroni & Cheese Easy Mac Cups (12 x 2.05 oz cups)クラフト　マカロニチーズ イージーカップ　12パック　海外直送](https://www.amazon.co.jp/KRAFT-Macaroni-Cheese-クラフト-マカロニチーズ-イージーカップ-12パック-海外直送/dp/B008YTWOLC/?_encoding=UTF8&pd_rd_w=sNbPN&content-id=amzn1.sym.7351c6be-f8cb-43b9-8343-cd956266c4b6&pf_rd_p=7351c6be-f8cb-43b9-8343-cd956266c4b6&pf_rd_r=7Y3VKX4DXVHNADR66Z30&pd_rd_wg=s0X3b&pd_rd_r=3f9c6031-aaa6-45c9-a059-d96a59408246&ref_=pd_gw_trq_ed_438y8oxo)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　適当にクリックしたが　英語表記、日本語表記をつなげて　重さや個数、海外直送まで入っているぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　ざっくり　１００文字にしたら？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　そうするか……」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　すると　みんな　タイル名に　検索のための情報を　詰め込みだすのでは？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　名前とは別に　タグを付けれるようにするかだぜ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　１つのタイルに　タグは何個付けれて、１つのタグの長さは何文字までなの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　これは再帰的な話しで、１つのタグに　たくさんの検索の情報を詰め込みだす……」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　タイル名を付けるの　めんどくさくなって　`タイル１`、 `タイル２`、`タイル３`　みたいな名前を付けるやつが  
蔓延したらどうする？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　連番付けられるぐらいだったら、　Ｉｄ　は　こっちで採番してやるかだぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　１つのタイル・セットに、何枚のタイルがあんの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　データは持ってない」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　Ｉｄ　だけ必須にして、それは自動で採番して、  
１００文字のテキスト・フィールドに　半角カンマ区切りで　タグを自由入力させたらどうだぜ？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　４９個のアルファベットを　タグで登録するやつがいて　うざいかもしれない」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　タグも　日本語で入力されたり、英語で入力されたり、表記揺れしたりするんじゃない？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ　カテゴリー・ツリーを予め　こっちで定義して　そのノードを選ばせる方式にして、  
それ以外に　固有名詞　を自由に入れれる欄を置けばどうか？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　Ｉｄ欄と、１００文字のコメント欄の２つにしましょう！  
検索のための仕組みは　後回しで」  

![202307_maui_04-2122--save-button-o2o0.png](https://crieit.now.sh/upload_images/9f76e94a599e8626ed037a31655a824864a40f7b7b39d.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　こんな感じで　いいのかだぜ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　動かしてみないと分かんないから　それで　作ってみましょう」  

```plaintext
　　C:\Users\むずでょ\Documents\Unity Projects\Negiramen Practice\
　　└── 📂 Assets
　　　　└── 📂 Doujin Circle Negiramen
　　　　　　└── 📂 Negiramen Quest
　　　　　　　　└── 📂 Auto Generated
　　　　　　　　　　└── 📂 Data
　　　　　　　　　　　　└── 📂 CSV
　　　　　　　　　　　　　　└── 📂 Tile Set
👉 　　　　　　　　　　　　　　└── 📄 map-tile-format-8x19.csv
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ファイルは　ここに置いとくぜ？」  

```csv
Id, Left, Top, Width, Height, Comment
 1,   96,  64,    64,     64, 草原
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　保存内容は　こんな感じで　いいかだぜ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　とりあえず　それで」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　クエリー・パラーメーターで　ビュー・モデルへ　ＣＳＶファイルへのパスを渡したつもりなんだが、  
コード・ビハインドの　Load　時には　ビュー・モデルに　ＣＳＶファイルへのパスが入ってないな」  

📖 [.Net Maui/XAML QueryParameter is NULL in the viewmodel Constructor but usable in XAML, how do I access it in the viewmodel?](https://stackoverflow.com/questions/72757060/net-maui-xaml-queryparameter-is-null-in-the-viewmodel-constructor-but-usable-in)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　書かれてる通りにやってるんだが……、あっ、スペルミスだ！」    

![202307_maui_05-0125--add-button.png](https://crieit.now.sh/upload_images/5aa08c3a87fc4d24dd10b0410d9112dc64a44826960cf.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　とりあえず　ハリボテ　で、１行追加　できるようにしたぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　コメントの文字数のバリデーション、  
Ｉｄの自動採番、  
既に追加されているタイルは　コメントを表示、ボタンのラベルも［追加］から［上書］へ変更、  
削除ボタンの実装、  
ＣＳＶを固定レイアウトではなく、列名を見るように変更、
ＣＳＶのダブルクォーテーションのエスケープ、
少なくとも　これらは　残っているな」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　気の遠くなる話しだぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　じゃあ　睡眠へ切り替えよ。寝ろ」  

# 📅 2023-07-05 マウス操作が分かりづらいの何とかしろ 

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　MAUI がタップ操作にＵＩを寄せていて、マウスダウン、マウスアップ　が検知できないの　クソなんだが」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　最初の１回目のタップで　あんたが枠を出すから、これでいいんだと思っちゃって  
そしたら　もう１回　タップしなくちゃいけないって分かって　分かりづらってなるのよ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　選択が未確定の間は　カーソルが　アニメーションしたらどうだぜ？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　画面が　チカチカ　動くのは　オフィス・ソフトの分野では　非常識だぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　半透明な枠なら　どうよ？」  

![202307_maui_05-2005--selecting.png](https://crieit.now.sh/upload_images/91c1887b68a9194dfaa47a7b6dc69dcd64a54f091546b.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　これぐらい　はっきりと分かるぐらい　半透明にしてみるか」  

## Ｉｄを自動採番しろ

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ＣＳＶファイルの中で１番大きなＩｄより　１　だけ大きいのが　新しいＩｄだろ。  
お父ん。実装しろ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　スキャンするのは　カッコ悪いから　行が追加されたタイミングで　最大のＩｄを常に更新するかだぜ」  

![202307_maui_05-2124--tile-id-o2o0.png](https://crieit.now.sh/upload_images/31bf587a692b3271e22bf9e79572024664a5622359461.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　Ｉｄは　増えるようにしたぜ」  

## 登録されているタイルは表示しろ

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　登録されているタイルは　表示してくれだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　タイルが　１０００個　登録されていたら、  
画面上には　タイル　１０００個　のスプライトを　表示しないと　いけないのかだぜ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　画面を開いたときと、  
タイルを追加・削除したときに　キャンバスを描きなおせばよくない？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ　実際のタイル画像とは別に、  
ワーキング（Working；作業中）なタイル画像を　内部的に持っておけばいいかな」  

![202307_maui_05-2139--tile-image-o2o0.png](https://crieit.now.sh/upload_images/03595682c55cb6348880ed11a0f3b15f64a564f6d0425.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　`Source` に内部メモリーを指定できるのかだぜ？」

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　外部ファイルで十分なんじゃないの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　作業中の画像は、  
ネギラーメンのワーキング・スペース、  
ユーザーの AppData、  
ユニティの Assetsフォルダー、  
どこに置くのがベスト・プラクティスだぜ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　ユニティの Assets フォルダーには　資産じゃないものは　置きたくないわねえ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ユーザーの AppData に　ゴミを置きたくないぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ　ネギラーメンのワーキング・スペースかだぜ」

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　ネギラーメンを２重起動しなければ　問題ないんじゃない？」  

```plaintext
　　例：　C:\Users\むずでょ\Documents\GitHub\2D-RPG-Negiramen
　　└── 📂 Workspace
　　　　├── 📂 Assets
　　　　├── 📂 For Unity Assets
　　　　└── 📂 Temporary
　　　　　　└── 📂 Images
👉 　　　　　　└── 📄 working_tile_set_canvas.png
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　こんな感じで　テンポラリー（Temporary；一時的な）フォルダーを切ろうかな？」  

### 第２の構成ファイル

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ファイル・パスは　ハード・コーディングするのか？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　いーや。ソース・コードの中に設定が書かれているのは　メンテナンス　時の選択肢を狭めて良くない。  
外部ファイルで全部　指定できるようにしたいぜ」  

```plaintext
　　例：　C:\Users\むずでょ\Documents\GitHub\2D-RPG-Negiramen
　　└── 📂 Workspace
👉 　　└── 📄 configuration_2nd.toml
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　第２の構成ファイルだから、こんな感じでどうだぜ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　じゃあ　とりあえず　それで」  

```plaintext
[paths]

# ネギラーメン・ワークスペースの作業中のタイル・セット・キャンバスPNG画像ファイルへのパス
working_tile_set_canvas = "{negiramen_workspace}/Temporary/Images/working_tile_set_canvas.png"
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ファイルの中身は　こんな感じでどうだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　とりあえず　それで」  


＜書きかけ＞