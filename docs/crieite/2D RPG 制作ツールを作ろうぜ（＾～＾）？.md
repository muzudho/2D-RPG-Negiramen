# 📅 2023-06-25 はじめに

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　２Ｄ　ＲＰＧ　制作ツールを作ろうぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　なんで　お父んが　そんなこと　しなければならないのか？  
働けだぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　思いついたら　やるんでしょ。  
そこらへんの　凡人と同じよ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　それより　作業用ＢＧＭ　かけようぜ？　気分を盛り上げないとな」  

💿 [Rockman ロックマン 11 [OST] Full Album](https://www.youtube.com/watch?v=YQOFjkWvRBs)  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　それは作業用ＢＧＭではなく、違法アップロード動画なのでは？」  

![202306__photo__24--Rockman11.jpg](https://crieit.now.sh/upload_images/cc54f960e67d5e17ae1e70b9125f4df26496c502e9f26.jpg)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　サイドＰＣを　Ubuntu　に差し替えたんで　Steam　を久しぶりに動かしてみたら、動いたんで驚いたぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　えっ？　ＲＰＧ制作ツールを作るのに　作業用ＢＧＭが　ロックマン１１　でいいのかだぜ？？」  

## MAUI を調べろだぜ

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　企画と　アーキテクチャーを　長々と　説明しても　あれなんで……  
MAUI を調べようぜ？」  

📖 [.NET MAUI (環境構築からHallo, World!～Windowsアプリ編～)](https://qiita.com/kashin777/items/eae43a555dc28867926f)  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　プラン全部　飛ばしたな。もう作業か」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　あんたのお父ん　ノー・プランよ。  
ウォーター・フォール・モデルの下流工程の　**実装**　という狭い範囲でしか仕事できないんだから。  
あと　事務と経理」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　それって　羨ましがられるらしいぜ。　いーな、コードばかりやってて、と」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　なんか　知らん間に　Windows の **開発者モード** というのが　オフ　にされているらしく、  
これを　オン　にして　ビルド」  

![202306_maui_24-1920--hello-world.png](https://crieit.now.sh/upload_images/ae92a352bfab9fac23739915bb9d06776496c3c428262.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　これが　MAUI　を実行した画面か～。　なんなんだろうな　これ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　何も分からん。　ロードマップもない」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　`Click me` を押したら　ボタンを押した回数が出てくるぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　こっから　ツールを組み立てていくの、気が遠くなるわね～」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　タイトル画面なんか作らずに　メニューがさっさと出てきたら　良くね？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　お父んがよく選ぶのは　家系二郎ラーメン、　塩ラーメン、　レモンサワー」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　今日は　ネギ・ラーメン　にしようぜ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　メニューって、そのメニューなの？」

![202306_maui_24-1939--negiramen.png](https://crieit.now.sh/upload_images/85d448436de2ee8bdbebbd35fea8fda76496c7fe11a46.png)  

👆　[2D-RPG-Negiramen](https://github.com/muzudho/2D-RPG-Negiramen)  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👆　リポジトリ―は　作っておいたぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　ネギ・ラーメンは　リポジトリ―の名前じゃなくない？」  

![202306_maui_24-1941--title image.png](https://crieit.now.sh/upload_images/b97b87e7de3c8c7a2dac34effe6936076496ca3cbaf3c.png)  

使用フォント：　📖　[たぬき油性マジック](https://tanukifont.com/tanuki-permanent-marker/)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　こんな感じの　ファースト・ビュー　でどうだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　縦スクロール・バーは　付けておいてくれだぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　いいのか　よくないのか　分かんないから　さっさと作って　動かしてみましょう！」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　アラートが出てきたぜ。ここ読めだって」  

📖　[Build your first app](https://learn.microsoft.com/en-us/dotnet/maui/get-started/first-app?tabs=vswin&pivots=devices-android)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　わたしが　やりたいことを　説明してくれるのではなく、  
マイクロソフトが　説明したいことを　説明してくるので　つらいぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　画面にボタンを置きなさいよ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　どこを読めばいいのか　分からない、ドキュメントとの戦いだぜ」  

📖　[Customize the app shell](https://learn.microsoft.com/en-us/dotnet/maui/tutorials/notes-app/?tutorial-step=2)  

![202306_maui_24-2022--title-menu.png](https://crieit.now.sh/upload_images/0b1909f16a43d7eeb0c51e447a7a95736496d217ce30b.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　様々な概念が分からなかったが作った、とりあえず　これで」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　じゃあ　とりあえず　マップを作る画面に進みなさいよ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　？？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　画面遷移って　どうやって　やるんだ……？？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　これでも読めだぜ」  

📖 [.NET MAUI (いろんな画面遷移)](https://qiita.com/kashin777/items/2f1abcba9c8fa02b592c)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　うーん？」  

![202306_maui_24-2042--app-shell-o2o0.png](https://crieit.now.sh/upload_images/5839fb5ceef097452e77a24b23b1adea6496d6e4a003c.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　`AppShell.xml`　というのを　何か設定しないといけない？」  

![202306_maui_24-2051--create-map-page-view.png](https://crieit.now.sh/upload_images/19cac8b8101b30e6e92873b6df50f5826496d9100dd5c.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　とりあえず　画面遷移は　できたぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　どうやって　ＨＯＭＥに戻るんだぜ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　パンくずリスト　が有ったらいいんじゃない？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　パンくずリストのような機能は用意されているのではなく、自力で作らないといけないらしいぜ」  

📖　[.NET Maui Tabs with Breadcrumb Navigation](https://stackoverflow.com/questions/74757711/net-maui-tabs-with-breadcrumb-navigation)  

![202306_maui_24-2114--breadcrumb-list.png](https://crieit.now.sh/upload_images/04929fb38a8472e03c6b2e32ff5a7f876496de48a2b44.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　作り方　分からんので　とりあえず　ボタンとラベルで」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　じゃあ次は　戦闘を作る画面に進みなさいよ」  

![202306_maui_24-2123--create-battle-view-page.png](https://crieit.now.sh/upload_images/f724f2677c0c038e726424f9db3a20016496e0772c32d.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　同様だぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　じゃあ　残りも　以下同様で　やってくれだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　つら」  

![202306_maui_24-2302--xaml-o2o0.png](https://crieit.now.sh/upload_images/330a545ed654f0592934639f69ffcf376496f7bfeb6bd.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　`.xaml` ファイル増えてきて　邪魔なんだけど、置き場フォルダーは　どう作るのが　ベストプラクティス　なんだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　調べろだぜ」  

📖　[MAUI(WinUI3)でMVVMを超単純にやる](https://qiita.com/todu/items/699e5a6abd936421309f)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　Qiita の素人記事読むぐらいだったら　公式読むぜ」  

📖　[Microsoft　＞　Upgrade your app with MVVM concepts](https://learn.microsoft.com/en-us/dotnet/maui/tutorials/notes-mvvm/)  

![202306_maui_24-2318--views-o2o0.png](https://crieit.now.sh/upload_images/bb76ed4804b6f14a69d37e5a681e640d6496fb6d3f952.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　こうすりゃいいのか」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　`MainPage.xaml` も 📂 `Views` フォルダーに入れろだぜ」  

## エクスプローラーが要るんじゃないか？

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　お父ん。  
プレイヤー・キャラクター編集画面に入る前に、  
どのプレイヤー・キャラクターを編集するのか　選択する画面が　要るんじゃないか？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　あっ、そうか！  
ほとんどの　データ編集ページで　リストが要るぜ！」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　リストでいいの？  
テーブルじゃなくて　いいの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ　エクスプローラー　だ。  
MAUI にそんなコントロール　あるかな？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　お父ん。コレクション・ビューと、テーブル・ビューを調べてみてくれだぜ」  

📖　[.NET MAUI (UIコントロール)](https://qiita.com/kashin777/items/cb200af6d4f00cc88a63)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　だから　素人が書いた記事なんか　読まねーっつーの」  

📖　[Microsoft　＞　CollectionView](https://learn.microsoft.com/en-us/dotnet/maui/user-interface/controls/collectionview/)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　なんか知らんが　`ListView` より　かっこいいのが　`CollectionView` らしいぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　考えるの止めるの　わらう」  

📖　[Microsoft　＞　TableView](https://learn.microsoft.com/en-us/dotnet/maui/user-interface/controls/tableview)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　コレクション・ビューを使うべきか、テーブル・ビューを使うべきの判断方法が分からん」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ページネーション（Pagination；ページ割り）の機能は付いているのかだぜ？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　調べたいことが　出てこないのが　マイクロソフトの　ドキュメントなんだぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　マイクロソフトの　Bing　の人工知能に利いても　MAUI　がなんだか分かってないし」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ、ページネーションも　自力実装することにしよう」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　そうであるなら、クリテリア（Criteria；判断基準）が必要だぜ。  
どのような規則に従って整列しているか、  
表示されているデータは　何件目～何件目までのデータか、  
表示されているのは　何ページ目か、  
昇順か逆順か、  
フィルタリングされているか」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　無いものを　自力実装するのが　プログラマーだぜ。  
必要だったら　片っ端から　実装していけばいいんだぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　迷ったら　テーブル・ビューと　コレクション・ビューの両方実装すりゃいいのよ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　ぬぎぎぎぎ！」  

![202306_maui_25-0041--home.png](https://crieit.now.sh/upload_images/a1f78ded35ca26ebd4c2a21ba10d532564970f24880bf.png)  

![202306_maui_25-0042--map-explorer.png](https://crieit.now.sh/upload_images/f7fa2f745b99c523b470ba7eb3b66f1f64970f2d0332f.png)  

![202306_maui_25-0043--create-map.png](https://crieit.now.sh/upload_images/c81a96f9f4ace9f2ffc4205a36cef01364970f3695130.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　こういう風に　途中に　検索ページを１枚　挟めばいいんだろ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　デザインを分かってないエンジニアが作りがちな検索画面だぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　ぬぎぎぎぎ！」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　動いているところを見ないと　よく分かんないから、  
明日は　動くところを作ってみましょう」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　ライセンスが　オープンソースの　２Ｄ　ＲＰＧの素材　なんも　持ってねー　ぬぎぎぎぎぎ！」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　あっ！　**ゲームとして利用するならフリーだが、素材集を　ツールに同梱して　そのまま再配布することを許可している素材が無いのか！**」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　当然よねえ」  

## Unity プロジェクトを作ろうぜ？

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　まあ　無いものは無いで　変数ｘ　とでも置いておいて　解けるところから先に解くのが　数学だぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　それを問題の先送りと言う」  

![202306_maui_25-0418--unity-project-o2o0.png](https://crieit.now.sh/upload_images/abf13bd281298f429e57efd366fe8a0e649741edea122.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　テンプレートは　**２D**　を選び、プロジェクト名は **Negiramen Practice** にして  
プロジェクトを作成しようぜ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　ネギラーメンでは、それが何だか　分かんなくない？  
検索のサジェスチョンも汚すし」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　聞き慣れてくれば　イカしてくるぜ」  

![202306_maui_25-0427--2D-o2o0.png](https://crieit.now.sh/upload_images/cb8a80f81c28d90c3a0cd3d00d0c3f1e649743fb8b4d7.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　なんか最初から　いろんなものが入っている……、ちょっと見てみるか……」    

![202306_maui_25-0432--2D-Editor.png](https://crieit.now.sh/upload_images/fd6d85d3f0cd08ea624600a258213cd764974512580ed.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　多分　エディターなんだと思うんだが、この１つ１つを調べて行くか」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　お父んが作らなくても、すでに　いいものがあるのでは？」  

📖 [TileMapEditorはいいぞ！](https://qiita.com/RyotaMurohoshi/items/f9a10db24ea9378d47f7)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　オープンソースだけで　やりたいぜ」  

![202306_maui_25-0449--OverwriteProjectToUnity-o2o0.png](https://crieit.now.sh/upload_images/4a2b47916a48a3acdbbbd0a8f6f75fc164974929477f8.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ちょっと　ボタンを追加しよう」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　それで……、テキスト・ボックスって　どうやって作るんだ？　調べるか……」  

📖　[Microsoft　＞　入力](https://learn.microsoft.com/ja-jp/dotnet/maui/user-interface/controls/entry)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　`Entry` というタグがあるのか」  

![202306_maui_25-0500--OverwriteProjectToUnityPage.png](https://crieit.now.sh/upload_images/25f4051d2808773ea00e242d3e8b78e364974b8dc8e3b.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　それで　こういうページ作るだろ。  
ディレクトリー・パスを入れて　ボタンを押すと……」  

![202306_maui_25-0540--Folders-o2o0.png](https://crieit.now.sh/upload_images/ee7071e309c6fa3adaa35a07964576a06497554762594.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　Unity プロジェクトへ　フォルダーや　ファイルを送り付けるという算段だぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　Unity の外部で　ゲーム・オブジェクトを作れるの？  
Unity の外部で　プレファブは作れるの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　Unity に　そういう　ＡＰＩ　があるか？　ということだな。  
調べてみようぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　そんなことを　しようという人が少ないのか　記事が見当たらないな」  

## 設定の保存を作れだぜ

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　毎回　📂 `Assets` フォルダーへのパスを入れるのが　面倒なんだけど？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　ユーザー・データとして保存したいよな。  
最近流行りのファイル形式は何だぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　TOML 1.0 はどうだぜ？」  

📖　[公式　＞　toml](https://github.com/toml-lang/toml/wiki)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　Tomlyn を NuGET で入れてみるか」  

📖　[Tomlyn](https://github.com/xoofx/Tomlyn)  

## MVVM

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　あれっ？」  

![202306_maui_25-1459--text-box-default-o2o0.png](https://crieit.now.sh/upload_images/c2e22ea1ecfe5617dfa3a5a51878509a6497d83ed2201.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　このテキスト・ボックスの初期値って　どうやって　入れるんだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　お父んが　さっき読んでいた記事に書いてあるだろ。 MVVM のところを読み直せだぜ」  

📖　[Microsoft　＞　Upgrade your app with MVVM concepts](https://learn.microsoft.com/en-us/dotnet/maui/tutorials/notes-mvvm/)  

![202306_maui_25-1508--MVVM.png](https://crieit.now.sh/upload_images/b92492bfd9e12e4e78cededee82797d26497d9f92dac0.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　とりあえず　📂 `Views` 、 📂 `ViewModels` 、 📂 `Models`　の３フォルダーを揃えよう」  

![202306_maui_25-1518--model-o2o0.png](https://crieit.now.sh/upload_images/6e271686644c51e40fd8a76b6302d5e96497ddac6c8de.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　なんだか分からないが　Model　は　ただのオブジェクトだろ。イミュータブルに作ったった」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　ViewModel　は　なんか複雑だな　説明を　よく読も」  

📖　[Create the About viewmodel](https://learn.microsoft.com/en-us/dotnet/maui/tutorials/notes-mvvm/?tutorial-step=4)  

![202306_maui_25-1613--viewModel-o2o0.png](https://crieit.now.sh/upload_images/88a3db11149efb1bf819bb67fa4339e26497e9410c31d.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ViewModel　は　Model　と　変更通知プロパティ　を紐づければいいんだろ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ビュー・モデルのデフォルト・コンストラクターは public 修飾にする必要があるぜ」  

![202306_maui_25-1627--View-o2o0.png](https://crieit.now.sh/upload_images/b09892288a97de3f53119d7043bec5f96497ecc95d14e.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　View　は　ここまで書き足したぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　ボタンは　コマンドで書き直す必要があるんじゃない？」  

![202306_maui_25-1646--Command-o2o0.png](https://crieit.now.sh/upload_images/c040e3e89ac58a9f8c17c91ecedafc966497f1280dfd8.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ViewModel　に　コマンドを取り付け。  
ビュー・モデルは　MVVMアーキテクチャーの中で　雑用とか、アシスタント・ディレクターの役割を担当するんだな」  

![202306_maui_25-1657--View-o2o0.png](https://crieit.now.sh/upload_images/7d16c5aa2b5b004595041c770c975dee6497f39425a5b.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　View　も更新。  
イベントハンドラを消し、コマンドを追加」  

## ユーザー・データをどこに保存するか？

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　いろいろなフォルダーに　ユーザー・データは保存できるが、どこにするんだぜ？」  

📖　[特殊ディレクトリのパスを取得する](https://dobon.net/vb/dotnet/file/getfolderpath.html)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　ユースケースによる。  
２Ｄ　ＲＰＧ　を開発するような　アクターは、  
いつも　同じ部屋で　同じ１台のパソコンを使って　１人で開発している、という状況設定を押し付けることにしようぜ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　それ以上のものを要求するユーザーは　ネギラーメン　ではなく  
もっと　金出して　高級な開発ツールを使えばいいのよ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　そりゃそうだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ　LocalApplicationData　だな」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　あれっ？」  

```plaintext
　　C:
　　└── 📂 Users
　　　　└── 📂 {ユーザー名}
　　　　　　└── 📂 AppData
　　　　　　　　└── 📂 Local
👉 　　　　　　　　└── 📂 Muzudho
　　　　　　　　　　　　└── 📂 2D RPG Negiramen
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　他人のローカルＰＣに　わたしの名前のフォルダーが　ポコポコできるの　嫌なんだが……」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　屋号、　サークル名、　ホームページ名など　いろいろあるけど」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　仕事で金取ってないし　屋号もおかしいしな」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　サークル名が　一番良いのでは？」  

```plaintext
　　C:
　　└── 📂 Users
　　　　└── 📂 {ユーザー名}
　　　　　　└── 📂 AppData
　　　　　　　　└── 📂 Local
👉 　　　　　　　　└── 📂 Doujin Circle Grayscale
　　　　　　　　　　　　└── 📂 2D RPG Negiramen
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　`Grayscale` だけだと　何だか分からないので、  
かなり長いけど `Doujin Circle Grayscale` にしよう」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　ひねりのない　名前にするからよ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　あれっ！　MAUI　には　AppData 下の LocalFolder にアクセスする正式な方法が無い！」  

📖　[設定情報とデータの保存 (3/5)](http://libro.tuyano.com/index3?id=2596003&page=3)  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　マルチプラットフォームだから　Windows　のフォルダーにアクセスするのが　ナンセンスなんじゃないか？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　あっ、そうか～！」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　MAUI　は他の手段を用意しているのかしら？　調べなさい」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　知らんことばっかりなら　調べればいいだけだぜ」  

📖　[File system helpers](https://learn.microsoft.com/en-us/dotnet/maui/platform-integration/storage/file-system-helpers?tabs=windows)  

```cs
                string mainDir = FileSystem.Current.AppDataDirectory;
                // Example: `C:\Users\むずでょ\AppData\Local\Packages\1802ca7b-559d-489e-8a13-f02ac4d27fcc_9zz4h110yvjzm\LocalState`
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　UUID を含んだ文字の羅列になるらしい」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　それは　ネギラーメンを何回実行しても同じディレクトリー名になるのかだぜ？」  

```cs
string mainDir = FileSystem.Current.AppDataDirectory;
// Example 1回目: `C:\Users\むずでょ\AppData\Local\Packages\1802ca7b-559d-489e-8a13-f02ac4d27fcc_9zz4h110yvjzm\LocalState`
// Example 2回目: `C:\Users\むずでょ\AppData\Local\Packages\1802ca7b-559d-489e-8a13-f02ac4d27fcc_9zz4h110yvjzm\LocalState`
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　同じだぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　今どき　合理的な解決方法　してんのねー」  

![202306_maui_25-1954--save-config-file.png](https://crieit.now.sh/upload_images/aa8ee7b59466c8fda7fe2c9c4a66038364981d31e1a32.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　設定ファイルの保存の仕方は　覚え直した……。  
やり方ぜんぜん変わってた……」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　次は　そのファイルを読み取る方法を　覚え直せだぜ」  

## TOML形式ファイルを読み取ろうぜ？

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　もう１回　Tomlyn　の調べ直し」  

📖　[Tomlyn　＞　Documentation](https://github.com/xoofx/Tomlyn/blob/main/doc/readme.md)  

![202306_maui_25-2024--load-toml.png](https://crieit.now.sh/upload_images/99d20d8910e5832447e4950134c0ade56498242f58f8f.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　これで　Toml　も読み込めるぜ」  

![202306_maui_25-2026--memory-o2o0.png](https://crieit.now.sh/upload_images/dc077e79a069faa27b0affd8ffdb6ffe649824a3331f9.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　前に入力した内容も　フォームが覚えてくれるようになったから　楽になったぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　先送りにしていた　変数ｘ　は　どうすんの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　絵を描くツールも　Windows Paint　と、　GIMP　しかないしな……  
少し　ネットで調べる」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　特許が取られてるかどうか　分からん」

📖　[WOLF Editor 公式　＞　【ﾏｯﾌﾟﾁｯﾌﾟ素材はどういう風に作ればいいの？】](https://www.silversecond.com/WolfRPGEditor/Guide/MAKEMAT_004.html)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　ゲームの特許なんか調べてられん。　ページ開いて出てくるの、こんなんだぜ？」  

📖　[特開2007-244536](https://www.j-platpat.inpit.go.jp/c1800/PU/JP-2007-244536/E79286C057363216D5E71D8D82C3A60F5466927DAC084FBE9C97014C8B662FFE/11/ja)  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　じゃあ　訴えられて死ねだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「  
真理は　避けられず  
真実は　踏み込んだ者にしか見えず  
真相は　勝手なものである」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　ゲーム業界に首を突っ込みたかったら　死にましょう。  
生きて帰るな。代わりに　徹底的に世界を破壊しなさい」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　WOLF EDITOR のドキュメントが整理されているので、それ読む」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　ピクセル・アートを描くのに　良い無料のツールって　どんなのだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　有料のフォトショップしか　選択肢　無いのに……」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　こんなサイトがあった。後で調べよう」  

📖　[www.pixilart.com](https://www.pixilart.com/draw)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　マップ・タイルは　16 x 16 ピクセル・サイズが単位のようだぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　それを　どれぐらいのサイズのキャンバスの中に　敷き詰めんの？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　マルチ・プラットフォームなのだから、答えはないぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　Nintendo Switch　は、　1080 x 720　だそうだぜ。  
これを　参考に試算しよう」  

📖　[Nintendo　＞　Switch　＞　Technical Specs](https://www.nintendo.com/switch/tech-specs/)  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　タイル数で言うと、 67.5 x 45　枚だな。スクリーン上に　3037.5　枚のタイルがあるぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　一層で？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　オブジェクト数が　多い気がするけど、　ＲＰＧ　なら大丈夫なのかなあ？」  

## マップ・エディターの画面デザイン

![202306_maui_26-0312--map-editor.png](https://crieit.now.sh/upload_images/6ef16ba09a3988ffcfb25147f83c16aa6498849bafd25.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　マップ・エディターって　こんなレイアウトで　いいのかだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　違うんじゃないか？」  

![202306_maui_26-0318--map-editor-2.png](https://crieit.now.sh/upload_images/df66ea09812b6124f653d3e3957dfe2f6498862c4938f.png)  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👆　描画ツールが　いくつかあるんだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　描画ツールって　どんなけ　あるんだぜ？」  

![202306_maui_26-0318--map-editor-3.png](https://crieit.now.sh/upload_images/d927ca1a3044be961f15a20f3e520e60649888762a522.png)  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👆　分からん。これぐらいから　始めればどうか？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　境界線ペンの仕様が　はっきり分かんないかしら？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　オート・タイルか。　説明が　よく分かんないんだよな」  

![202306_maui_26-0358--auto-tile-4.png](https://crieit.now.sh/upload_images/fcbcef837936039d85a3e984eb1b964664989f5be3297.png)  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👆　お父んに　分かりやすいように　まとめたぜ。  
空間充填問題も　セル・オートマトンも　好きだろ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　うわっ　二ム計算みたいなの　出てきた」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　あー、はいはい、分かりました」  

![202306_maui_26-0504--auto-tile-5.png](https://crieit.now.sh/upload_images/5c6991ff6a6d52a54d728c03758279736498a248ee8da.png)  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　👆　こんな役割なのよ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　接続時だけでなく、切断時の再計算も大変そうだ」  

![202306_maui_26-0529--auto-tile-7.png](https://crieit.now.sh/upload_images/7803ee0cb7cc706250ac3d6d085a45406498a5df76c3a.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　でも　オート・タイルの仕様は　理解したな」  

# 📅 2023-06-26 素材が何もない

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　pixelart.com の使い方を練習する」  

📖　[www.pixilart.com](https://www.pixilart.com/draw)  

![202306_maui_26-1940--adventure-field.png](https://crieit.now.sh/upload_images/e4993a4e6ec072db8dcafbe69ba5014f64996b689e42d.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　あれっ？　64 x 64 pixel のつもりで描いたのに　でかいな……」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　1216 x 1216 pixel あるわよ？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ　使えないなあ」  

![202306_maui_26-1944--adventure-field.png](https://crieit.now.sh/upload_images/7a184b3af9015b62e7a795b16599b62364996c40edec0.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　Save じゃなく、 Download すればいいのか」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ　これを最初のマップタイルとして　MAUI　の画面に表示してみようぜ？」  

## 初期設定

![202306_maui_26-2031--startup-config.png](https://crieit.now.sh/upload_images/51c863a93677a1d9ba7d018d335ffd0b649979a2b5790.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　初期設定として　これだけ入力してくれないと　つらい」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　ほとんどの人は　ディレクトリー・パスも入力できず　投げるんじゃないの？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ファースト・ビューで　ユーザーが入力できるのは、  
自分の名前と　メール・アドレスぐらいだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ　ファースト・ビューのボタンを　クリックするところまでは  
設定無しで　行けるようにしよう。  
そこで何か　ボタンを押したら　初期設定画面へ」  

![202306_maui_27-0412--startup-configuration-page.png](https://crieit.now.sh/upload_images/a8edf5a6750f3134f704ddef7aada5266499e35ea38bc.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　パンくずリストで　どう表現したらいいんだぜ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　サイト・マップのツリー構造を崩したくないから、  
モーダル・ダイアログ・ボックス的に　ページ遷移せず出てくる　サブ・ウィンドウみたいにできないの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　やり方分からん。調査だな」  

# 📅 2023-06-27 モーダル・ダイアログボックスを作れるかだぜ？

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　マイクロソフトのドキュメントって、スクリーンショットを使った説明が　圧倒的に足りないよな」  

📖　[.NET MAUI ウィンドウ](https://learn.microsoft.com/ja-jp/dotnet/maui/fundamentals/windows)  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　じゃあ　まず　普通のサブ・ウィンドウを出して、閉じるところまで　やってくれだぜ」  

📖 [Opening a new window in MAUI](https://stackoverflow.com/questions/70866169/opening-a-new-window-in-maui)  

```cs
    /// <summary>
    /// ［ウィンドウ表示テスト］ボタン押下時
    /// </summary>
    /// <param name="sender">このイベントを呼び出したコントロール</param>
    /// <param name="e">この発生イベントの制御変数</param>
    private void TestShowWindowButton_Clicked(object sender, EventArgs e)
    {
        var secondWindow = new Window
        {
            Page = new StartupConfigurationPage
            {
                // ...
            },
            Width = 1200,
            Height = 400,
        };

        Application.Current.OpenWindow(secondWindow);
    }
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　これで　ウィンドウは　ポップアップされるけど、もっと簡単な書き方無いかなあ？」  

```cs
    /// <summary>
    /// ［ウィンドウ表示テスト］ボタン押下時
    /// </summary>
    /// <param name="sender">このイベントを呼び出したコントロール</param>
    /// <param name="e">この発生イベントの制御変数</param>
    async void TestShowWindowButton_Clicked(object sender, EventArgs e)
    {
        await Navigation.PushAsync(new StartupConfigurationPage());
    }
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　こう書くと　同じウィンドウで　ページだけ　スライドする演出付きで　切り替わるぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　戻るボタンも　付いてるし、こっちの方が　かっこいいわよ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　ウィンドウを閉じるボタンは、どう書くんだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　`Navigation.PopAsync();` じゃないのかだぜ？」  

📖　[.NET MAUI (いろんな画面遷移)](https://qiita.com/kashin777/items/2f1abcba9c8fa02b592c)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　ContentPage クラスを継承したコード・ビハインド　には　Navigation　書けるけど、  
ViewModel のプロパティーである Command にはどこから　Navigation　持ってくるんだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　Backwards Navigation があるんじゃないか？  
`await Shell.Current.GoToAsync("..");` を試せだぜ」  

📖　[Backwards navigation](https://learn.microsoft.com/en-us/dotnet/maui/fundamentals/shell/navigation#backwards-navigation)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　おー、戻れたぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　戻ったはいいけど、次の画面に進みたかったんだけど」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　グローバル変数で　進みたい画面を覚えさせとくかー」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　構成設定の要求を　ページ間に挟むのは　でけた」  

## タイル・マップを Unity の Assets フォルダー下へコピーしろだぜ

![202306_maui_27-2147--tile-map.png](https://crieit.now.sh/upload_images/97fa90cb563b7578b614ae1ddfc4cab8649adb0fd5598.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　この画像を　Unity の Assets フォルダーへコピーしたいけど……」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　この画像のファイル・パスって　どうやって指すんだぜ？  
カレント・ディレクトリー　どこよ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　指せるからこその Resources ディレクトリーなんじゃないの？  
Special Directory に無いの？」  

📖 [Windowsの既定のイメージ ディレクトリ](https://learn.microsoft.com/ja-jp/dotnet/maui/windows/platform-specifics/default-image-directory)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　`Application.ImageDirectory` を調べてみるかだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　XAML の中にしか書けないらしい」  

# 📅 2023-06-28 初期素材をどこに置くんだぜ？ 

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　ワーキング・ディレクトリーの設定方法を調べた方がいいのでは？」  

📖 [How to change the Current Working Directory of Maui Blazor App](https://stackoverflow.com/questions/74956504/how-to-change-the-current-working-directory-of-maui-blazor-app)  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　まず　`AppDomain.CurrentDomain.BaseDirectory`　が何を出力するか　調べてみてくれだぜ」  

![202306_maui_27-2252--base-directory-o2o0.png](https://crieit.now.sh/upload_images/c5fcf73a18d6d9e4b8e87c0d1ccb02aa649ae9cbcdb1c.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　bin ディレクトリーの方を向いていて、 Resources フォルダーなんか見にこないぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　じゃあ　マップ・タイル画像は　ネギラーメンの実行ファイルとは別に　配ったらいいんじゃないの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　Git Hub にでも置いとけば　拾っていくかな？」  

![202306_maui_27-2304--working-directory-o2o0.png](https://crieit.now.sh/upload_images/3a082e62b1f4933040a203924701f1d6649aecce32a55.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　とりあえず　ここに置いておくぜ」  

![202306_maui_28-0814--configuration.png](https://crieit.now.sh/upload_images/0adecef231b607343638cbbe9f9d67dd649b6df52f56e.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　さらに調整」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　ツクラーは　こんな設定　できないから　ＲＭＵは　全部入りのパッケージで売るのよ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　**ソフトを自分で選んで　インストールして　設定するような**  
**パソコンの正しい使い方をしたくないのが、　ツクラーだぜ**」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　ネギラーメンは　ツクラーの思想とは　おさらばだぜ。  
ネギラーメンは　ただの食材を　ユニティーにコピーする　トッピング・ソフト　だぜ」  

## コピーしろだぜ

![202306_maui_28-1929--Duplicator.png](https://crieit.now.sh/upload_images/e9c2b56496ee4d3c28a0d336f258fa15649c0c0ea5594.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　さらに調整。  
ハードコーディングしてしまったが、ただの `Copy` だぜ」  

## タイルを選ばせろだぜ

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　タイル・パレットを作ってみましょう。  
この画像を　MAUI　に表示して、草原、砂漠、岩、海を　クリックできるようにしましょう」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　このポップアップというやつは　画面上に　画像が浮くやつじゃないか？  
試してみようぜ？」  

📖 [マイクロソフト　＞　ポップアップ](https://learn.microsoft.com/ja-jp/dotnet/communitytoolkit/maui/views/popup)  
📖 [Microsoft　＞　Popup](https://learn.microsoft.com/en-us/dotnet/communitytoolkit/maui/views/popup)

![202306_maui_28-2053--CommunityToolkit-Maui-o2o0.png](https://crieit.now.sh/upload_images/bfdb5a5797404c34ca0560b50d510101649c1fc01ac74.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　なんの説明も無いが、このパッケージが要るのでは？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　全然　ビルド通らないなあ。調べるか」  

📖 [.NET MAUI Community Toolkit Popup PopupHandler is incompatible](https://stackoverflow.com/questions/72506202/net-maui-community-toolkit-popup-popuphandler-is-incompatible)  

![202306_maui_28-2108--MauiProgram-o2o0.png](https://crieit.now.sh/upload_images/a565cbb5a22a37ec08495ccd100fb3e2649c2311659b9.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　こんなん書く必要があるのかだぜ、分からんって」  

![202306_maui_28-2117--Popup.png](https://crieit.now.sh/upload_images/b448957cb7ad3de052ba4b462b8d7d62649c24f345a9c.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　思ってるのと違って　モーダル・ダイアログボックスみたいなのが　出てきたぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　画面の真ん中じゃなくて、ボタンをクリックしたマウスの近くに　出せないの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　分からん」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ポップアップではなく、サブ・ウィンドウにしろだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　くそっ」  

![202306_maui_28-2132--SubWindow.png](https://crieit.now.sh/upload_images/d88420c35746975b905745a8ee3151b6649c288a0e8de.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　サブ・ウィンドウを出すのは　前にやったんで」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　そこに　タイルの画像を表示しましょう！」  

![202306_maui_28-2144--Image-o2o0.png](https://crieit.now.sh/upload_images/2dcab1a7afaa1ad2df88be1d5c7f07d8649c2b7dd2087.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　こんな風に　絶対パス書いたら　画像出てくるかな？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　さっさと　試せだぜ」  

![202306_maui_28-2147--Image.png](https://crieit.now.sh/upload_images/087ce5c5b977b0fa465f41a500ca2cf3649c2c1e7fb58.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　出たけど　画像サイズが　さっぱり……」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　そのサイズを　ぴったり　合わせてくれだぜ」  

![202306_maui_28-2230--WidthHeight-o2o0.png](https://crieit.now.sh/upload_images/1e57f6f3832d16d9f84df18443692626649c3651e1d3b.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ウィトス（WIdth；横幅）と　ハイト（Height；縦幅）を　指定すればいいのか」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　なんか変なデバッグ用のツールバーと被ってるから　真ん中らへんに表示しましょう！」  

![202306_maui_28-2236--Grid.png](https://crieit.now.sh/upload_images/e8c5fc8dfeee179c7a92b9a8c050ebe6649c377ea3f82.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　グリッドを使って真ん中へ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　画像にマウスカーソルを合わせたら、枠が出るようにしてみてくれだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　オン・マウス・オーバー　みたいなイベントハンドラが無いか　探してみるかだぜ」  

📖 [Mouse hover detection in .NET MAUI](https://stackoverflow.com/questions/73088203/mouse-hover-detection-in-net-maui)  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　MAUI　は、スマホのようなタッチ・デバイスで使われることを想定していて、  
デスクトップのようなマウス操作は　想定していないそうよ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　クソじゃないか」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　マウス・カーソルの位置を取得できないか、調べてみてくれだぜ」  

# 📅 2023-06-29 マウス・キャプチャーしてくれだぜ

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　マウス・キャプチャー自体　どうやるんだぜ？」  

📖 [How to capture global touch events in MAUI app](https://stackoverflow.com/questions/71911160/how-to-capture-global-touch-events-in-maui-app)  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　MAUI には　マウス・キャプチャーは無いのよ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ　Windows プログラミングかだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　その前に　ジェスチャーを調べてくれだぜ」  

📖 [Recognize a tap gesture](https://learn.microsoft.com/en-us/dotnet/maui/fundamentals/gestures/tap)  

![202306_maui_29-0642--Gesture.png](https://crieit.now.sh/upload_images/dd634f13650e0594fb465b39776d1273649ca9555c19f.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　なんか　いっぱいある。  
この `PointerGestureRecognizer` とか　それっぽくないかだぜ？
👇　調べるか」  

📖 [Recognize a pointer gesture](https://learn.microsoft.com/en-us/dotnet/maui/fundamentals/gestures/pointer)  

## コマンドに引数をよこせだぜ

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　あれっ？　どうやって　コマンドに引数を渡すんだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　調べろだぜ」  

📖 [Microsoft　＞　Commanding](https://learn.microsoft.com/en-us/dotnet/maui/fundamentals/data-binding/commanding)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　WPF みたいなものんか？」  

![202306_maui_29-0709--MouseCapture-o2o0.png](https://crieit.now.sh/upload_images/68fb9a38b95e11395dc593993293c042649cafb6ce729.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　反応はしてるから、後は　引数を取りたいぜ。  
もう少し調べるか」  

📖 [Microsoft　＞　PointerGestureRecognizer.PointerMovedCommandParameter Property](https://learn.microsoft.com/en-us/dotnet/api/microsoft.maui.controls.pointergesturerecognizer.pointermovedcommandparameter?view=net-maui-7.0)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　パラメーターも　コマンドなんだ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　いや、取れない」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　何か無いか」  

📖 [.NET MAUI Custom control with command and parameters](https://stackoverflow.com/questions/74889265/net-maui-custom-control-with-command-and-parameters)  

![202306_maui_29-0738--Command-o2o0.png](https://crieit.now.sh/upload_images/f8dafd13b5f2867db83d002a1436ee01649cb6ae2f33c.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　このコマンドから、何か引数にアクセスできないか？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　コマンドは　実行することしか　できないわねえ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ　コマンドを使っちゃいけないんだ」  

![202306_maui_29-0759--Code-Behind-o2o0.png](https://crieit.now.sh/upload_images/1bb040e82be83c0fb097c83ad18c5097649cbb8d9a4f8.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　コード・ビハインド　を使うと　画像上の座標を取ることはできるが……」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　コード・ビハインドと　ビュー・モデルと　何の関係があるんだぜ？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　WPFの依存関係プロパティみたいなものがないか　調べてみるぜ」  

📖 [How to use DependencyProperty in Maui?](https://stackoverflow.com/questions/73384133/how-to-use-dependencyproperty-in-maui)  

📖 [Microsoft　＞　Bindable properties](https://learn.microsoft.com/en-us/dotnet/maui/fundamentals/bindable-properties)  

📖 [How can I bind a property to a view model in MAUI?](https://stackoverflow.com/questions/70347196/how-can-i-bind-a-property-to-a-view-model-in-maui)  

![202306_maui_29-0821--BindContext-o2o0.png](https://crieit.now.sh/upload_images/87d459ce067ff5dbea0cb45b7cd2796a649cc0bc4a4e6.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　コード・ビハインドから、ビューにバインドされてる　ビュー・モデル　取れた……。  
WPF の DataContext と同じ考えだ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　簡単ねえ」  

![202306_maui_29-0831--Method-o2o0.png](https://crieit.now.sh/upload_images/d39615ad5ffa875a7ed25468bee5da88649cc32390fd0.png)  

![202306_maui_29-0826--CoordinateOnTheImage-o2o0.png](https://crieit.now.sh/upload_images/91834b5c3894a174c69bd61ebabb549d649cc2666d183.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　画像上の座標　取れた……」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　それを　いったん　ウィンドウ上の座標に変換して、  
32 x 32 pixels サイズのタイルを囲む枠を　置いてくれだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　調べるか……」  

📖 [How to get MAUI UI element absolute coordinates](https://stackoverflow.com/questions/75587601/how-to-get-maui-ui-element-absolute-coordinates)  

![202306_maui_29-1936--CoordinateOnTheWindow-o2o0.png](https://crieit.now.sh/upload_images/a06de2f8a40e09a7393bde4f01d97f96649d5f4866ecf.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　画像の座標は取れるのか。だったら　それ使えばいいんじゃ……」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ　次は　枠を描こうぜ。  
MAUI の画面上に　矩形を描く命令　あるかだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　これを読めだぜ」  

📖 [Draw a rectangle](https://learn.microsoft.com/en-us/dotnet/maui/user-interface/graphics/draw#draw-a-rectangle)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　`canvas` って　どっから出てきたんだぜ？
👇　調べるか」  

📖 [.net MAUI: how to draw on canvas](https://stackoverflow.com/questions/71001039/net-maui-how-to-draw-on-canvas)  

![202306_maui_29-2135--CursorOnTile.png](https://crieit.now.sh/upload_images/6a8adf578fa1e9d55eb361231d9a01f1649d7ab3a20cd.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　赤い枠は出せたけど、位置調整が大変だ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　マウスカーソルは　１ピクセルずつ動いて欲しいけど、  
赤い枠は　３２ピクセルずつ　動いて欲しい」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　じゃあ　グリッド　が要るんだ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　センタリングされていて、座標計算が　めんどくさい」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　左上が基準で　いいんじゃない？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　なんで　`Alignment` じゃなくて `Options` って名前なんだ？」  

📖 [.NET MAUI コントロールの配置と配置](https://learn.microsoft.com/ja-jp/dotnet/maui/user-interface/align-position)  

![202306_maui_29-2155--Cursor.png](https://crieit.now.sh/upload_images/9c47d184c1f7b884ff1d0d9aeb6053c4649d7f5676550.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　例えば　こんな感じ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　それっぽく　なったわねえ」  

## 入力透過

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　タイル・マップを　クリックしたいのに、  
その上のカーソルが　邪魔なんだが」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　入力透過を使えだぜ」  

📖 [VisualElement.InputTransparent プロパティ](https://learn.microsoft.com/ja-jp/dotnet/api/microsoft.maui.controls.visualelement.inputtransparent?view=net-maui-7.0)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　よし、それでイケてるぜ」  

## マウス・クリックした座標から、カーソルの位置を算出しろだぜ

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　隣の砂漠をクリックしたら、タイル・カーソルがそこを指すようにしなさいよ」  

![202306_maui_29-2332--CursorCoord.png](https://crieit.now.sh/upload_images/41235ad7870711f5a831f4ad2af665ee649d9658dae58.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　グリッドが　３２ピクセル固定で　ハードコーディングして　いけたぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　じゃあ　そのタイルを　マップ・エディター　で使いたいけど、  
マップ・エディターが　まだ無いのよねえ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　じゃあ　明日から　マップ・エディター　だな」  

# 📅 2023-06-30 ツール・アイコンが欲しいぜ

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　ペンのアイコンの絵を描くぜ」  

📖　[www.pixilart.com](https://www.pixilart.com/draw)  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　無くていいのに……」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　気分が出る！」  

![202306_maui_30-1905--tool-box.png](https://crieit.now.sh/upload_images/5005075469e18b3f7c4634029811b48f649ea907e9fef.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　pixilart.com のツールに　グリッドのサイズ指定が無いから　枠線　引いてしまう」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　どの画像の　何個目のタイルを表示するのか　名前で指定できるようにしたくない？」

```plaintext
tool_box.pen
```

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　👆　カテゴリー名と、そのメンバーを　ドット・シンタックスで指定して」  

```plaintext
crop_image("tool_box.png", 0, 0, 32, 32)
```

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　👆　画像のロードまで　やってくれるような」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　じゃあ　ＣＳＶ形式で記録したらどうだぜ？」  

```csv
code           , file        ,  x,  y, width, height, comment
tool_box.pen   , tool_box.png,  0,  0,    32,     32, ペン
tool_box.eraser, tool_box.png, 32,  0,    32,     32, 消しゴム
tool_box.bucket, tool_box.png,  0, 32,    32,     32, 塗りつぶし
```

```csv
code                  , file               ,  x,  y, width, height, comment
adventure_field.grass , adventure_field.png,  0,  0,    32,     32, 草原
adventure_field.desert, adventure_field.png, 32,  0,    32,     32, 砂漠
adventure_field.rock  , adventure_field.png,  0, 32,    32,     32, 岩
adventure_field.sea   , adventure_field.png, 32, 32,    32,     32, 海
```

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👆　例は　こうだぜ」  

```plaintext
　　例：　C:\Users\むずでょ\Documents\GitHub\2D-RPG-Negiramen
　　└── 📂 Workspace
　　　　├── 📂 Assets
　　　　│ 　├── 📂 CSV
👉 　　│ 　│ 　└── 📄 tiles.csv
　　　　│ 　└── 📂 Image
　　　　│ 　　　└── 📄 tool_box.png
　　　　└── 📂 For Unity Assets
　　　　　　├── 📂 CSV
👉 　　　　│ 　└── 📄 tiles.csv
　　　　　　└── 📂 Images
　　　　　　　　└── 📂 Tile Set
　　　　　　　　　　└── 📄 adventure_field.png
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ツール・ボックスのアイコン・ファイルの置き場所は  
ネギラーメンの　📄 `Workspace/Assets/CSV/tiles.csv` でいいかな？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　他のフォルダーも　けっこう　いじるんだな」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　その　`tiles.csv`　を作るエディターが欲しいわよね」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　タイル・パレット編集画面、みたいなやつかだぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　どんな画面レイアウトだぜ？」  

## タイル・パレット編集画面を作ろうぜ？

![202306_maui_30-2021--tile-palette-editor-2.png](https://crieit.now.sh/upload_images/08ddfc30327f22a09527a986c28a0ab0649ec22d550ab.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　コメントを入力することを考えると、横に広く使いたいしな」  

![202306_maui_30-2200--tile-palette-editor.png](https://crieit.now.sh/upload_images/2c734aa1bcde4ca654ceecc2556ff644649ed22592445.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　こんな雰囲気で　どうだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　配色が　ＲＯＣＫＭＡＮ　だな」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　グリッドを引きなさいよ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　グリッド引くなら　ループ文を使うのが鉄板だと思うが  
ＭＡＵＩで　ループ文があるのか　分からん……」  

📖 [MAUI equivalent to CSS background-repeat: repeat;](https://stackoverflow.com/questions/75267102/maui-equivalent-to-css-background-repeat-repeat)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　Webみたいに　背景画像をタイルにしてリピートできるなら　グリッドが作れるかと思ったが  
それも無いみたいだし」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　動的に XAML の要素を追加・削除する方法も分からん」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　透明なキャンバスに　罫線引いて　タイル・マップの上に　覆い被せりゃいいんじゃないの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　それで行くか」  

## パンくずリストと、タイトル

![202306_maui_30-2305--tile-palette-editor-o2o0.png](https://crieit.now.sh/upload_images/230c62e9f9a6e6602a61c238320796d2649ee174d7fca.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　パンくずリスト付けたら　もっさり　したんだが、  
ヘッダーと　パンくずリスト　を１つに　まとめる方法　無い？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　タイトルバーに見えるところ、自動で付くのよねえ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　ナビゲーションじゃないか？　調べてみろだぜ」  

📖 [Microsoft　＞　NavigationPage](https://learn.microsoft.com/en-us/dotnet/maui/user-interface/pages/navigationpage)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　ソースの中には　いじれそうなものは無かった。もっと探そう」  

📖 [How to customize the navigation title view of MAUI ContentPage](https://stackoverflow.com/questions/74350962/how-to-customize-the-navigation-title-view-of-maui-contentpage)  

![202306_maui_30-2323--title-view-o2o0.png](https://crieit.now.sh/upload_images/dff54a3f11546e61beec3c71c17a9f1d649ee5872cd3d.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　初期状態は　こう書いてるのと　多分　おんなじらしい。  
これをベースに改造してみようぜ？」  

![202306_maui_30-2331--title-view-o2o0.png](https://crieit.now.sh/upload_images/86737243d2445653e27728f658a47ef5649ee79f04b98.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　パンくずリストと　ページ・タイトルを　同じ行に　まとめたぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　スマホの画面には　タイトル・バーが無いから、ページの中に作るのね」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ＰＣは　クローム（※）が付くんだな」  

※クローム　…　ウィンドウの枠。タイトルバーなどを含む  

## グリッドの線、引こうぜ？

![202307_maui_01-0007--grid.png](https://crieit.now.sh/upload_images/1bb0f0eefa123ef87e72b6fa35da0321649eeffc6311c.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ひとまず　ハードコーディングで　半透明の赤い色で　グリッドを置いてみたが　どうだろうか？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　まずは　いいんじゃないの？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　元画像の　横幅、縦幅も　表示してくれだぜ」  

![202307_maui_01-0035--tile-palette-editor.png](https://crieit.now.sh/upload_images/ad27942d9459a1d36bccbad4ecd78074649ef68d428a0.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　さらに細かく調整」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　タイル画像が大きかったとき、スクロールできんの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　この画面は　ハリボテ　なんで……。  
動きを付ける段階になったら　調べるぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　タイルＩｄを表示してくれだぜ」  

## 画像サイズを調べようぜ？

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　その前に　１枚の画像にタイルが　１００枚ぐらいなのか、　１０００枚ぐらいなのか、　１００００枚ぐらいなのか、  
規模を知りたいぜ」  

📖 [WOLF RPG エディター(ウディタ)でゲームを作る3　～マップチップとオートタイルを増やす～](https://nihamasoblog.com/wolf-editor-beginner3/)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　素材集の中を覗いてみないと　分からんな……」  

📖 [画像・音声素材データ集](https://silsec.sakura.ne.jp/WolfRPGEditor/MaterialList/html/)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　あれっ、思ってたより小さい……  
横 332 × 縦 772 かだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　なんだ　その　中途半端な数は？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　あれっ？　枠が付いてある……　これは使用例のスクリーンショットか。  
横 256 x 縦 608 のものもあるぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　なんだ　その　中途半端な数は？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　横 256 x 縦 544 のものもあるぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　決まってないのでは？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　横はニゴロ（２５６）のようだぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　じゃあ　縦長　になるんだ。ポートレートだ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　１つのタイル・サイズは　３２ｘ３２　を最小として、  
６４ｘ６４　とか　９６ｘ６４　とか　自由気ままに配置されているぜ！」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　６０８　は　３２　で割り切れるわねえ。１９よ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　素数だ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　どういうシステムなんだ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ分かった、　256 × 608　を画面に表示してみようぜ？  
👇　画像を作るぜ」  

📖　[www.pixilart.com](https://www.pixilart.com/draw)  

![map-tile-format-8x19.png](https://crieit.now.sh/upload_images/a2b9378330e366e963608623f2531aba649efd9bb11f7.png)  

![202307_maui_01-0118--scroll-view.png](https://crieit.now.sh/upload_images/3487861757d85388d7bccffada24dd42649f00713e84b.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ハリボテだが　スクロールバーは　付けれるぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　お父んの思想と　ウルフエディターの素材作成勢とで　相性が悪いの　わらう」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　意匠は　相容れない方が　著作権を差別化できて有利なのよ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　明日は　このハリボテに　動きを付けていこうぜ？」  

# 📅 2023-07-01 ページに引数を渡すにはどうやるんだぜ？

```plaintext
http://www.example.com/index.html?name=banana
                                 ^^^^^^^^^^^^
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　Ｗｅｂ系なら　ＵＲＬの後ろに　クエリー文字列を付けることができるが、  
MAUI で画面遷移時に何かデータを渡すには　どうやるんだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　調べろだぜ」  

📖 [MAUI：画面遷移時のデータの受け渡し](https://shuhelohelo.hatenablog.com/entry/2022/08/12/234214)  

![202307_maui_01-1936--parameters-o2o0.png](https://crieit.now.sh/upload_images/ad3fa1c294a5bbf99de87c28431d07c564a0020162999.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　`parameters` で　オブジェクトを渡せそうだな。  
渡した先での　受け取り方も　調べるかだぜ」  

![202307_maui_01-2017--property-o2o0.png](https://crieit.now.sh/upload_images/76d3e3528b9fb1b4b470c17fc8d1a26564a00ba72a357.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ビューモデルに　フィールドがあるとして……」  

![202307_maui_01-2020--parameters-o2o0.png](https://crieit.now.sh/upload_images/e4fcb6088c13e5c71a1a6d4fe2da8cd964a00c5bdd42a.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　フィールド名を使って、オブジェクトを渡せるみたいだな」  

## PNG 形式画像ファイルのサイズを取得してくれだぜ

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　PNG 形式画像ファイルのサイズを取得してくれだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　あれっ？　やり方が分からん……  
👇　調べるか……」  

📖 [[C#]PNGの幅，高さのみをファイルから高速に取得する方法について](https://dixq.net/forum/viewtopic.php?t=17600)  
📖 [【C#】PNG画像サイズの取得方法](https://zenn.dev/alfina2538/articles/998e406272f0fd)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　渡せるものと、渡せないものとがある。  
調べるか……」  

![202307_maui_02-2156--query-parameter-on-class-o2o0.png](https://crieit.now.sh/upload_images/a867f2fa49b7c2dfbf3aae83afe15f1c64a022d8e1891.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　`QueryParameter` アトリビュート（属性）をクラスに１個１個すべて書くのが確実らしい」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　MVVM 実装してるだけで　１日　終わりそうだ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　画面は　手戻り無しで　１発で作らないと　時間が　厳しそうねえ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　要らん画面　作ったら　１日は無駄になるな」  

![202307_maui_02-2215--on-property-changed-o2o0.png](https://crieit.now.sh/upload_images/6cac9c0c25043305e80a34e944d74d7b64a027488b915.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　変更通知プロパティの手順の順序を　間違えると　画面に出てこないから　正確にやるぜ」  

![202307_maui_02-2155--query-parameter-o2o0.png](https://crieit.now.sh/upload_images/40127b25dc104c22fe17b261fe47f59264a027778bc0a.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　画像サイズに　動きを付けたぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　全部に動きを付けてくれだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　つら」  

## GraphicsView はどうやってリフレッシュするんだぜ？

![202307_maui_02-2236--graphics-view.png](https://crieit.now.sh/upload_images/ff0567a511f881be175dcc342d5d604664a02c3754d3f.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　グリッドは `GraphicsView` を使ってプログラム的に描画しているが、  
これは　どうやって再描画するんだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　調べろだぜ」  

📖 [Microsoft　＞　GraphicsView](https://learn.microsoft.com/ja-jp/dotnet/maui/user-interface/controls/graphicsview)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　`graphicsView.Invalidate();` を呼び出せばいいのか。やってみるかだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　ビューモデルから　どうやって　`graphicsView`　にアクセスするんだぜ？」  

📖 [Binding from view to GraphicsView property in .NET MAUI](https://stackoverflow.com/questions/74144361/binding-from-view-to-graphicsview-property-in-net-maui)  
📖 [How to databind imageview with drawable in viewmodel?](https://stackoverflow.com/questions/57243160/how-to-databind-imageview-with-drawable-in-viewmodel)  
📖 [.NET MAUI: Dynamic behaviour of graphic elements when using MVVM](https://stackoverflow.com/questions/74901102/net-maui-dynamic-behaviour-of-graphic-elements-when-using-mvvm)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　同じ悩みを持ってるやつらが　見つからんなあ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　`Drawable` に変更通知プロパティを　仕掛けられないの？」  

![202307_maui_01-2259--tile-set-grid.png](https://crieit.now.sh/upload_images/1a5a552a1d076a74d993e9d1a395fcad64a03175a0cdd.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ビュー・モデルから　IDrawable 実装インスタンスの Draw をコールする方法も分からん」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ビュー・モデルから　ビューに　アクセスできないのかだぜ？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　調べてみるか」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　ビュー・モデルは　変更通知プロパティ　をビューに仕込んで連携できるだけだな」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　ビュー・モデルの方から　ビューのキャンバスを変更できないと　グリッド・サイズを更新できなくない？」  

![202307_maui_01-2311--contentPage-resource-o2o0.png](https://crieit.now.sh/upload_images/de98d77bf4fdbe8a84ec75d36ec8bead64a03427a3e78.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　リソースに　引数を渡す方法って　ある？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　調べろだぜ」  

📖 [Resource dictionaries](https://learn.microsoft.com/en-us/dotnet/maui/fundamentals/resource-dictionaries)  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　リソースは　スタティックなんじゃない？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ　`GraphicsView`　を使って　グリッドを描画するのが　そもそも間違ってる？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　そうなのでは」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　伸縮自在なラインを　固定長で１０００本ぐらい　画面に持たせた方がいいのかだぜ？」  

![202307_maui_01-2324--graphics-view-o2o0.png](https://crieit.now.sh/upload_images/a277514de963191868e489239c9deed164a0374fdd40e.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　`GraphicsView` の横幅、縦幅は　バインディングできるから、  
ビューモデルから　縦幅、横幅の変更通知を送ったら　`IDrawing` 実装インスタンスの `Draw` メソッドを呼び出してくれないかな？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　試せだぜ」  

![202307_maui_01-2347--dirtyRect-o2o0.png](https://crieit.now.sh/upload_images/4897274cc16bc53bee7e43a2ce3f52f264a03cb0094b1.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　なんらかのタイミングで　`Draw` メソッドの `dirtyRect` 引数に矩形が入っているから、  
あとは　ビュー・モデルから　任意のタイミングで `Draw` をコールできれば　うまくいきそうだが」  

![202307_maui_01-2356--onPageOpen.png](https://crieit.now.sh/upload_images/1e08f5771ddacd6582669038b7c5d50d64a03eaceb4c3.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　画面を出した初回は　画像サイズが分かってるんで　グリッドも合わせられるぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　グリッド・サイズは途中からも　変えたいのよ」  

![202307_maui_02-0042--hack-o2o0.png](https://crieit.now.sh/upload_images/4bcd9fbc41ccf91aa430da0d1bac9d0f64a049fee8594.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　グリッドの横幅が変更されたタイミングで  
グリッドの画像サイズの横幅を 1px 伸ばしたったら、再描画が呼び出されるけど」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　イケてないわねえ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　再描画が呼び出されるトリガーのうち、もっとも無難なものって何だぜ？　タグの変更トリガーとか無いのかだぜ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　タグだって　変えられたくないわよ」  

### トリック・コード

![202307_maui_02-0122--trick-code.png](https://crieit.now.sh/upload_images/09a9ac151ad8ea8652426725ba7751e564a05319abfc5.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　今回のプログラミングで最初のトリック・コードだぜ。  
画像の横幅が偶数のときは　横幅を１伸ばし、  
画像の横幅が奇数のときは　横幅を１縮めて　無限に振動させるぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　わらう」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　グリッドのサイズを変えるたびに  
グリッドの右端が　１ｐｘ飛び出たり　元に戻ったりするんだけど」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　トリックがバレないように修正する」  

![202307_maui_02-0147--cancel-code-o2o0.png](https://crieit.now.sh/upload_images/3b15e21819f7be994b31f6094fab8cbc64a058dca8572.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　トリック・コードのせいで　割り食って　おかしくなっている箇所は  
キャンセル・コードを書いて　おかしなものを　隠すぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　不毛な戦い　わらう」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　トリック・コードなんか書くからよ」  

![202307_maui_02-0150--grid-size.png](https://crieit.now.sh/upload_images/9555293afe0eaadb60fb84523555968064a05986a02d7.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　グリッド・サイズを変えれるようになった。今日はここまでだぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ＭＶＶＭの実装　時間かかるんだな、作る画面は　最低限の数で済むように　全体を考えないとな」  

# 📅 2023-07-02 タイル・パレット編集ページを作っていこうぜ？

![202307_maui_02-1431--grid-point-o2o0.png](https://crieit.now.sh/upload_images/a65ae8d6cdf1e7b37cc75def6121e38664a10c55609ab.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　グリッドの全体も　ずらせるようにしたので、 **位相** にも対応だぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　スクロールとかねえ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　線形代数の変換の王様、アフィン変換にも対応しろだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　開発時間足りない。次へ」  

![202307_maui_02-2156--grid.png](https://crieit.now.sh/upload_images/cb165a2a837fc638a8fc6c041429b88364a1744d5f299.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　カーソルが　グリッドに　吸着するようになったぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　これだけで　日曜日が終わろうとしている。時間がかかるな」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　下側の　タイル　０　０　０　０　のとこに　カーソルの位置を表示しなさいよ」  

![202307_maui_02-2225--cursor-position-o2o0.png](https://crieit.now.sh/upload_images/009adbe69fa4c11c265cdac4caf2da2d64a17b31be7b8.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　はい」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　お父ん。グリッド１ます　の　たて　に　50000　と入れたら強制終了したぜ？」  

![202307_maui_02-2229--size-over-o2o0.png](https://crieit.now.sh/upload_images/31a586467e701018f84813e7c4ca6d4f64a17bf404caa.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　確かに。あのグリッド、ただの縦線じゃなくて　画像だからな」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　テキスト・ボックスに　バリデーション（妥当性検証）を入れなさいよ」  

## バリデーションを入れようぜ？

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　何もかも　やり方が分からん。覚え直しだ。　調べるか……」  

📖 [Microsoft　＞　Validation](https://learn.microsoft.com/en-us/dotnet/architecture/maui/validation)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　説明の通りコードを書いても　`IValidity`　のところで　コンパイル・エラーになるの　分けわからんな」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　この記事が　クソ　だということを伝えるボタンが無いぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　👇　文字数のチェックはできるみたいよ？」  

📖 [TextValidationBehavior](https://learn.microsoft.com/en-us/dotnet/communitytoolkit/maui/behaviors/text-validation-behavior)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　もっと　まともな方法を調べるぜ」  

📖 [RequiredStringValidationBehavior](https://learn.microsoft.com/ja-jp/dotnet/communitytoolkit/maui/behaviors/required-string-validation-behavior)  
📖 [NumericValidationBehavior](https://learn.microsoft.com/ja-jp/dotnet/communitytoolkit/maui/behaviors/numeric-validation-behavior)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　`NumericValidationBehavior` を調べてみるか」  

![202307_maui_02-2335--validation-o2o0.png](https://crieit.now.sh/upload_images/2a89a597755074ca97fd1a8a3b904c1064a18ba60f168.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　下ごしらえは　XAML　だけで終わるの　簡単だな」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　１辺の上限が　16384　じゃなくて、  
面積の上限が　16384　か？  
ルート２　したら　128　で小さすぎないか？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　`10000` x `10000` にしても動いているぜ？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　なんか限界　攻めたくないな。  
グラフィック・カードの性能に依存するのかも知らん。  
とりあえず　上限は　8192　にしよう！」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　2 の 13乗に　意義を感じないわね」  

![202307_maui_02-2338--validation-o2o0.png](https://crieit.now.sh/upload_images/00c8fe1b889a24b1248df026ac7bf56764a18c26e2e0b.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　じゃあ　無難な　上限　2048　にして、  
文句があるやつがでてきたときに　拡張用の設定ファイルを用意しようぜ？」　

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　設定できるんなら　それでいいよな」  

![202307_maui_02-2328--validation-o2o0.png](https://crieit.now.sh/upload_images/01caafe26b01dcebb561b62d129a4b3864a189cb9963c.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　あれっ？　色が変わるだけで　入力できてしまう？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　入力を拒絶しなきゃ、意味なくない？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ビュー・モデルの方で　2048　以上を入力したら　2048　として扱うような処理がいるかもしれないな」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　あっ、 0 を入れても　フリーズしたぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　明日は　バリデーション　を　みっちり　やるぜ」  

# 📅 2023-07-03 バリデーションを入れようぜ？

```plaintext
　　C:
　　└── 📂 Users
　　　　└── 📂 むずでょ
　　　　　　└── 📂 AppData
　　　　　　　　└── 📂 Local
　　　　　　　　　　└── 📂 Packages
　　　　　　　　　　　　└── 📂 1802ca7b-559d-489e-8a13-f02ac4d27fcc_9zz4h110yvjzm
　　　　　　　　　　　　　　└── 📂 LocalState
　　　　　　　　　　　　　　　　├── 📄 configuration.toml
👉 　　　　　　　　　　　　　　└── 📄 settings.toml
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆 `settings.toml` ファイルを作って、そこに　グリッドのタイル・サイズの一辺の上限は 2048 だという設定を  
書いておこうぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　両端に太さが 2px のグリッドの線があるから、1px ずつ食み出るとして 2048 から 2px 引いて 2046 にすべきだと思うが」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　上限値の理由に　意義がないのよ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ 2046 !」

```toml
[tile]

# 一辺が 2048 ピクセルのキャンバスを想定し、両端に太さが 2px のグリッドの線があって 1px ずつ食み出るから 2px 引いて 2046
max_width = 2_046
max_height = 2_046
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　１辺が 2048 ピクセルのタイルを作りたいやつは　設定を変えろ」  

![202307_maui_03-2111--validation-o2o0.png](https://crieit.now.sh/upload_images/563144e6bb6ba23d5fa984f33d10daca64a2bb5ba858a.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　バリデーションというのは　ビューの色を変えるぐらいしか機能がないので、  
ビューモデルでは　単に　リミット・チェックを入れた」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　入力された値は（弾かず）とりあえず受け取る、という思想なのね」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　入力を受け取らないフラグ　無いのかなあ？　もっと探してみろだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　疲れたんで　とりあえず　次へ」  

## マウス・ドラッグに対応しろだぜ

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　お父ん。マウス・ドラッグして　タイルを連続選択できないのかだぜ？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　作ってない機能は　存在しないぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　作れ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　ドラッグ　アンド　ドロップなのかな？  
プレス　アンド　リリースじゃないかな？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　ドラッグ　アンド　ドロップって、  
ファイルをつかんで　アプリケーションの領域に落とすやつを言うのよ。  
タイルの連続選択は　プレス・アンド・リリース　じゃないかなあ？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　今は　タップした時点で　カーソルの位置が決まっているが、  
リリースした時点で　カーソルの位置を決めた方がいいのかだぜ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　もっさりしない？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　操作感は　統一的になると思うが」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　タップしたジェスチャーは　捕捉できるが、  
リリースしたというジェスチャーは　どうやって捕捉するのかな？  
調べるか」  

📖 [スワイプ ジェスチャを認識する](https://learn.microsoft.com/ja-jp/dotnet/maui/fundamentals/gestures/swipe)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　スワイプは　向きだけかあ」  

📖 [ドラッグ アンド ドロップ ジェスチャを認識する](https://learn.microsoft.com/ja-jp/dotnet/maui/fundamentals/gestures/drag-and-drop)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ドラッグ　アンド　ドロップは　ファイルを落とすやつだしな」  

📖 [ポインター ジェスチャを認識する](https://learn.microsoft.com/ja-jp/dotnet/maui/fundamentals/gestures/pointer)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ポインター・ジェスチャーには　入りと　出があるのか。これを調べてみるか」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　エンターは　画像と重なったところで、  
エグジットは　画像の外と重なったところか。  
マウス・ボタン押下とか、マウス・ボタン・リリースではないんだ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　タップは　マウス・ボタン押下と　マウス・ボタン・リリースのペアか？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　そうだぜ。  
それも　マウスを移動させずに　マウス・ボタン押下と　マウス・ボタン・リリースを  
行わなければいけないぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　じゃあ　タップは　従来の　クリック　に対応してるんだ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　マウス・ボタン押下と、　マウス・ボタン・リリースを　別々に捕捉する方法を探せだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　MAUI には無いようだぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　マウス・ダウンと　マウス・アップを検知する　何らかの方法はあるのかしら？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　タップで始まり、タップで終わるのでいいだろ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ペン・タブレットで　必要になりそうな機能が　MAUI　に無いなんて  
理解できないが　お父んは　そのような　理不尽や　意味不明を　越えていくのに長けているのだろう」  

![202307_maui_04-0113--tile-cursor-size.png](https://crieit.now.sh/upload_images/936393250a0080041e5340fb6c99c2a264a2f47228bc1.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　カンペキは無いものだぜ。タイルの連続選択できあがり」  

# 📅 2023-07-04 タイルを登録できるようにしろだぜ

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　タイルは　名前で管理するのか？　Ｉｄで管理するのか？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　現代は　UUID　が流行ってて　URL　は　わけの分からない数字、文字の羅列になってしまったが、  
UUID　が真のＩｄなら　URL　無くして　UUID　にすればいいものの、  
そうならないのは　名前　からイメージできる姿があるからだぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　名前は　アスキー文字にすんの？  
ユニコードにすんの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　こんな　ネギラーメンで　ユニコードが使えない環境のことを　本気で考えなくていいだろ。  
ユニコードでいいんじゃないか？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　文字数は？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　本気で考えなくていいだろ。　６４文字でいいんじゃないか？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　１～４バイトのユニコード文字が　６４個であることの意義は？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　無いけど……」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ツクラーが　タイルに名前を付けようと思ったときの　文字数の分布は？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　データは無いけど……」  

📖 [Tiledによるタイルマップの作成とオブジェクトデータの取得を行う！：Cocos Creator
Tiled Cocos Creator](https://mmorley.hatenablog.com/entry/2016/05/21/002430)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　誰も　タイルに名前なんか　付けないのでは？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　アマゾンの商品名の長さは？」  

📖 [KRAFT Macaroni & Cheese Easy Mac Cups (12 x 2.05 oz cups)クラフト　マカロニチーズ イージーカップ　12パック　海外直送](https://www.amazon.co.jp/KRAFT-Macaroni-Cheese-クラフト-マカロニチーズ-イージーカップ-12パック-海外直送/dp/B008YTWOLC/?_encoding=UTF8&pd_rd_w=sNbPN&content-id=amzn1.sym.7351c6be-f8cb-43b9-8343-cd956266c4b6&pf_rd_p=7351c6be-f8cb-43b9-8343-cd956266c4b6&pf_rd_r=7Y3VKX4DXVHNADR66Z30&pd_rd_wg=s0X3b&pd_rd_r=3f9c6031-aaa6-45c9-a059-d96a59408246&ref_=pd_gw_trq_ed_438y8oxo)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　適当にクリックしたが　英語表記、日本語表記をつなげて　重さや個数、海外直送まで入っているぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　ざっくり　１００文字にしたら？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　そうするか……」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　すると　みんな　タイル名に　検索のための情報を　詰め込みだすのでは？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　名前とは別に　タグを付けれるようにするかだぜ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　１つのタイルに　タグは何個付けれて、１つのタグの長さは何文字までなの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　これは再帰的な話しで、１つのタグに　たくさんの検索の情報を詰め込みだす……」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　タイル名を付けるの　めんどくさくなって　`タイル１`、 `タイル２`、`タイル３`　みたいな名前を付けるやつが  
蔓延したらどうする？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　連番付けられるぐらいだったら、　Ｉｄ　は　こっちで採番してやるかだぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　１つのタイル・セットに、何枚のタイルがあんの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　データは持ってない」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　Ｉｄ　だけ必須にして、それは自動で採番して、  
１００文字のテキスト・フィールドに　半角カンマ区切りで　タグを自由入力させたらどうだぜ？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　４９個のアルファベットを　タグで登録するやつがいて　うざいかもしれない」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　タグも　日本語で入力されたり、英語で入力されたり、表記揺れしたりするんじゃない？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ　カテゴリー・ツリーを予め　こっちで定義して　そのノードを選ばせる方式にして、  
それ以外に　固有名詞　を自由に入れれる欄を置けばどうか？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　Ｉｄ欄と、１００文字のコメント欄の２つにしましょう！  
検索のための仕組みは　後回しで」  

![202307_maui_04-2122--save-button-o2o0.png](https://crieit.now.sh/upload_images/9f76e94a599e8626ed037a31655a824864a40f7b7b39d.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　こんな感じで　いいのかだぜ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　動かしてみないと分かんないから　それで　作ってみましょう」  

```plaintext
　　C:\Users\むずでょ\Documents\Unity Projects\Negiramen Practice\
　　└── 📂 Assets
　　　　└── 📂 Doujin Circle Negiramen
　　　　　　└── 📂 Negiramen Quest
　　　　　　　　└── 📂 Auto Generated
　　　　　　　　　　└── 📂 Data
　　　　　　　　　　　　└── 📂 CSV
　　　　　　　　　　　　　　└── 📂 Tile Set
👉 　　　　　　　　　　　　　　└── 📄 map-tile-format-8x19.csv
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ファイルは　ここに置いとくぜ？」  

```csv
Id, Left, Top, Width, Height, Comment
 1,   96,  64,    64,     64, 草原
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　保存内容は　こんな感じで　いいかだぜ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　とりあえず　それで」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　クエリー・パラーメーターで　ビュー・モデルへ　ＣＳＶファイルへのパスを渡したつもりなんだが、  
コード・ビハインドの　Load　時には　ビュー・モデルに　ＣＳＶファイルへのパスが入ってないな」  

📖 [.Net Maui/XAML QueryParameter is NULL in the viewmodel Constructor but usable in XAML, how do I access it in the viewmodel?](https://stackoverflow.com/questions/72757060/net-maui-xaml-queryparameter-is-null-in-the-viewmodel-constructor-but-usable-in)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　書かれてる通りにやってるんだが……、あっ、スペルミスだ！」    

![202307_maui_05-0125--add-button.png](https://crieit.now.sh/upload_images/5aa08c3a87fc4d24dd10b0410d9112dc64a44826960cf.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　とりあえず　ハリボテ　で、１行追加　できるようにしたぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　コメントの文字数のバリデーション、  
Ｉｄの自動採番、  
既に追加されているタイルは　コメントを表示、ボタンのラベルも［追加］から［上書］へ変更、  
削除ボタンの実装、  
ＣＳＶを固定レイアウトではなく、列名を見るように変更、
ＣＳＶのダブルクォーテーションのエスケープ、
少なくとも　これらは　残っているな」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　気の遠くなる話しだぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　じゃあ　睡眠へ切り替えよ。寝ろ」  

# 📅 2023-07-05 マウス操作が分かりづらいの何とかしろ 

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　MAUI がタップ操作にＵＩを寄せていて、マウスダウン、マウスアップ　が検知できないの　クソなんだが」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　最初の１回目のタップで　あんたが枠を出すから、これでいいんだと思っちゃって  
そしたら　もう１回　タップしなくちゃいけないって分かって　分かりづらってなるのよ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　選択が未確定の間は　カーソルが　アニメーションしたらどうだぜ？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　画面が　チカチカ　動くのは　オフィス・ソフトの分野では　非常識だぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　半透明な枠なら　どうよ？」  

![202307_maui_05-2005--selecting.png](https://crieit.now.sh/upload_images/91c1887b68a9194dfaa47a7b6dc69dcd64a54f091546b.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　これぐらい　はっきりと分かるぐらい　半透明にしてみるか」  

## Ｉｄを自動採番しろ

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ＣＳＶファイルの中で１番大きなＩｄより　１　だけ大きいのが　新しいＩｄだろ。  
お父ん。実装しろ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　スキャンするのは　カッコ悪いから　行が追加されたタイミングで　最大のＩｄを常に更新するかだぜ」  

![202307_maui_05-2124--tile-id-o2o0.png](https://crieit.now.sh/upload_images/31bf587a692b3271e22bf9e79572024664a5622359461.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　Ｉｄは　増えるようにしたぜ」  

## 登録されているタイルは表示しろ

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　登録されているタイルは　表示してくれだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　タイルが　１０００個　登録されていたら、  
画面上には　タイル　１０００個　のスプライトを　表示しないと　いけないのかだぜ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　画面を開いたときと、  
タイルを追加・削除したときに　キャンバスを描きなおせばよくない？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ　実際のタイル画像とは別に、  
ワーキング（Working；作業中）なタイル画像を　内部的に持っておけばいいかな」  

![202307_maui_05-2139--tile-image-o2o0.png](https://crieit.now.sh/upload_images/03595682c55cb6348880ed11a0f3b15f64a564f6d0425.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　`Source` に内部メモリーを指定できるのかだぜ？」

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　外部ファイルで十分なんじゃないの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　作業中の画像は、  
ネギラーメンのワーキング・スペース、  
ユーザーの AppData、  
ユニティの Assetsフォルダー、  
どこに置くのがベスト・プラクティスだぜ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　ユニティの Assets フォルダーには　資産じゃないものは　置きたくないわねえ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ユーザーの AppData に　ゴミを置きたくないぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ　ネギラーメンのワーキング・スペースかだぜ」

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　ネギラーメンを２重起動しなければ　問題ないんじゃない？」  

```plaintext
　　例：　C:\Users\むずでょ\Documents\GitHub\2D-RPG-Negiramen
　　└── 📂 Workspace
　　　　├── 📂 Assets
　　　　├── 📂 For Unity Assets
　　　　└── 📂 Temporary
　　　　　　└── 📂 Images
👉 　　　　　　└── 📄 working_tile_set_canvas.png
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　こんな感じで　テンポラリー（Temporary；一時的な）フォルダーを切ろうかな？」  

### 第２の構成ファイル

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ファイル・パスは　ハード・コーディングするのか？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　いーや。ソース・コードの中に設定が書かれているのは　メンテナンス　時の選択肢を狭めて良くない。  
外部ファイルで全部　指定できるようにしたいぜ」  

```plaintext
　　例：　C:\Users\むずでょ\Documents\GitHub\2D-RPG-Negiramen
　　└── 📂 Workspace
👉 　　└── 📄 configuration_2nd.toml
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　第２の構成ファイルだから、こんな感じでどうだぜ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　じゃあ　とりあえず　それで」  

```plaintext
[paths]

# ネギラーメン・ワークスペースの作業中のタイル・セット・キャンバスPNG画像ファイルへのパス
working_tile_set_canvas = "{negiramen_workspace_folder}/Temporary/Images/working_tile_set_canvas.png"
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ファイルの中身は　こんな感じでどうだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　とりあえず　それで」  

![202307_maui_05-2254--configuration-1st-o2o0.png](https://crieit.now.sh/upload_images/3e01a405230edf72c3cc13dff37778ec64a57683653e8.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　厳密に行くなら　構成ファイルに　この１行を書き足しておきたいぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　そのファイル・パスは　MAUI から編集できるようにするのかだぜ？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　非表示でいいだろ、こんな細かいの」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　ユーザーが　そのファイルに辿りつけなくない？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　AppData は　隠しフォルダー　なんで」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　じゃあ　ネギラーメンを開発する　お父ん　や、  
ネギラーメンを改造する人だけが　知ってればいいんだ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　`configuration_2nd.toml` は　隠さなくていいの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　どこに　何が置いてあるかの　目録になるんで」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　`configuration_2nd.toml` って名前だったら、じゃあ `configuration_1st.toml` は　どこにあるんだ？  
って探さない？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　ぐぬぬぬぬ」  

```plaintext
　　例：　C:\Users\むずでょ\Documents\GitHub\2D-RPG-Negiramen
　　└── 📂 Workspace
👉 　　└── 📄 user_configuration.toml
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆 `user_configuration.toml` にしよう！」  

#### 設定ファイルの中で変数展開

![202307_maui_06-0051--path-expand-variables-o2o0.png](https://crieit.now.sh/upload_images/12766bd436d47ab22eb073d2485f456364a5925c7914f.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆 設定ファイルの中で変数が使える仕組みを　簡易実装したところで　今日はここまでだぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　最初に作っとかないと　あとで困るやつだし、  
本筋の作業が進んでないけど　いっか～」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　なかなか　前に進まないな……」  

# 📅 2023-07-06 タイル・パレット編集画面へタイル・セット画像ファイルへのパスを渡せだぜ

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　お父ん、タイル・セット画像へのファイル・パスをハードコーディングしてるだろ。  
まず　これを　クエリー・パラメーターに置き換えて、  
画面遷移元から　タイル・セット画像へのファイル・パスを受け取る形にしろだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　わかったぜ」  

（カタ　カタ　カタ　カタ　……）  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　でけたぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　次はその　タイル・セット画像へのファイル・パスを読込んで、  
そして  
`C:/Users/むずでょ/Documents/GitHub/2D-RPG-Negiramen/Workspace/Temporary/Images/working_tile_set_canvas.png` へ出力しろだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　やってみるぜ」  

（カタ　カタ　カタ　カタ　……）  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　C# なら ImageIO 使えばいいのかだぜ？」  

📖 [画像ファイルを読み込み、Imageオブジェクトを作成する](https://dobon.net/vb/dotnet/graphics/imagefromfile.html)  

```cs
using System.Drawing.Image;
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　MAUI に `System.Drawing.Image` 無い」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　マルチプラットフォーム化で　使えなくしているパッケージなのでしょう」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　現代では　こっち読むのか。インターネット上の大量の記事が　無駄になったかも知れないなあ」  

📖 [Microsoft　＞　Image（コントロール）](https://learn.microsoft.com/ja-jp/dotnet/maui/user-interface/controls/image)  
📖 [Microsoft　＞　イメージ（メモリー）](https://learn.microsoft.com/ja-jp/dotnet/maui/user-interface/graphics/images)  

```cs
        Assembly assembly = GetType().GetTypeInfo().Assembly;
        using (Stream stream = assembly.GetManifestResourceStream("GraphicsViewDemos.Resources.Images.dotnet_bot.png"))
        {
            image = new W2DImageLoadingService().FromStream(stream);
        }
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　リソース・フォルダーの中の画像を取得する方法が　書いてるな。  
今回は逆に　任意のディレクトリーの画像のメモリー・ストリームを取らないといけない」  

📖 [Microsoft　＞　Bundled files](https://learn.microsoft.com/en-us/dotnet/maui/platform-integration/storage/file-system-helpers?tabs=windows#bundled-files)  
```cs
public async Task<string> ReadTextFile(string filePath)
{
    using Stream fileStream = await FileSystem.Current.OpenAppPackageFileAsync(filePath);
    using StreamReader reader = new StreamReader(fileStream);

    return await reader.ReadToEndAsync();
}
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　このテキスト・ファイルの例を、画像に書き換えられないか？」  

```cs
using Microsoft.Maui.Graphics.Win2D;
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　このネームスペースが存在しないんだが？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　NuGet で取ってくるんじゃないの？」  

![202307_maui_06-2358--graphics.png](https://crieit.now.sh/upload_images/9916482608ea4e71cbc14eb93307dc1564a6d6ab39eac.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　これかな？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　それはインストール済みだぜ」  

![202307_maui_07-0001--platform-error.png](https://crieit.now.sh/upload_images/f6940cca873c3ebf1f23c2a217f59f1064a6d7754d086.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　じゃあ　このエラーは何だぜ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　プリプロセッサ・ディレクティブを使って　Ｗｉｎｄｏｗｓと　Ｍａｃを分ける必要があるんじゃないの？」  

```cs
#if IOS || ANDROID || MACCATALYST
using Microsoft.Maui.Graphics.Platform;
#elif WINDOWS
using Microsoft.Maui.Graphics.Win2D;
#endif

// ... 中略 ...

#if IOS || ANDROID || MACCATALYST
                // PlatformImage isn't currently supported on Windows.
                TheGraphics.IImage image = PlatformImage.FromStream(inputFileStream);
#elif WINDOWS
                TheGraphics.IImage image = new W2DImageLoadingService().FromStream(inputFileStream);
#endif
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　プラットフォームの違いを　メソッドが隠蔽してくれたらいいのに……」  

```cs
        //
        // タイル・セット・キャンバス画像の読込
        //
        var task = Task.Run(() =>
        {
            try
            {
                // 読込元（ウィンドウズ・ローカルＰＣ）
                using (Stream inputFileStream = System.IO.File.OpenRead(tileSetImageFilePathAsStr))
                {
#if IOS || ANDROID || MACCATALYST
                    // PlatformImage isn't currently supported on Windows.
                    TheGraphics.IImage image = PlatformImage.FromStream(inputFileStream);
#elif WINDOWS
                    TheGraphics.IImage image = new W2DImageLoadingService().FromStream(inputFileStream);
#endif

                    //
                    // 作業中のタイル・セット・キャンバス画像の保存
                    //
                    if (image != null)
                    {
                        // 書出先（ウィンドウズ・ローカルＰＣ）
                        using (Stream outputFileStream = System.IO.File.Open(workingTileSetCanvasImagefilePathAsStr, FileMode.OpenOrCreate))
                        {
                            image.Save(outputFileStream);
                        }
                    }
                }
            }
            catch (Exception ex)
            {
                // TODO エラー対応どうする？
            }
        });
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　MAUI から　Windowsのフォルダーにアクセスできるけど、  
マルチ・プラットフォームというメリットが無くなってしまうよな」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　じゃあ　Windows　の利便性を失わせるかだぜ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　ユーザーに `AppData` フォルダー下を　いじらせるのは  
隠しフォルダーの意義を失うわよ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ　Windows依存で進めるか～」  

![202307_maui_07-0050--write-image.png](https://crieit.now.sh/upload_images/b3e58c6d2ee6f2c6c7c43d9fcc0fe00c64a6e2d559c5d.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　PNG画像の書出しまで　でけたぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　今は　タイル・セット画像の方を　MAUI　に表示してるだろ。  
それを止めて、こっちの　作業中のタイル・セット画像の方を　MAUI　に表示してくれだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　分かったぜ」  

（カタ　カタ　カタ　カタ　……）  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　その差し替えも終わったぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　すでに登録済みのタイルは　半透明の青色で塗りつぶしておくと、  
残作業が見えやすくなるんじゃない？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　やってみるぜ」  

```plaintext
Microsoft.Maui.Graphics.IImage

Microsoft.Maui.Graphics.ICanvas
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　あれっ？　描画ができるのは　`IImage`　じゃなくて、　`ICanvas`　の方だぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　`IImage`　を　`ICanvas`　に変換する方法がないか、調べろだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　ググっても出てこないから　デバッグライトするぜ。  
IImage の実体は　`W2DImage`　らしいんだが、これも探しても出てこない」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　Ｗｉｎｄｏｗｓの２Ｄイメージなんじゃないの？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　タイル・カーソルと同じように　`IDrawable` を実装したクラスを作って、  
XAML の GraphicView 要素の Drawable 属性で指定したらどうだぜ？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　あっ、そうか！」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　`IDrawable`　を実装したクラスと、ビュー・モデルが連携できないの  
グローバル変数での連携が大変だぜ、どうにかならないの？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　BindableObject というのが　あるそうだぜ」  

📖 [In .NET MAUI, how do I pass variables to a GraphicsView.Drawable in a ContentView](https://stackoverflow.com/questions/75988921/in-net-maui-how-do-i-pass-variables-to-a-graphicsview-drawable-in-a-contentvie)  
📖 [How to pass variable data into .NET MAUI GraphicsView canvas](https://stackoverflow.com/questions/73997548/how-to-pass-variable-data-into-net-maui-graphicsview-canvas)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　覚えてみるかだぜ」  

# 📅 2023-07-07 ＩｄをＢＡＳＥ６４にしようぜ？

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　Ｉｄ　を　ＢＡＳＥ６４　にしようぜ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　メリットは？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　人は　整数を見ると　１から順にソートしたくなる。  
ＢＡＳＥ６４　なら　ソートしようとは思わない。  
Ｉｄをソートしようとする悲しい人類を救うことができる」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　エビデンスは？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　無い。本番環境で実験だぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　やってみろだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　`Convert` クラスを使ってみるか」  

📖 [Convert.ToBase64String メソッド](https://learn.microsoft.com/ja-jp/dotnet/api/system.convert.tobase64string?view=net-7.0)  
📖 [Converting string to byte array in C#](https://stackoverflow.com/questions/16072709/converting-string-to-byte-array-in-c-sharp)  
![202307_maui_07-1848--id-base64-o2o0.png](https://crieit.now.sh/upload_images/7e85ff318ad543c2c7aa06ea053ad4df64a7df978f24b.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　Ｉｄを　ＢＡＳＥ６４にしたぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　わらう」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　👇　桁数が気になるわね。  
`1` は `MQ==` だけど、 `1000` は `MTAwMA==` よ？」  

📖 [データ変換ツール](https://hogehoge.tk/tool/)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　３桁ぐらいの文字なら　４桁ぐらいに変換されて気にならないが、  
４桁ぐらいの文字は　８桁ぐらいに変換されて　メモリ効率は　２倍になって　悪くなるな。  
だいたい、　１．３倍ぐらい　メモリ効率は悪くなるぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　メモリ効率が１．３倍に悪くなることと引き換えに  
悲しい人類がＩｄをソートしようとすることを防ごうと言うのね」  

![202307_maui_07-1856--id1000-base64-o2o0.png](https://crieit.now.sh/upload_images/30f25eb86d832d9e1e7888d05f229d2a64a7e186b8bd9.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　Ｉｄが１０００に達したとき、ＢＡＳＥ６４にすると　改行されてしまうのは　悪しと見るか、  
コーナーケースに合わせるとキリがないので　これで良しと見るか」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　１０００枚もタイルが含まれる　タイル・セット画像を　利用するやつ、  
そんなとこ　気にするでもなく　ハードワーカーだろ」   

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　９９９枚もタイルが含まれない　タイル・セット画像を　利用する人にとっては、  
無駄なスペースが　空いていることの方が　きにするでしょう」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　あっ、Ｉｄ　をマウスで選択できね。気になるな……。  
選択可能なテキストで、かつ入力ができない　リード・オンリーな設定できるかな……？」  

![202307_maui_07-1909--readonly-o2o0.png](https://crieit.now.sh/upload_images/14918b0d3da799690f561ed48553d82964a7e4b1cca16.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　でけた。  
フォント・サイズは　きっかり　スタイルで決まっているようで　任意サイズにはできなかったので  
`Entry` 要素を広げたぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　ラベルの　`Ｉｄ` と `コメント` の間に　パディング　入れられないの？」  

![202307_maui_07-1914--padding-o2o0.png](https://crieit.now.sh/upload_images/1d57c69fb2b67362aeac43afcd0260fb64a7e5a403848.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　入れれるぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　良くなった。ラベルの文字は　隣のセルと　くっつかないようにしましょう」  

![202307_maui_07-1920--tileId-o2o0.png](https://crieit.now.sh/upload_images/88e02f2b30f5af3ac8391a9295a3b95164a7e73844aaa.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　`Ｉｄ` だけだと　オーラル・コミュニケーションで困るだろうから  
`タイルＩｄ` と書いといてやろう」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　そのＩｄって、　ひだり、うえ、よこ、たて　から一意に決まらないの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　例えば　`128,32,96,32`　を　ＢＡＳＥ６４に変換擦ると　`MTI4LDMyLDk2LDMy`　だぜ。  
これだったら　ベクターを２つ　覚えておいた方がマシかも」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　情報で構成されている　Ｉｄ　なんて、イケてないぜ。それは暗号だぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　あくまで　表示に　ＢＡＳＥ６４　を使っているだけで、内部的には　整数なんで」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　このタイルＩｄは、プロジェクトの中で一意なの？  
それとも　タイル・セット画像ファイルの中で一意なの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　凝り出すと　ＵＵＩＤ　に行きついてしまう。  
タイル・セット画像ファイルの中での　ローカルなＩｄだぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　じゃあ　タイルＩｄには　タイル・セット画像ファイルのＩｄも　表示しないと  
本当のタイルＩｄにはならないんじゃない？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　タイル・セット画像ファイルに　Ｉｄを振ることが難しい。  
プロジェクトの中での　ローカルなＩｄなら　振れるだろうけど、  
そのＩｄは　別のプロジェクトへ使い回せない」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　プロジェクトに　ＵＵＩＤ　振ればいいんじゃないの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　ブランチして　開発が平行したら　ノー・コントロール　になってしまう」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　じゃあ　なんで　タイルＩｄ　なんか採番するんだぜ？  
**ファイル名、ひだり、うえ、よこ、たて**　が本当のＩｄなんじゃないのかだぜ？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　あるファイル内の中だけで使える、  
**ひだり、うえ、よこ、たて**　の情報を　３桁程度の整数に集約するのが　タイルＩｄ　だぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　その情報を　ユーザーに提示する理由は？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　`タイル１`、 `タイル２` のような **タイル名** を　ユーザーに入力させないこと、  
`1`、 `2` のような **連番** を　ユーザーに入力させないこと、  
これらの代替が　**タイルＩｄ**　だぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　意義はあるんだ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　しかし　それは　**Ｉｄ**　の働きを持っていないのでは？  
何かと言えば　**コード**　なのでは？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　内部的には　**Ｉｄ**　なんだが、表示上は　**コード**　だな。  
じゃあ　オーラル・コミュニケーションを考えて　ラベルを変えるかだぜ」  

![202307_maui_07-1955--tile-code-o2o0.png](https://crieit.now.sh/upload_images/847f17addadf34d8a27bd4f3297b4d9b64a7efb0ec7c0.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　確かに　**タイル・コード**　にすると　しっくりしたな」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　しかし　そもそも　**ＢＡＳＥ６４**　は、　**オーラル・コミュニケーション**　には向いていないのでは？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　諫言だぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　じゃあ　ＢＡＳＥ６４の　６４文字に対して　`Apple` とか、 `Banana` とか  
プロナウンサブル（Pronounceable；発音可能）な単語を当てたらどう？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　インターナショナル（International；国際的）に通用するフォニックス（Phonics；発音）ってある？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　軍事か通信、航空あたりを調べれば　何か規格があるのでは？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　調べるか～」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　ナトー　のがあったぜ」  

📖 [NATOフォネティックコード](https://ja.wikipedia.org/wiki/NATOフォネティックコード)  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　はっきり　西側に寄り添うの　わらう」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　大文字と小文字は　区別しないのか～」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　英語のフォネティックコードが人名なんで、大文字にかこつけて　大文字は英語にしたらいいんじゃないの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあそれで。作ってみるか～」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　大文字も　小文字も　`X-ray`　になるんだが」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　違う所から　持ってきなさい」  

```plaintext
BASE64  英単語       読み
------  ---------   -------
A	Alice       アリス
B	Boart       ボート
C	Castle      キャッスル
D	Drink       ドリンク
E	Elf         エルフ
F	Forest      フォレスト
G	Gold        ゴールド
H	Hotel       ホテル
I	Island      アイランド
J	John        ジョン
K	King        キング
L	Level       レベル
M	Madam       マダム
N	News        ニュース
O	Ork         オーク
P	Pond        ポンド
Q	Queen       クイーン
R	Room        ルーム
S	Soup        スープ
T	Talk        トーク
U	Uncle       アンクル
V	Video       ビデオ
W	Wolf        ウルフ
X	Xmas        クリスマス
Y	Yogurt      ヨーグルト
Z	Zebra       ゼブラ
a	and         アンド
b	big         ビッグ
c	clean       クリーン
d	damage      ダメージ
e	evil        イーブル
f	fake        フェイク
g	get         ゲット
h	hit         ヒット
i	ice         アイス
j	jump        ジャンプ
k	kick        キック
l	love        ラブ
m	magic       マジック
n	no          ノー
o	oily        オイリー
p	poison      ポイズン
q	quiz        クイズ
r	rain        レイン
s	solty       ソルティー
t	trendy      トレンディー
u	up          アップ
v	victory     ビクトリー
w	wind        ウィンド
x	xrated      エックスレーテド
y	your        ユワ
z	zenith      ゼニス
0	0           （数字）
1	1           （数字）
2	2           （数字）
3	3           （数字）
4	4           （数字）
5	5           （数字）
6	6           （数字）
7	7           （数字）
8	8           （数字）
9	9           （数字）
+	+           （プラス）
/	/           （スラッシュ）
=	=           （イコール）
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ゲームに出てきそうな　短い英単語を　持ってきたぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　趣向を変えたんだな」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　単語の先頭だけ切り取れば　BASE64　に戻るぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　動かしてみましょう」  

![202307_maui_08-0017--madam-get-o2o0.png](https://crieit.now.sh/upload_images/03abe093944466b6d15dd0742b6db64864a82cf761532.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　`Madam get = =` になるぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　BASE64 より　さらに　６倍近く　長くならない？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　なりそう」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　Ｉｄ　１０００　で試しなさい」  

![202307_maui_08-0025--long-code.png](https://crieit.now.sh/upload_images/4e4f33c04c26f9536fb1972070cd580864a82e94a3031.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　今の３倍ぐらいの長さにすれば　入りそう」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ユーザーは　何だこれは？　と思わないだろうか？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　思う」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　あと、 BASE64 は、文字列連結しないのであれば　桁のプレースホルダーの `=` は省いていいそうよ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　ちょっと考えるぜ」  

![202307_maui_08-0057--memory-o2o0.png](https://crieit.now.sh/upload_images/b56dc151eff38b3f846892897929c06f64a836483b4d1.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　欄外に書いたぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ぜったい　なんのこっちゃ　なんだよなあ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　それがタイルの名前としての働きを持つと　認識できないのよね」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　**名前** という文化は廃止だぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ディーエックス」  

![202307_maui_08-0123--name-o2o0.png](https://crieit.now.sh/upload_images/646bb3129ffc004d6eac2fcd80f6df5864a83c5fc813a.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　どうしても　名前を書きたいやつは　コメント欄に書け、と親切に　書いておくぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　`（任意）` も付けておいた方がよくない？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　`任意` の意味が分からん人も　いるそうだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　あんまり　書きすぎると　デザインの敗北……」  

# 📅 2023-07-08 タイルを選択したら、照会しろだぜ

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　タイル・パレット上で　範囲選択したら、  
そのタイルは　すでに登録済みか、まだ登録されていないか、判定しろだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　わかったぜ」  

（カタ　カタ　カタ　カタ）  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　前のトリック・コードは　奇数回実行すると働くが、偶数回実行すると働かないというバグを踏んだので  
対応中」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　トリックなんかに頼るからよ」  

![202307_maui_08-2329--read-file-o2o0.png](https://crieit.now.sh/upload_images/6b3416758efd5439fd9c639d661f61eb64a9730282347.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　登録したタイルの情報を　読み込むようにしたが、  
全体的に動きが　怪しいので　調整中だぜ」  

![202307_maui_09-0047--tile-form-display-o2o0.png](https://crieit.now.sh/upload_images/bfc6fc71ddf5d3c5f73c64cf79c5b46464a9869dde6aa.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　タイル・コードと　コメントの入出力は　動きが付いたぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　もう寝ろ」  

# 📅 （2023-07-09 sun）タイルが登録されているとき、ボタンのラベルを追加から上書へ変更してくれだぜ

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　日曜日は　昼まで寝た」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　タイルが登録されているとき、ボタンのラベルを追加から上書へ変更してくれだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　分かったぜ」  

![202307_maui_09-1257--adds-button-label--o2o0.png](https://crieit.now.sh/upload_images/f9b1211166b1ca6fe21c8f4eac7a78e464aa30a969476.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　タイルが登録されているときは、ボタンのラベルを `上書` に変えるようにしたぜ」  

## 国際化

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　その `上書` を、 `Overwrite` にしても　ボタンの中に収まるの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　多言語化か……。試してみるぜ」  

![202307_maui_09-1342--overwrite-o2o0.png](https://crieit.now.sh/upload_images/be647d73f41c6f24a9cc34fe4244f00d64aa3ad6abccc.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　収まらないぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　じゃあ　このアプリは　国際化に耐えられないわよ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　横幅が長い……。　海外人、どんな　ＵＩ　使ってるんだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　日本人が　ビューにたくさん項目を詰めるの　こだわるの、  
チャイニーズ・キャラクター文化だからなのかな？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　欧米の　アイコン　が、漢字相当なんじゃない？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ、アイコンか　漢字かを選べるようにしたらいいのか……？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　ガイドラインを読めだぜ」  

📖 [Microsoft　＞　Visual Studio のイメージとアイコン](https://learn.microsoft.com/ja-jp/visualstudio/extensibility/ux-guidelines/images-and-icons-for-visual-studio?view=vs-2022)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　欲しいアイコンが無いし、似たようなアイコンばっかり　いっぱいある」  

![202307_maui_09-1401--edit.png](https://crieit.now.sh/upload_images/d0fd19219268227dbccc2c699a5d841a64aa3f5a846e2.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ペンが無難だと思う」  

![202307_maui_09-1403--resources.png](https://crieit.now.sh/upload_images/0c87e87a8e9fe5a6a344d3e07ea1ee4864aa3fc0893c0.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　しかし　MAUI　にも最初から　ちょびっとだけ　リソースが入ってるな」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　MAUI 用のリソース集も　どっかで配られてんじゃないの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　フォントでやるのが　いいのか～？」  

📖 [.NET MAUI アプリ アイコンを変更する](https://learn.microsoft.com/ja-jp/dotnet/maui/user-interface/images/app-icons?tabs=windows)  

📖 [.NET MAUIで、Emoji(絵文字)やIcon(アイコン)を打とう](https://zenn.dev/test_myname/articles/f680e5aaffbb8d)  

📖 [Segoe Fluent Icons font](https://learn.microsoft.com/en-us/windows/apps/design/style/segoe-fluent-icons-font)  

📖 [Google Fonts　＞　Material Symbols And Icons](https://fonts.google.com/icons)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　ボタンに　アイコン・フォントを表示させるのは　どうやるんだぜ？　画像の方法はあるが」  

📖 [[.NET MAUI][Button] ボタンにイメージを表示する](https://blog.hiros-dot.net/?p=12073)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　画像も　文字も　アイコン・フォントも　方法を統一してくれたらいいのに……」  

📖 [Font Icons in Shell Tabs not showing](https://github.com/dotnet/maui/issues/4774)  

![202307_maui_09-1424--mojibake-o2o0.png](https://crieit.now.sh/upload_images/ee365f4c139a8179b13afcd9ef4bc96a64aa44b951f24.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　あれっ？　文字化けだ。 Windows 11 には `Segoe Fluent Icons` フォントは最初から入ってると　読んだが……」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　お父んのＰＣ、 Windows 10」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　マルチ・デバイスのプログラミングが　ホストＯＳに依存したら　悪いんじゃない？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　どこから `Segoe Fluent Icons` フォントを入手するんだぜ？」  

📖 [Microsoft　＞　fluentui-system-icons](https://github.com/microsoft/fluentui-system-icons)

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　情報ではなく、フォントが欲しい」  

📖 [Microsoft　＞　Segoe UI font family](https://learn.microsoft.com/en-us/typography/font-list/segoe-ui#licensing-and-redistribution-info)  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　👇　ずっと前から　シーゴーは　Windows に入っているみたいだけど」  

📖 [Wikipedia　＞　Segoe](https://ja.wikipedia.org/wiki/Segoe)  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　👇　シーゴーは　日本語フォントではない、という話しもあるわね」  

📖 [Segoe UIフォントは日本語フォントなのか](https://www.ipentec.com/document/css-font-segoe-ui)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　日本語の設定のまま　シーゴー　を使えないのかだぜ？」  

![202307_maui_09-1501--image-o2o0.png](https://crieit.now.sh/upload_images/46e2411c0e80be85fcf6f418233e80b564aa4d68b92c6.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　フォントのような不確定要素を使うのは諦め、ビジュアル・スタジオ２０２２イメージ・ライブラリーから  
ザムルを取ってくることにするぜ」  

📖 [Microsoft　＞　リソース ディクショナリのマージ](https://learn.microsoft.com/ja-jp/dotnet/maui/fundamentals/resource-dictionaries#merge-resource-dictionaries)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　リソース・ディクショナリーとして　マージすれば　使えるか？」  

![202307_maui_09-1517--resource-file.png](https://crieit.now.sh/upload_images/32eb65ca9e2c9509ed572b272cacce0a64aa513041bb6.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　リソース・ディクショナリーの書き方を忘れたので　調べるぜ」  

![202307_maui_09-1519--resource-dictionary.png](https://crieit.now.sh/upload_images/439bccaba9466537a67f8efbe8f256bf64aa518ebfbe0.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　あのＸＭＬタグに挟めばいいのか」  

![202307_maui_09-1521--edit-o2o0.png](https://crieit.now.sh/upload_images/1b33ee41f87f16fe63a010e4c60e4cec64aa5212f2291.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ビジュアル・スタジオ２０２２イメージ・ライブラリーの　`Edit.xaml`　の `Viewbox` を、貼り付けるぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　そういう手間が要るんだな」  

![202307_maui_09-1527--xmlns-o2o0.png](https://crieit.now.sh/upload_images/53b6b95553dbd3f0481ee08268d3e19e64aa53a2b06c3.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ダメだ　仕様が旧い」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　SVG形式にしたらいいんじゃないの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　SVG は、画像じゃなくて　アイコン扱いなのか？」  

📖 [I can't set a .svg file as a maui app icon](https://stackoverflow.com/questions/72358537/i-cant-set-a-svg-file-as-a-maui-app-icon)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　📂 `Resources/Images` フォルダーは　何か特別な管理下にあるみたいで　ふつうのフォルダーのようには扱えなさそうだぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　MAUI は、ファイル・パスという概念を　無くしたいのでは？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　スマホ・デバイスへの対応のために？」  

![202307_maui_09-1610--maui-bot.png](https://crieit.now.sh/upload_images/d6a8bc9d5467cbd67fabe9bab586536564aa5d8688efc.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　MAUI の最初に出てきた　ロボット、あいつ　SVG画像らしい。  
あいつは　表示されて、  
ペンを　ボタンの上に表示できないの、何故だぜ？」  

![202307_maui_09-1620--svg.png](https://crieit.now.sh/upload_images/9c15f2a1fc51aca3138f4eceb897877164aa5feb30ead.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　なんで　ペン　がでかい？  
そして　SVG　なのにラスタライズされてる？」    

![202307_maui_09-1622--svg-to_v2o0.png](https://crieit.now.sh/upload_images/543c30d7690c13f0e14e8f61b70dac1864aa607ee0b77.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　さらに　なぜ　`.svg`　ではなく　`.png`　にしないと画像が出てこない？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　自動で　ラスタライズ　されているのでは？」  

![202307_maui_09-1627--directory-o2o0.png](https://crieit.now.sh/upload_images/3d646ddc9efc49ca78b0ecc61d8b0c9964aa618ed6ff5.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　フォルダーを切って　その中に入れると、パスでアクセスできなくなるのは　何故だぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　これを読めだぜ」  

📖 [Add images to a .NET MAUI app project](https://learn.microsoft.com/en-us/dotnet/maui/user-interface/images/images)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　Android アプリがこうしてるから、 MAUI もこうしてる、というような　腰抜けの話しが　書かれているぜ。  
クソじゃないか」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　なんで Android アプリに迎合するのかしら？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　Microsoft が腰抜けだからだろ」 

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　これを読めだぜ」  

📖 [Images in subfolders not showing up on Windows but do on Android #8628](https://github.com/dotnet/maui/issues/8628)  

```xml
<ItemGroup>
    <MauiImage Include="Resources/Images/XXXXXXXX/*" />
</ItemGroup>
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　なんか　こういうタグをどこかに書くと　そのフォルダーがプロジェクトに認識されるらしいぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　それは　どこに書くんだぜ？」  

![202307_maui_09-1717--csproj-o2o0.png](https://crieit.now.sh/upload_images/37a79f95bfdabeb1420516c8bf927bb864aa6d6b00282.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　ファイルを開けまくって　消去法をしている途中で　`2D RPG Negiramen.csproj`　に　それっぽいコードを発見したぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　書き足してみましょう！」  

![202307_maui_09-1816--maui-image-o2o0.png](https://crieit.now.sh/upload_images/18d4f31bff5ef09167e6a7b9ed9b71dd64aa7b7982a8b.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　`\*`　を、　`\**\*`　に変えると、  
直下フォルダーの任意のファイルではなく、  
サブフォルダ―も下りて行って任意のファイルを　見てくれるようだぜ」  

![202307_maui_09-1821--rtf-o2o0.png](https://crieit.now.sh/upload_images/4dea0a18be1045f1f2e8696dd290360164aa7c4b34fe4.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　また、 Android に迎合して、ディレクトリー名、ファイル名に　大文字や空白は使えず、  
小文字英字、ハイフン、数字だけを使うようにするぜ」  

![202307_maui_09-1832--image-o2o0.png](https://crieit.now.sh/upload_images/6de8534c9be7f2eb0b33343f5fb5d28b64aa7f1627aa9.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　そして　ディレクトリーは無視されるという　クソ仕様により、  
ファイル名だけで指定することになるぜ。拡張子は、ファイル名に `.png` と付いていても XAML には `.png` と指定するクソ仕様」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　MAUI は、プラットフォームごとに　異なる画像ファイル形式で用意されても、  
XAML には `.png` と書こうという　MAUI の開発者の頭が残念なことに　なってるのね～」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ラスター画像と　ベクター画像の特性の違いも理解できないぐらい　知能が下がってるのかだぜ？」  

![202307_maui_09-1843--rename-o2o0.png](https://crieit.now.sh/upload_images/da91855569c9d3b0ed4191c1abd485a964aa81704c31b.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ファイル名が被りたくないので　プレフィックス（Prefix；接頭辞）を付けるぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　インフラの出来が悪いと　要らんテクニックが使われてしまうな」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　フォルダー下に、別の命名システムを持ったフォルダーを　ぶらさげたいこともあるのに、  
それが考慮されていないのは  
MAUI の開発者が　開発の現場経験が未熟だろうから　全員クビになっても　不思議ではないわねえ」  

![202307_maui_09-1852--svg-color-o2o0.png](https://crieit.now.sh/upload_images/63107ee03ba2f44132e5e4b319340d0464aa83ab3c341.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　SVG形式画像を PNG形式画像に変換した後のものが　ボタンの上に描かれるから、  
テキスト・カラーを　白　にしても　白くならないぜ！」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　当然だな」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　MAUI　お前　コンピューター・グラフィックスという　自覚　無いのかだぜ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　MAUI の開発者も　いずれ全員　クビになるでしょう」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　代替策を探さな」  

📖 [Specify the color of a SVG image in .NET Maui](https://stackoverflow.com/questions/74334591/specify-the-color-of-a-svg-image-in-net-maui)  

![202307_maui_09-1911--tint-color-o2o0.png](https://crieit.now.sh/upload_images/ad249fe8a956c79695ac497b21ad617764aa880796a6b.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　`TintColor` も効果なし」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　MAUI の出来が悪いんじゃないの？　あんまり　期待できないんだから  
トリックを使っていくことに　なるんじゃない？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ　ツールチップ・ヒント　の使い方を調べるか」  

![202307_maui_09-1939--long-button-o2o0.png](https://crieit.now.sh/upload_images/d4ab7b314fd471171939eb1482379a9464aa906245a5b.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ボタンは　横に広く使うように　妥協。  
ツールチップ・ヒントも　組み合わせたので、  
国際化は　少々横長のボタンと　ツールチップ・ヒントで　なんとかしてくれだぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　`タイル名、または　コメントを自由入力`　というメッセージが　ダサいから　`タイル名`　だけでよくない？」  

![202307_maui_09-1954--label-o2o0.png](https://crieit.now.sh/upload_images/5cccfdff5ba10582cc155d58be52c80064aa921995cea.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　すっきりさせたぜ」  

## 多言語化

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　英語版、日本語版と　どうやって切り替えるんだぜ？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　調べるか……」  

📖 [.NET MAUI : Write multilingual apps easily](https://www.banditoth.net/2022/08/29/net-maui-write-multilingual-apps-easily/)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　Xamarine　の方法がそのまま使えるらしいが、それでいいのか　もっと調べるか……」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　昔の Windows のやり方も　冴えてないしなあ」  

📖 [How to implement .NET MAUI localization](https://stackoverflow.com/questions/71315229/how-to-implement-net-maui-localization)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　この動画の人　センス有るな　調べてみるか」  

📺 [Localization in .NET MAUI - Adding Multi-Language to Your Apps](https://www.youtube.com/watch?v=cf4sXULR7os)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　サンプルまで　用意されてる」  

📖 [.NET MAUI Localization Sample](https://github.com/jfversluis/MauiLocalizationSample)  

![202307_maui_09-2032--sample.png](https://crieit.now.sh/upload_images/6ab6ad3d16d246d261bb97f2cb01f11364aa9c026b5ec.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　サンプルは動くが、どうやって　📂 `Languages` フォルダーを作ったのか  
手順が分からんな」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　ResXManager は　多言語化の鉄板ソフトなんで　インストールしておこうぜ」  

📖 [ResXManager](https://marketplace.visualstudio.com/items?itemName=TomEnglert.ResXManager)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　しかし　ResXManager　の画面は　どこから出すんだぜ？」  

![202307_maui_09-2054--resource-o2o0.png](https://crieit.now.sh/upload_images/dc37eb0cf96400abc5fed91a652207e864aaa03178861.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　このリンク　クリックしたら　何か出てくるかな？」  

![202307_maui_09-2056--resx-o2o0.png](https://crieit.now.sh/upload_images/d56ed1c168dc435e5ef9e4f99efe66f664aaa4d115c40.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　昔ながらの場所に作られたが、そこじゃなくて  
📂 `Resources/Languages` フォルダ―の下に置いてほしいんだぜ」  

![202307_maui_09-2114--sample-o2o0.png](https://crieit.now.sh/upload_images/bd3c309ad8b1540d105780ba5bd8b14664aaa50c4f16b.png)

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　サンプル見ると、単に　ファイルを移動しただけに見えるな……  
やってみるか」  

![202307_maui_09-2121.png](https://crieit.now.sh/upload_images/47ea86e372d6b831991dd01e14d2e04564aaa66644aca.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　自動で　ネームスペースも調整してくれるのかな？」  

![202307_maui_09-2123--AppResources.png](https://crieit.now.sh/upload_images/2311669f7b860d49718a2a3b11deb55864aaa6db405db.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ファイル名も `Resources` から `AppResources` に変えたろ」  

![202307_maui_09-2330--Localization.png](https://crieit.now.sh/upload_images/c10c9472698797fab5c6a949a488cd4264aac4966ca49.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　`LocalizationResourceManager` クラスを真似して　自分用に設定」  

![202307_maui_09-2346--init-o2o0.png](https://crieit.now.sh/upload_images/cb1d7979ff646d7b4caf1360a6b3af3964aac8ed78817.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　アプリケーション起動直後に　文化を日本に設定。  
わたしが日本語しか確認しないから　日本がデフォルトでいいだろ」  

![202307_maui_09-2357--translate.png](https://crieit.now.sh/upload_images/1038abbbb5fef37dd0faed361eaf1d7064aacb0633447.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　`TranslateExtension` も真似て作り、自分に合わせて編集」  

![202307_maui_10-0002--instance-o2o0.png](https://crieit.now.sh/upload_images/4d161dfc3ff12c86cbe206b1aef1440364aacc30b09b8.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ビューのコード・ビハインド、つまり `ContentPage` の継承クラスには  
ローカライゼーション資源管理へのアクセッサ―を書いておくぜ」  

![202307_maui_10-0010--layoutTheScreen-o2o0.png](https://crieit.now.sh/upload_images/485d47b1572a4ce3aabdca90508b8f6c64aacdfa276e3.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　とりあえず　`AppResources.resx` へ、　１件だけ　文字列リソースを　記入するぜ」  

![202307_maui_10-0014--translate-o2o0.png](https://crieit.now.sh/upload_images/93d99fbf1f7a615d91376bea7b0af02a64aacf128f3b6.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　`MainPage.xaml` に `xmlns:app="～"` を追加し、  
Text プロパティへ `{app:Translate LayoutTheScreen}` と書いてみるぜ」  

![202307_maui_10-0017--home-o2o0.png](https://crieit.now.sh/upload_images/a7aafe5aa22df7945b9675615f85fc5464aacfa9a18c9.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　実行すると、文字列リソースが　使われているな」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　カルチャーを変更するドロップダウン・リストみたいなものが欲しいわねえ」  

## 外国語を入力してくれだぜ

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　試しに　英語と　中国語のリソースも　作ってみてくれだぜ」  

![202307_maui_10-0029--resxmanager-o2o0.png](https://crieit.now.sh/upload_images/1a70975edac8a28c1ec84549d94a37e964aad2d883c3b.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　`ResXManager` がインストール済みなのは確認できるんだが、  
どこから実行するんだぜ？」  

![202307_maui_10-0033--tool-resxmanager-o2o0.png](https://crieit.now.sh/upload_images/0961e44c7647157c97090ecb88cdf6f364aad3aa5f105.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　あっ、いた！」  

![202307_maui_10-0036--open-resxmanager.png](https://crieit.now.sh/upload_images/9138315a2e52338881fe383a1b99923a64aad40300c31.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ここまでくると　あとは　わかる」  

![202307_maui_10-0040--neutral-language-o2o0.png](https://crieit.now.sh/upload_images/f986007d0f27516e0d809241e6f3aa2d64aad55274deb.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ニュートラル・リソース・ランゲージを　英語から　日本語へ　変えるぜ。  
理由は　開発者が　わたし１人だから」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　悲しい話しだぜ」  

![202307_maui_10-0045--add-new-language-o2o0.png](https://crieit.now.sh/upload_images/084551d620cbb2512ed3e73e4ee42b0264aad659090b1.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　言語を追加するボタンがあるぜ」  

![202307_maui_10-0049--en-US-o2o0.png](https://crieit.now.sh/upload_images/17f6e29ad248f284a56b57c9ac28e05864aad72ed2885.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　とりあえず　イーエヌ・ユーエス（en-US；英語（米国））は　必須だろ」  

![202307_maui_10-0054--add-languages-o2o0.png](https://crieit.now.sh/upload_images/ad51a2ae899827fe7f0362e07bcf990a64aad87d63534.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　とりあえず　３つも足しておけば十分だろ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　アジアに寄ってんな」  

![202307_maui_10-0059--translation-o2o0.png](https://crieit.now.sh/upload_images/4e0a62f752473d3015723becb6ea783a64aad98e8314f.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ばばばっと　翻訳して　空いてるとこ　埋めてくれる機能があるから  
使おうぜ？」  

![202307_maui_10-0105--translation.png](https://crieit.now.sh/upload_images/7e5cdc05fc459da2cf83445a4df375d964aadb02b6a9e.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　なぜか　英語しか　対応してくれなかった。　寄付が足りないとか？」  

![202307_maui_10-0108--en-US-o2o0.png](https://crieit.now.sh/upload_images/b1958b50864443902e3e4dc5d5bf0e6b64aadbce7a575.png)  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👆　`AppResources.en-US.resx` ファイルが増えてるぜ」  

![202307_maui_10-0116--culture-o2o0.png](https://crieit.now.sh/upload_images/f36045b73827fa0b0edfdf7907a25c3964aadd8749195.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ＩＳＯ言語コードを変えると」  

![202307_maui_10-0118--us-o2o0.png](https://crieit.now.sh/upload_images/b4106d67b4d00b9fcbef7ac3889dbe5764aade0a9a462.png)  
![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　翻訳が完了だぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　📂 `Languages` フォルダーの中をサーチして、翻訳できる言語を調べて  
言語を選べるリスト・ボックスが欲しいわねえ」   

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　そのフォルダーに　アクセスする方法が　見当つかないんだが」  

![202307_maui_10-0138--resources-o2o0.png](https://crieit.now.sh/upload_images/ea0a041bef1204b5a682d3d3f001cd8664aae2d0906c9.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　実行環境を見にいってしまうので、開発環境のプロジェクト・フォルダーの中とか見れないのでは？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　👇　じゃあ　**ビルド前のイベント**　を書いたらいいんじゃない？」  

![202307_maui_10-0143--event-before-build-o2o0.png](https://crieit.now.sh/upload_images/7c9f2722698852d34f2af74db9a536b064aae3f49e81e.png)  

📖 [Pre build Events in Visual Studio](https://stackoverflow.com/questions/19267745/pre-build-events-in-visual-studio)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　そこで　ベッタリ　Windows　依存しそうだしな」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　じゃあ　ＩＳＯ言語コードは　ハード・コーディングかな」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　国旗って　フリー素材であるの？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　同じ問題に突き当たっている人がいるぜ」  

📖 [Is there a way to get a flag image from a C# CultureInfo?](https://stackoverflow.com/questions/27733705/is-there-a-way-to-get-a-flag-image-from-a-c-sharp-cultureinfo)  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　WPF で作った人はいるみたいだな」  

📖 [famfamfam-flags-wpf](https://github.com/point-platform/famfamfam-flags-wpf)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　こういう　センシティブな素材は　デジタル庁　が作って欲しいものだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　国旗は後回しにし、ＩＳＯ言語コードのドロップダウン・リストを  
ハードコーディングする方向で　次回　考えようぜ？」  

# 📅 （2023-07-10 mon）日本語か、英語かを選べるドロップダウン・リストボックスを置いてくれだぜ

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　日本語か、英語かを選べるドロップダウン・リストボックスを置いてくれだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　まず　MAUI　に　ドロップダウン・リストボックスがあるのかどうかも　分からないしな。  
調べないとな」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　マイクロソフトの記事、映像がなくて　どんな画面が出てくるのか　分からん」  

📖 [Microsoft　＞　Picker](https://learn.microsoft.com/en-us/dotnet/maui/user-interface/controls/picker)  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　👇　ユーチューブで探せばいいのよ」  

📺 [How To Create Custom Picker Control (Dropdown Button) In .NET MAUI](https://www.youtube.com/watch?v=fMB6LuEB-4o)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　作ってみるのが早いか」  

📖 [ピッカー](https://learn.microsoft.com/ja-jp/dotnet/maui/user-interface/controls/picker)  

![202307_maui_10-2234--picker-o2o0.png](https://crieit.now.sh/upload_images/3ce6c9e3b6a968258e49c70d20bd78ff64ac0935d773c.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　こう書けば」  

![202307_maui_10-2237--picker-appear-o2o0.png](https://crieit.now.sh/upload_images/e230ee2a7af437b4ac713655b9ea9b8d64ac09b301e77.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ドロップダウン・リストボックスが出てきて……」  

![202307_maui_10-2238--picker-select-o2o0.png](https://crieit.now.sh/upload_images/5db4effdd668dd4bc101fe77c18d93e864ac0a08e6db3.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　選べるぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　それが欲しかったのよ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　初期状態で　`ja-JP`　を選んでおいてくれだぜ」  

![202307_maui_10-2245--picker-initial-o2o0.png](https://crieit.now.sh/upload_images/24ece786c0c6b5177e02a95dba32420c64ac0bc16701a.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ピッカーに　最初に選択されている値を表示することは　できないぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　じゃあ、値が最初に選択されていることを　ピッカーでどう表現するんだぜ？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　マイクロソフトの社員の知能が欠如していて　それはできないぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　👇　初期値を表示するのって　HTML の Select タグの Option 要素の `Selected` 属性でも指定できるのに、  
MAUI で　何でできないの？」 

📖 [HTML <option> selected Attribute](https://www.w3schools.com/tags/att_option_selected.asp)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　マイクロソフトの社員が欠陥だからだぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　マイクロソフトの社員が欠陥だというところまでは　事実と認めましょう。  
それは置いておいて　わたしたちは　ピッカーに初期値を表示したいのよ。どうしたらいいのよ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ピッカーを使ってはいけないのでは？」  

![202307_maui_10-2259--loaded-o2o0.png](https://crieit.now.sh/upload_images/63a7aaa26e38a47d1200977b4b665c9864ac0ee9a7879.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　`ContentPage` 要素に `Loaded` 属性を追加して……」  

![202307_maui_10-2301--code-behind-o2o0.png](https://crieit.now.sh/upload_images/8722b79118cce5c71900814d6a6c8ce364ac0f5a79d6b.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　コード・ビハインドで `picker.SelectedItem = "ja-JP";` とでも書いておけば……」  

![202307_maui_10-2303--picker-initial-o2o0.png](https://crieit.now.sh/upload_images/295cfbb038d9e6d0c52ca4cc574493ad64ac0fcee9e01.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ページの表示完了時には　ピッカーで　`ja-JP`　が選択されている、という状態にできるぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　XAML だけでは　モックアップも作れないんだな」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　MVVM に対応できんの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　トップページは　MVVM　にまだ対応してないんで、これから対応させるぜ」  

（カタ　カタ　カタ　カタ）

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　あの　１．５日　ぐらい　工数かかったやつ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　でけた。　さっきのイベントハンドラも　コード・ビハインドも要らんかった。  
MVVM　だけでいけるぜ」  

![202307__maui__11-0117--translate.gif](https://crieit.now.sh/upload_images/abba981488671b08bc5cc6887acd6a7964ac2fc210aca.gif)  
![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　マイクロソフトの社員は欠陥じゃなかったんだな」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　まだ　首の皮一枚つながったぐらいだな」  

# 📅 （2023-07-10 mon）タイル・パレット編集画面も多言語化しなさいよ

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　タイル・パレット編集画面も多言語化しなさいよ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　あとから　多言語化しようとして　レイアウトの変更が必要になったりしたら　大変だしな」  

![202307__maui__11-1921--item-source-o2o0.png](https://crieit.now.sh/upload_images/8b148790199ca6c52545071bc98a835c64ad2d9f7dab7.png)  

[ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　この　アイテム・リソースも　ハード・コーディングじゃなくて  
どこかのファイルにまとめて、一元化したいんだが」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　`App.xaml` に　リソース・ディクショナリーを作って、それを読み込んだらどうだぜ？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　テンプレートは　リソースにできるが、　データは　リソースにできないんじゃないか？」  

📖 [データ テンプレート](https://learn.microsoft.com/ja-jp/dotnet/maui/fundamentals/datatemplate?view=net-maui-7.0)  
📖 [リソース ディクショナリ](https://learn.microsoft.com/ja-jp/dotnet/maui/fundamentals/resource-dictionaries?view=net-maui-7.0)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　`ItemSource` の使い方が分からん。調べても出てこないぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　この前の多言語化のときの　おっさんの　You Tube　に　なんか　まとまってんじゃないの？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　このおっさんは　MAUI を作ったチームの中の人らしいぜ」  

📺 [Gerald Versluis](https://www.youtube.com/@jfversluis)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ　その動画を　しばらく視聴する！」  

# 📅 （2023-07-11 tue）寝てた

Zzz  

# 📅 （2023-07-12 wed）動画観るか～

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　動画　観るか～」  

# 📅 （2023-07-13 thu）分かんね

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　英語で　何言ってるか　分かんないんだが」  

📺 [Monkey クラス作成](https://youtu.be/dlnNzjc7a60)  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　猿を１匹記録するクラスを作るんだけど、例が JSON なのよ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ　真似して　言語を１つ記録するクラスを作るかだぜ」  

![202307__maui__13-2019--languagesCSV-o2o0.png](https://crieit.now.sh/upload_images/a561ecf75fedbd0f2876ecf5384c7ca064afde255cbcf.png)  

```csv
Name,
ja-JP,
en-US,
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　📂 `Releases/Raw` フォルダーの中に 📄 `languages.csv` ファイルを作ろうぜ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　その１行に対応する `Language` クラスを 📂 `Models` フォルダーの下に作りましょう」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　なんか無駄臭いクラスだな……」  

![202307__maui__13-2030--languageBuffer-o2o0.png](https://crieit.now.sh/upload_images/d00de6ef32df8b5e51d865790f2d137064afe095c3419.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　プロパティ１個　置いとけばいいのかだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　C# に、 CSV をシリアライズする仕組みなんか　あるのかだぜ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　👇　人気があるのは　これかしらねえ？」  

📖 [CsvHelper](https://github.com/JoshClose/CsvHelper)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　使い方を覚えるか……」  

![202307__maui__13-2044--CsvHelper.png](https://crieit.now.sh/upload_images/16db599db8b9823d4923d64649e576be64afe3cab6e1e.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　NuGET でインストール」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　`Resources/Raw` フォルダーの中にあるファイルって　どうやって読取るんだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　調べろだぜ」  

📖 [Microsoft　＞　Bundled Files](https://learn.microsoft.com/en-us/dotnet/maui/platform-integration/storage/file-system-helpers?tabs=windows#bundled-files)  
📖 [Get Resources\Raw Path in .NET Maui](https://stackoverflow.com/questions/73374573/get-resources-raw-path-in-net-maui)  

![202307__maui__13-2118--csvProj-o2o0.png](https://crieit.now.sh/upload_images/c84687b7916658888a22a76db5e3d8b564afed344b9b8.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　`None` とか `Remove` って何だぜ？　無いことになってんの？」  

![202307__maui__13-2127--buildAction-o2o0.png](https://crieit.now.sh/upload_images/8b8012d9feaf9cde3d8f592f237f10d064afedf3691a5.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ビルド・アクションを何か変えたらいいのかだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　ビルド・アクションの説明はこれだが」  

📖 [Build actions](https://learn.microsoft.com/en-us/visualstudio/ide/build-actions?view=vs-2022)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　CSVファイルは　どう配置すりゃいいんだぜ？」  

![202307__maui__13-2214--copy-o2o0.png](https://crieit.now.sh/upload_images/ba670541df5d857f2fa5153eafc0b9c764aff8db6710c.png)  
![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　`出力ディレクトリーにコピー`　を　`新しい場合はコピーする`　に変えたら、何が起こるんだぜ？」  

![202307__maui__13-2223--output.png](https://crieit.now.sh/upload_images/25f3aa6bcf9f707a9e10f6f403faa31564affaee571da.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　なんで２つあるんだ？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　コピーをしなければ `bin` フォルダーの下に `languages.csv` はなく、コピーすると２つある」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　Visual Studio のコンフィグ・ファイルは無いの？  
インストール時に　作業ディレクトリーを設定できなければ、  
設定ファイルの置き場所も　定まらなくない？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　アプリケーション・フォルダーに置いてくれないのかだぜ？」  

## ItemSource 分からん

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ　いったん、言語のリストは　ハード・コーディングするものとしようぜ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　`ItemSource` って　何を設定できるの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　恐らく、ビューモデルの　変更通知プロパティじゃないか？」  

![202307__maui__13-2253--localeIdList-o2o0.png](https://crieit.now.sh/upload_images/83ca6072cc348d13955168c14d50efc664b0023e067d2.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　変更通知プロパティを　ふつうに作って」  

![202307__maui__13-2317--languagePicker-o2o0.png](https://crieit.now.sh/upload_images/20fc2b1f63dfe07f177e689b2cdbf2c964b007b66e603.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　`ItemSource` に　バインドすれば　うまくいくぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　どのページにも　言語ピッカー　を置きたいときは、  
どのページにも　`LanguageCollection`　変更通知プロパティーを作ることになるの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　そうじゃないか？」  

![202307__maui__13-2327--localeIdCollection-o2o0.png](https://crieit.now.sh/upload_images/6e331203deb69aaa1cd6a21804f9a78c64b00a0b4fff0.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ロケールＩｄのリストなんか　途中で変わらないだろ。  
セッターのないプロパティとして、グローバル変数のように利用できるように `App` クラスに定義しようぜ？」  

![202307__maui__13-2329--localeIdCollectionProperty-o2o0.png](https://crieit.now.sh/upload_images/34b641d87f8642b6d11b16d3651b28a164b00a98085c8.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　変更できない変更通知プロパティなら、グローバル変数を取得してても　不整合は起こらないだろ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　これを　ビューモデルに置きまくるのか」  

## 配色変更

![202307__maui__14-0022--color.png](https://crieit.now.sh/upload_images/d94466403f254cd4becc9453b870beb264b0172af2d9e.png)  
![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　テキストボックスの白が目立つように　配色を変更し、  
ロケールＩｄのピッカーを　右上に置いたぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　色を使いすぎてんじゃないの？　青だけでも３色もある」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　タイトルバーの色を　減らしてみるか……」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　MAUI のスタイルシート的なものは　どこにあんの？」  

![202307__maui__14-0035--style-o2o0.png](https://crieit.now.sh/upload_images/9fd3d12ba2fdf5731f88263d1f30261f64b01a0b82263.png)  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👆　📂 `Resources/Styles` フォルダーの下にあるぜ」  

![202307__maui__14-0052--style.png](https://crieit.now.sh/upload_images/8b11356442708784b9c0f99187be696364b01dce57f67.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　色の主張を　抑えたぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　テキストボックスの白と黒も　きつい　気がするのよね」  

![202307__maui__14-0121--colors.png](https://crieit.now.sh/upload_images/46bbc26edc2997249f618f78a768795764b024baec7da.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ダーク・モードのことを考えずに　いじってしまった。  
どこか　壊してしまったかも知れないが　分からない。  
勘弁しろだぜ」  

![202307__maui__14-0130--top-page-style.png](https://crieit.now.sh/upload_images/54f2a26c4fd4edc31e589d0406cec6e964b026c0ceea7.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　トップページの配色も　白が無くなるように　ゲインズボロ　という色をベースに敷いたが  
ダークモードにしたら　どうなるのか　知らん」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　もう寝ろ」  

# 📅 （2023-07-14 fri）登録済みタイルがどれか分かるようにしてくれだぜ

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　登録済みタイルがどれか分かるようにしてくれだぜ。　例えば……」  

![202307__maui__14-2002--selected-tiles.png](https://crieit.now.sh/upload_images/7d8071f7624a97c9a7f319d4e71d975164b12bccce94f.png)  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👆　こんなふうに」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　タイルは　重なって登録されることは　あるのかだぜ？　例えば……」  

![202307__maui__14-2006--selected-tiles.png](https://crieit.now.sh/upload_images/d0973b8bfcf19c8c50ee4a029de5a7cf64b12ce62eec6.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　上図　４～９」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　あるある。　タイル・セットは　それ自体が　パレットのような配置をしているのよ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　タイル・セットと　パレットは　意義を分けたいな……」  

![202307__maui__14-2014--selected-tile-atoms.png](https://crieit.now.sh/upload_images/350e067513a3901402142ff25e5f1bc864b12e6bc27cb.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ロジカルには　こうなるはず」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　上図の　７　を範囲選択するの　難しくない？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　ゲリマンダー（Gerrymander）みたいな形や、飛び地が必要かどうかも　洗い出したいぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ひとまず　矩形だけでいいのではないか？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ　被りは有りで　話しを進めるかだぜ」  

![202307__maui__14-2049--debug-o2o0.png](https://crieit.now.sh/upload_images/b5eeda681cc038fda3b56f258c81a0e964b136cc4348d.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　なんか　ファイルにいっぱい保存されているぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　同じ矩形を　何個も登録してるわねえ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ファイルのバリデーターを作るべきだが、とりあえず　手作業で直せだぜ」  

![202307__maui__14-2055--excel.png](https://crieit.now.sh/upload_images/fb388da32df07d9ca50f009b8d9ab3ba64b137d3ddf06.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　Excel で　CSVファイルを開いたら　文字化けしてるんだが……」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　BOM付きの UTF-8 じゃないと Shift-JIS と判定されてるわよ」  

![202307__maui__14-2058--excel-bom.png](https://crieit.now.sh/upload_images/d65a7f199b116097a0f23ea6bd6478c264b13868f1849.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　BOM 付きの UTF-8 にしたら　文字化けが直った！」  

![202307__maui__14-2101--excel-id.png](https://crieit.now.sh/upload_images/03b97a043d2a814b27d4d51776daf9de64b1392fc2678.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　こういう感じのデータを、エディター上で　どう表示するかだよな」  

## IDrawableインターフェース実装クラスの Draw関数にビューモデルからどうやって値を渡すんだぜ？

![202307__maui__14-2105--idrawable-o2o0.png](https://crieit.now.sh/upload_images/93a741b6886f828f36eb9b8c263e749764b13a8501fed.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　IDrawableインターフェース実装クラスの Draw関数にビューモデルからどうやって値を渡すんだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　これを読めだぜ」  

📖 [In .NET MAUI, how do I pass variables to a GraphicsView.Drawable in a ContentView](https://stackoverflow.com/questions/75988921/in-net-maui-how-do-i-pass-variables-to-a-graphicsview-drawable-in-a-contentvie)  
📖 [How to pass variable data into .NET MAUI GraphicsView canvas](https://stackoverflow.com/questions/73997548/how-to-pass-variable-data-into-net-maui-graphicsview-canvas)  

![202307__maui__14-2123--bindableProperty-o2o0.png](https://crieit.now.sh/upload_images/7f267f31f1eac286d9906f0bfdb7006264b13e830092e.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　なんだか分からないが　束縛可能プロパティ　の書き方のパターンを　なぞろうぜ」  

![202307__maui__14-2128--tile-set-drawing-o2o0.png](https://crieit.now.sh/upload_images/7b19a5d23a23ccbc6fe9c36e3b2a339164b13fb416675.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　さっきの IDrawing 実装クラスは、リソースとして　ContentPage　に読み込まれて……」  

![202307__maui__14-2131--graphics-view-o2o0.png](https://crieit.now.sh/upload_images/9f49fc4bc97e33ccafc593cc5a6363bb64b1403a6ff2c.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　GraphicsView 要素で使われているな」  

![202307__maui__14-2141--drawable-o2o0.png](https://crieit.now.sh/upload_images/38faac0a3ac4cb0d934e751d2236147864b142beee6c3.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　それを　いったん、こう書きかえるぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　これでいいなら　ビュー・モデルの変更通知プロパティを、  
IDrawable クラスの束縛可能プロパティに　渡すことができそうねえ」  

![202307__maui__14-2147--propertyChanged-o2o0.png](https://crieit.now.sh/upload_images/16af772099139d0b46ff32e68a019b6f64b144138b6c6.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ビュー・モデルに　変更通知プロパティを書いて……」  

![202307__maui__14-2149--view-binding-o2o0.png](https://crieit.now.sh/upload_images/cf476ad48ca59f95a0d4333b65cd92e364b144836cd1a.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ビューで　変更通知プロパティを束縛」  

![202307__maui__14-2151--binding-o2o0.png](https://crieit.now.sh/upload_images/04cc2113bd5592a48c5694f5b73c91a864b14516055e5.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　IDrawing 実装クラスは　束縛可能プロパティに値が入ってくるんで  
グローバル変数を１つ　取り除くことに成功だぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　IDrawing 実装クラスから　グローバル変数を取り除いていきましょう！」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　つら……」  

（カタ　カタ　カタ　カタ）  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　ヌル参照例外が出て　動かなくなった　つら……」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　さらに　まずいことに　線の太さが　０　になり、  
for 文で　横に　０　移動しながら　縦線を引く　無限ループに陥った……」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　束縛プロパティの初期化が始まる前に　Draw　メソッドが呼び出されているのでは？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　どっちが頭で　どっちが尻尾問題で、  
IDrawable 実装クラスのプロパティが、ビュー・モデルのプロパティーを上書きしてくることはないだろうか？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　`Way`　を指定したらいいんじゃないの？」  

![202307__maui__14-2328--sync-o2o0.png](https://crieit.now.sh/upload_images/64aba69ffa7b03a8e90583f7895ec1dc64b15bbdbb9f6.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　そもそも　変更通知が届いてないぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　グローバル変数が　いつ変更されたとか、ビューモデルには　分からないからな」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　グローバル変数を　使わないようにしたが、束縛プロパティが　渡せていないぜ」  

## 束縛プロパティを練習しようぜ？

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　`GraphicsView` の `Drawable` クラスの `Draw` 変数へ、プロパティを渡すだけのサンプル・プログラムを組んでみようぜ？」  

📖 [Git Hub　＞　Muzudho　＞　MAUI-BindableProperty-Practice](https://github.com/muzudho/MAUI-BindableProperty-Practice)  

![202307__maui__15-0157--practice.png](https://crieit.now.sh/upload_images/f3a2a0c4d42b71e8974ac497b0005b2264b17ead0a6bd.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　しばらく　練習するぜ」  

![202307__maui__15-0209--binding-o2o0.png](https://crieit.now.sh/upload_images/853a1facee910c2489e8cbc52825b12f64b181a85572c.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　`Binding` したら　動かないぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　`Bindable` なプロパティなのに `Binding` したら動かないなんてことが　あるのかしら？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　よく読んでくれだぜ」  

📖 [Bindable properties](https://learn.microsoft.com/en-us/dotnet/maui/fundamentals/bindable-properties)  

![202307__maui__15-0216--onBinding-o2o0.png](https://crieit.now.sh/upload_images/e7ff2c55980650203eec45ba5a69ae0c64b18328bb97d.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　確かに　変更前と、変更後の値を取れて　気が利くが、  
そういうの　自動でやってくれるわけじゃないのかだぜ？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　いや、取れてないぜ。 `Binding` したものは　取れてない」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　もっと調べろだぜ」  

📖 [Binding not working on custom BindableProperty](https://stackoverflow.com/questions/73691579/binding-not-working-on-custom-bindableproperty)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　`GraphicsView` はビュー・モデルを持ってないから `Simple30` を `Binding` しようとしても持ってないんで、  
親コンポーネントのビュー・モデルを指せ、ということらしい」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　どうやって」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　もっと調べろだぜ」  

📖 [.NET Maui Binding a contentview to parent ViewModel MVVM](https://stackoverflow.com/questions/75466143/net-maui-binding-a-contentview-to-parent-viewmodel-mvvm)  
📖 [ContentView](https://learn.microsoft.com/en-us/dotnet/maui/user-interface/controls/contentview?view=net-maui-7.0#define-the-ui)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　`ContentPage` 使ってるのに、 `ContentView` の説明されても　利用できないぜ」  

（カタ　カタ　カタ　カタ）  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　**よし、分かった！**」  

![202307__maui__15-0255--openBindingContext-o2o0.png](https://crieit.now.sh/upload_images/0d3a889a8f9621ec7aff99e57d533f1164b18c33cef22.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ビューの　コード・ビハインドに、  
バインディング・コンテキストを公開する　パブリック・メソッドを書くぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　そんなことをしていいのかだぜ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　ＭＶＶＭが　崩壊したんじゃないの？」  

![202307__maui__15-0258--contentPage-o2o0.png](https://crieit.now.sh/upload_images/b86bc30d935c15388b3b99958119f5af64b18cdc5e318.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ビューの　`ContentPage`　要素に、 `x:Name` 属性を付けて、その値を `thisContentPage` とでもしておくぜ」  

![202307__maui__15-0300--bindingContext-o2o0.png](https://crieit.now.sh/upload_images/e5bc40fa4ec82708b5047b6c6264e6ab64b18da19c950.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　これで　`MainPageVM`　プロパティが公開されてるんで、そのメンバーにアクセスできるぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　この記事の　２回目の　トリック・コードだな」  

![202307__maui__15-0304--viewModel.png](https://crieit.now.sh/upload_images/a71b79b9e16e64f1d94ae16b8a2722e764b18e52d03f4.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ViewModel はこんな感じ」  

![202307__maui__15-0305--drawLine.png](https://crieit.now.sh/upload_images/3e6c2d322833f685fd2f68778842006264b18e98573eb.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　線も引けてるぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　バインディング・コンテキストを公開しているのが　気になるなあ」  

![202307__maui__15-0325--bugFix.png](https://crieit.now.sh/upload_images/a244f851dcf824be2539f74fc67fc17464b1934ec2c45.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　グローバル変数を減らし、 BindableProperty　を使って　GraphicsCanvas の Drawable 属性のクラスの  
Draw メソッドに　プロパティ値を渡すことに成功したぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ViewModel を public にするのは心理的抵抗がある。  
公開するのは　interface　にして、プロパティだけ公開しろだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　かしこいな」  

# 📅 （2023-07-15 sat）タイル・セット上を矩形で塗りつぶしてくれだぜ

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　タイル・セット上を矩形で塗りつぶしてくれだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　キャンバスで描画するのか、画像オブジェクトでピクセルを直接描画するのがいいのか」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　インプレース（In-place）で　クロップ（Crop）と　コピー（Copy）を１ステップでできないと  
実行速度が遅くなるんじゃないの？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　画像は　`Microsoft.Maui.Graphics.IImage`　というインターフェースに抽象化されていて、  
とても　高速に画像を描画することを指向しておらず、  
マルチ・プラットフォームで一番性能の低いマシンで動くように考慮されてる護送船団方式の雰囲気を感じるぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　性能　上げたけりゃ　MAUI　なんか使うなだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　ぐぬぬぬぬ！」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　この　IImage　インスタンスは　あくまで　画像ファイルを指さしているだけで、  
描画をするときは　GraphicsCanvas　を使えという思想なのかもしれない」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　画面の描画前に　画像の前処理を　終わらせておきたいことなんて  
いっぱいあると思うのに  
キャンバスを用意してから　画像処理しなくちゃいけないのね」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　画像処理　したけりゃ　MAUI　なんか使うなだぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　ふむむむむ！」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ　画面上に　キャンバスを２層に重ねて表示することにして、  
元画像を下レイヤーに、作業用レイヤーを上レイヤーに置いて  
作業用レイヤーに　いろんな加工をしていくことにしようぜ？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　キャンバスの練習を先にしておいた方が　いいんじゃない？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　リポジトリ―は作っておいたぜ」  

📖 [GitHub　＞　Muzudho　＞　MAUI-IDrawable-Practice](https://github.com/muzudho/MAUI-IDrawable-Practice)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　変更通知プロパティを　バインディング　しただけでは  
`Draw` は呼び出されないのか」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　GraphicsView に `Draw` メソッドの呼び出しを要求するの、どうやればいい？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　読めだぜ」  

📖 [GraphicsView](https://learn.microsoft.com/ja-jp/dotnet/maui/user-interface/controls/graphicsview)  

![202307__maui__15-1635--graphicsView-o2o0.png](https://crieit.now.sh/upload_images/1d8ed24747e4c1be07f56b09912b1dbe64b24c74b4cc5.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　GraphicsView 要素に `x:Name` 属性を使って名前を付けて……」  

![202307__maui__15-1637--Invalidate-o2o0.png](https://crieit.now.sh/upload_images/09c42f57d55a9e8b2f12484a85e5c2b664b24cf13ed93.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　コード・ビハインドで　GraphicsView 要素の　`Invalidate( )`　メソッドを呼び出せば　いいわけかだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　ビューモデルで　`Invalidate( )`　メソッドは呼び出せないのかだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　画面の更新は　ビューモデルの仕事では　無いのでは」  

![202307__maui__15-1651--Drawing.png](https://crieit.now.sh/upload_images/06fa6bf19f71046f426dc1af9a51265e64b25023bd677.png)  
![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　よっしゃ　２Ｄ描画にも　慣れてきたぜ」  

## １つのキャンバスで何でも描画するのと、複数のキャンバスに分けるの、どっちが得？

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　お父んは　タイル・カーソルと　グリッドと　タイル・セット画像を　分けて　置いているが、  
そのようにするのと、１つのキャンバスの上に全部描くのとでは、どっちが得なんだぜ？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　何も考えなければ　１つのキャンバスの上に全部描くのが　お得だぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　グリッドを分けた理由は？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　グリッドは　ヴィジブル（Visible；可視性）を　オン・オフ　したいときがあるだろ。  
フラグ１個だけで　できるというメリットを生かしたい」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ライフ・サイクルに似た考え方か」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　じゃあ　カラード・マップ（Colored Map）のキャンバスも　１つ用意したいわねえ」  

## Draw が呼び出されるのが Loaded より早い

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　`GraphicsView` の初期設定をする前に `Draw` が呼び出されているぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　イベントの呼び出し順序の話しは　書いてないなあ」  

📖 [グラフィカル オブジェクトを描画する](https://learn.microsoft.com/ja-jp/dotnet/maui/user-interface/graphics/draw)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　あっ、違うぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　束縛プロパティの　返り値の型の指定を　間違えていた」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　設定ミスは　エラー・メッセージを出してくれないからなあ」  

![202307__maui__15-1826--GrayRectangle.png](https://crieit.now.sh/upload_images/378cf40a3e682c726d0c15e43f40acf164b26651d31bc.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　薄いグレーを被せてみたが、  
どうやっても　視認性が悪くならないか？」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　もとの画像の　明度を下げてみたら？」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　明度を下げるとか　上げるとか　説明無いぜ？」  

📖 [Microsoft　＞　Image](https://learn.microsoft.com/en-us/dotnet/maui/user-interface/controls/image)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　ピクセルに　アクセスする手段　無いの？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　スキア・シャープ（Skia Sharp）というものが　あるそうだぜ？」  

📖 [.Net Maui - Create ImageSource from pixel data](https://stackoverflow.com/questions/73925906/net-maui-create-imagesource-from-pixel-data)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　何だぜ　それ　まだまだ勉強か……」  

## SkiaSharp を調べようぜ？

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　リポジトリは作っておいたぜ、勉強しろ」  

📖 [GitHub　＞　Muzudho　＞　MAUI-SkiaSharp-Practice](https://github.com/muzudho/MAUI-SkiaSharp-Practice)  

![202307__maui__15-1917--SkiaSharp.png](https://crieit.now.sh/upload_images/cfbfe1b2a3377106f93cfd9a394cb5e264b2726c60505.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　とりあえず　`SkiaSharp`　をインストールするか」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　スキア・シャープの使い方の説明が無いぜ」  

📖 [GitHub　＞　SkiaSharp](https://github.com/mono/SkiaSharp)  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　サンプル・プログラムを直接読めだぜ」  

📖 [SkiaSharp/samples/Basic/Maui/SkiaSharpSample/MainPage.xaml.cs](https://github.com/mono/SkiaSharp/blob/main/samples/Basic/Maui/SkiaSharpSample/MainPage.xaml.cs)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　GraphicsView じゃないんだ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　画像処理っぽいことしてるが、学習コストが高そうだ」  

📖 [Understanding SkiaSharp and Maui Coordinates](https://stackoverflow.com/questions/75625039/understanding-skiasharp-and-maui-coordinates)  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　ここに　ピクセル単位でのアクセスの仕方が書いてあるのでは？」  

📖 [SkiaSharp ビットマップ ピクセル ビットへのアクセス](https://learn.microsoft.com/ja-jp/xamarin/xamarin-forms/user-interface/graphics/skiasharp/bitmaps/pixel-bits)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　**まあ、午前中に独習してきた GraphicsView は使わないというのは　分かったが……**」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　将来的にやろうとしていることを考えると、　`GraphicsView`　では限界がくるんじゃない？」  

![202307__maui__15-1950--SkiaSharpViews.png](https://crieit.now.sh/upload_images/52bd1b578a12dd78106f1563269b2e6b64b27a18e5e87.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　`SkiaSharp.Views.Maui.Controls`　をインストールしてみようぜ？」  

![202307__maui__15-1956--namespace-o2o0.png](https://crieit.now.sh/upload_images/8616a34a676b5b9e2bb9ec33eb260a1964b27b85ea517.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　xml の namespace として  
`xmlns:skia="clr-namespace:SkiaSharp.Views.Maui.Controls;assembly=SkiaSharp.Views.Maui.Controls"`  
を書き足すぜ」  

![202307__maui__15-2009--skCanvasView--o2o0.png](https://crieit.now.sh/upload_images/64a30596cc47acee4c6ca591d8417dfe64b27ea57027b.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　これで　`skia:SKCanvasView`　を使えるようになったはずだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　使えなかった。エラーが出た」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　👇　`SkiaSharp.Views.Maui.Core`　はインストールしてんの？」  

📖 [SkiaSharp.Views.Maui.Core](https://www.nuget.org/packages/SkiaSharp.Views.Maui.Core/)  

![202307__maui__15-2050--skiaSharpViews.png](https://crieit.now.sh/upload_images/823ae76b0e1f3af321b78730157686cc64b2883b9111e.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　どれをインストールすりゃいいのか　分からんな」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　コマンドラインからやってみるか」  

📖 [SkiaSharp.Views.Maui.Core](https://www.nuget.org/packages/SkiaSharp.Views.Maui.Core/)  

```shell
dotnet add package SkiaSharp.Views.Maui.Core --version 2.88.3
```

![202307__maui__15-2112--command-o2o0.png](https://crieit.now.sh/upload_images/ba561d117bb3f230187bf5542de6aac664b28dcb8891a.png)  

![202307__maui__15-2115--mojibake.png](https://crieit.now.sh/upload_images/59072cfe07195418bab0da360725326064b28dfbdb72e.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　なぜ文字化けする？」  

## .NET Core の文字化けに対応しろ

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　ダメ元で　試してみるか」  

📖 [.NET Coreのコンソールで日本語が文字化けする](https://kagasu.hatenablog.com/entry/2016/12/07/004813)  

```cs
		// NuGET のパッケージ・マネージャー・コンソールの文字化けに対応を期待したが効果なし
		Encoding.RegisterProvider(CodePagesEncodingProvider.Instance);
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ダメだった」  

📖 [パッケージマネジャコンソールにおける dotnet コマンド出力の文字化け](https://social.msdn.microsoft.com/Forums/ja-JP/a549136a-21cf-49f2-86b9-f1f08c6beec5/12497124831246512540124721251012493124721251512467125311247712?forum=vsgeneralja)  

```
dotnet --help
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ヘルプも文字化けしている」  

```
PM> chcp
現在のコード ページ: 932
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　マイクロソフトの S-JIS ではダメだ」  

```
PM> chcp 65001
Active code page: 65001
```

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　コードページを　65001　に変えたったが　ダメだ」  

## マイクロソフトのスキアを入れてみようぜ？

![202307__maui__15-2137--microsoftMauiGrahicsSkia.png](https://crieit.now.sh/upload_images/66438fe70ba4b27ef88c9a65c64556ac64b293499ec5f.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　方法も無いし、　`Microsoft.Maui.Graphics.Skia`　でもインストールしてみようぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　もう　思考が停止してるの　わらう」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　インストールしたところで　何も起こらん」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　思考をしなさい！」  

## キャンバスではなく、イメージの方を調べようぜ？

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　描画回りは　対応が遅れてるのかも知らん」  

📖 [.NET MAUIによるクロスプラットフォーム2D描画(その1)](https://qreat.tech/2042/)  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　MAUI は SkiaSharp をベースに使ってるんだろう」

📖 [SkiaCanvas Class](https://learn.microsoft.com/en-us/dotnet/api/microsoft.maui.graphics.skia.skiacanvas?view=net-maui-7.0)  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　👇　キャンバスではなく、イメージの方に　ピクセルにアクセスするメソッドがあるんじゃないの？」  

📖 [SkiaImage Class](https://learn.microsoft.com/en-us/dotnet/api/microsoft.maui.graphics.skia.skiaimage?view=net-maui-7.0)  

![202307__maui__15-2205--asBytes.png](https://crieit.now.sh/upload_images/5dfa99858b8dfc9ef317c07811c3f95964b299b816a85.png)

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　イメージは　バイトに分解できるのか」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　じゃあ　バイトは　イメージに　構成できるのかだぜ？」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　👇　調べろだぜ」  

📖 [ByteArrayToImageSourceConverter](https://learn.microsoft.com/en-us/dotnet/communitytoolkit/maui/converters/byte-array-to-image-source-converter)  
📖 [MAUI: How to draw image from byte[] on MAUI](https://stackoverflow.com/questions/75482399/maui-how-to-draw-image-from-byte-on-maui)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　画像は　バイトに分解できるけど、　バイトは　画像に構成できないのか」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　👇　じゃあ　バイト配列を　直に　PNG画像として出力すればいいんじゃないの？」  

📖 [Create a PNG from an array of bytes](https://stackoverflow.com/questions/32203347/create-a-png-from-an-array-of-bytes)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　ファイルの書出しと　読込みたいな　重い処理やるんだったら　なんのための画像処理か　分からんが……」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　MAUI で画像処理しようとするのが　間違いなのでは？」  

## アホな記事ばかり

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👇　公式の記事を　なぞってるだけじゃないか。アマチュアのコピー記事が」  

📖 [Handling Images With .NET MAUI Graphics](https://www.telerik.com/blogs/handling-images-dotnet-maui-graphics)  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　真実に対して　怒るなだぜ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　明度を下げたいとか、特定の色だけを抽出したいとか、そういう知能はないのかだぜ、記事を書くやつは？  
知能だけではない　意志も無い。  
インターネット上のアマチュア記事は　公式のダウングレードばかり　情報を増やさない。  
筆を折れだぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　スキアシャープのエラーを取るしかなくない？」  

## 再び SkiaSharp を調べようぜ？

![202307__maui__15-2245--skia.png](https://crieit.now.sh/upload_images/e7670c8fe3ee863ce2710245406f39e264b2a3621ccf8.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　とりあえず、NuGET で　正しい　SkiaSharp　をパッケージ単位でダウンロードして  
アセンブリを使えるようにするところからだぜ」  

![202307__maui__15-2257--skiaSharp.png](https://crieit.now.sh/upload_images/a0767f95d8cffe4e63a33061becfde4564b2a5d331a71.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　だから　この　`SkiaSharp`　パッケージを入れておくだけで　充分なはずなんだが」  

![202307__maui__15-2259--skiaSharpError.png](https://crieit.now.sh/upload_images/1311b5f2a6c406a0b6e5c14a48f5081464b2a66727c33.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　だから　この　`SkiaSharp`　に　`SkiaSharp.Views`　は入ってないようだぜ」  

![202307__maui__15-2301--skiaSharpViews.png](https://crieit.now.sh/upload_images/02f6b5ca15b207423ac0432eb6e42c0564b2a6f0603a2.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　`SkiaSharp.Views`　パッケージもインストールしてみるかだぜ」  

![202307__maui__15-2303--skiaSharpViewsMaui.png](https://crieit.now.sh/upload_images/ce952f97e216d59a341e68d6bdee5b6f64b2a73b86064.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　だから　この　`SkiaSharp.Views`　には　`SkiaSharp.Views.Maui`　は入ってないようだぜ」  

![202307__maui__15-2305--skiaSharpViewsMauiCore.png](https://crieit.now.sh/upload_images/581e5969324ad116c87ae1fe9ee4cc7164b2a7d997d02.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　似たような名前のパッケージが並んでいて困るが  
とりあえず　`SkiaSharp.Views.Maui.Core`　パッケージを　インストールしてみるかだぜ」  

![202307__maui__15-2307--skiaSharpViewsMauiCoreError.png](https://crieit.now.sh/upload_images/15acd12cb408685a6fa8238ff7cea52d64b2a83adf46d.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　`SkiaSharp.Views.Maui.Core`　には　`SkiaSharp.Views.Maui.Controls`　は入ってないようだぜ」  

![202307__maui__15-2308--skiaSharpViewsMauiControl.png](https://crieit.now.sh/upload_images/53bafb637d02e4250a530b804d77e64064b2a89213d98.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　じゃあ　`SkiaSharp.Views.Maui.Controls`　パッケージを　インストールしてみるかだぜ」  

![202307__maui__15-2310--build.png](https://crieit.now.sh/upload_images/43704a877fb888a3d46ce23ca147311264b2a8d91aafd.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　ビルドは通ったぜ」  

![202307__maui__15-2311--run-error.png](https://crieit.now.sh/upload_images/ae02c80014bc0d1c460b02b7476d2a7e64b2a9270a6d3.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　実行すると　立ち上がる前にエラー」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　その理由を調べなさいよ」  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　`UnhandledException`　というのは　ライブラリが　例外が起こっているのにキャッチせずに終了したということだぜ」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　だから、その理由」  

![202307__maui__15-2315--catastrophic-failure.png](https://crieit.now.sh/upload_images/cf2c740bc410f4ea23a7aacfdb2ab20364b2aa3d7b257.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　カタストロフィック（Catastrophic；大災害的）な　フェイラー（Failure；失敗）だぜ」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　なんのことだが　分からんな……」  

![ohkina-hiyoko-futsu2.png](https://crieit.now.sh/upload_images/96fb09724c3ce40ee0861a0fd1da563d61daf8a09d9bc.png)  
「　👇　同じ不具合に突き当たっている人がいるわよ」  

📖 [[BUG] MAUI: SKCanvasView crash, unable to display SKBitmap directly #2139](https://github.com/mono/SkiaSharp/issues/2139)  

![202307__maui__15-2325--help.png](https://crieit.now.sh/upload_images/d154ab4f79ebdd771797b1edd3e8f85f64b2ac8a70cd3.png)  

![202307__maui__15-2329--builder-o2o0.png](https://crieit.now.sh/upload_images/b25e2a5347965cd4dfeaa7d0c88d5c6464b2ada31d755.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　どこにも説明が無いが　謎のコードを書き……」  

![202307__maui__15-2334--run.png](https://crieit.now.sh/upload_images/ee117e23ce433867136284430c63940864b2ae9b5daba.png)  

![ramen-tabero-futsu2.png](https://crieit.now.sh/upload_images/d27ea8dcfad541918d9094b9aed83e7d61daf8532bbbe.png)  
「　👆　実行するとこまでは　イケた」  

![kifuwarabe-futsu.png](https://crieit.now.sh/upload_images/beaf94b260ae2602ca8cf7f5bbc769c261daf8686dbda.png)  
「　ようやく　画像処理のスタートラインに経ったな」  

＜書きかけ＞